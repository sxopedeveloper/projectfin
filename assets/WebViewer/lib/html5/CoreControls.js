(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?(this._wrapped=n,void 0):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&(module.exports&&(exports=module.exports=j)),exports._=
j):n._=j,j.VERSION="1.5.2";var A=j.each=j.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length)for(var u=0,i=n.length;i>u;u++){if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var E="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=
function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(E);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,
n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(E);return r},j.find=j.detect=function(n,t,r){var e;return O(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,
e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var O=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:O(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,
t){return j.map(n,function(n){return n[t]})},j.where=function(n,t,r){return j.isEmpty(t)?r?void 0:[]:j[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},j.findWhere=function(n,t){return j.where(n,t,!0)},j.max=function(n,t,r){if(!t&&(j.isArray(n)&&(n[0]===+n[0]&&n.length<65535)))return Math.max.apply(Math,n);if(!t&&j.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),
e.value},j.min=function(n,t,r){if(!t&&(j.isArray(n)&&(n[0]===+n[0]&&n.length<65535)))return Math.min.apply(Math,n);if(!t&&j.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return arguments.length<2||r?n[j.random(n.length-1)]:j.shuffle(n).slice(0,Math.max(0,t))};var k=
function(n){return j.isFunction(n)?n:function(t){return t[n]}};j.sortBy=function(n,t,r){var e=k(t);return j.pluck(j.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={},i=null==r?j.identity:k(r);return A(t,function(r,a){var o=i.call(e,r,a,t);n(u,o,r)}),u}};j.groupBy=F(function(n,t,
r){(j.has(n,t)?n[t]:n[t]=[]).push(r)}),j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=null==r?j.identity:k(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,
t,r){return null==n?void 0:null==t||r?n[0]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),
r)};j.flatten=function(n,t){return M(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.indexOf(t,
n)>=0})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,
t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};
j.bind=function(n,t){var r,e;if(_&&n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},j.bindAll=function(n){var t=
o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,
r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,u)};return function(){var l=new Date;o||(r.leading!==!1||(o=l));var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||(r.trailing===!1||(a=setTimeout(c,f))),i}},j.debounce=function(n,t,r){var e,u,i,a,o;return function(){i=this,u=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(c,
t)),l&&(o=n.apply(i,u)),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return function(){var r=[n];return a.apply(r,arguments),t.apply(this,r)}},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=w||function(n){if(n!==Object(n))throw new TypeError("Invalid object");
var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,
1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),
n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case "[object String]":return n==String(t);case "[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case "[object Date]":case "[object Boolean]":return+n==+t;case "[object RegExp]":return n.source==t.source&&(n.global==t.global&&(n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase))}if("object"!=
typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&(a instanceof a&&(j.isFunction(o)&&o instanceof o))))return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,
t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||
!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||(n===!1||"[object Boolean]"==l.call(n))},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.times=
function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=j.invert(I.escape);var T={escape:new RegExp("["+j.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(I.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(T[n],
function(t){return I[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r",
"\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),
i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o;}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push",
"reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||(0!==r.length||delete r[0]),z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);(function(){var h=this,p=h.Backbone,e;e=typeof exports!=="undefined"?exports:h.Backbone={};e.VERSION="0.5.1";var f=h._;if(!f&&typeof require!=="undefined")f=require("underscore")._;var g=h.jQuery||h.Zepto;e.noConflict=function(){h.Backbone=p;return this};e.emulateHTTP=!1;e.emulateJSON=!1;e.Events={bind:function(a,b){var c=this._callbacks||(this._callbacks={});(c[a]||(c[a]=[])).push(b);return this},unbind:function(a,b){var c;if(a){if(c=this._callbacks)if(b){c=c[a];if(!c)return this;for(var d=0,e=c.length;d<
e;d++)if(b===c[d]){c[d]=null;break}}else c[a]=[]}else this._callbacks={};return this},trigger:function(a){var b,c,d,e,f=2;if(!(c=this._callbacks))return this;for(;f--;)if(b=f?a:"all",b=c[b])for(var g=0,h=b.length;g<h;g++)(d=b[g])?(e=f?Array.prototype.slice.call(arguments,1):arguments,d.apply(this,e)):(b.splice(g,1),g--,h--);return this}};e.Model=function(a,b){var c;a||(a={});if(c=this.defaults)f.isFunction(c)&&(c=c()),a=f.extend({},c,a);this.attributes={};this._escapedAttributes={};this.cid=f.uniqueId("c");
this.set(a,{silent:!0});this._changed=!1;this._previousAttributes=f.clone(this.attributes);if(b&&b.collection)this.collection=b.collection;this.initialize(a,b)};f.extend(e.Model.prototype,e.Events,{_previousAttributes:null,_changed:!1,idAttribute:"id",initialize:function(){},toJSON:function(){return f.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;if(b=this._escapedAttributes[a])return b;b=this.attributes[a];return this._escapedAttributes[a]=(b==null?"":
""+b).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27").replace(/\//g,"&#x2F;")},has:function(a){return this.attributes[a]!=null},set:function(a,b){b||(b={});if(!a)return this;if(a.attributes)a=a.attributes;var c=this.attributes,d=this._escapedAttributes;if(!b.silent&&(this.validate&&!this._performValidation(a,b)))return!1;if(this.idAttribute in a)this.id=a[this.idAttribute];var e=this._changing;this._changing=!0;
for(var g in a){var h=a[g];if(!f.isEqual(c[g],h))c[g]=h,delete d[g],this._changed=!0,b.silent||this.trigger("change:"+g,this,h,b)}!e&&(!b.silent&&(this._changed&&this.change(b)));this._changing=!1;return this},unset:function(a,b){if(!(a in this.attributes))return this;b||(b={});var c={};c[a]=void 0;if(!b.silent&&(this.validate&&!this._performValidation(c,b)))return!1;delete this.attributes[a];delete this._escapedAttributes[a];a==this.idAttribute&&delete this.id;this._changed=!0;b.silent||(this.trigger("change:"+
a,this,void 0,b),this.change(b));return this},clear:function(a){a||(a={});var b,c=this.attributes,d={};for(b in c)d[b]=void 0;if(!a.silent&&(this.validate&&!this._performValidation(d,a)))return!1;this.attributes={};this._escapedAttributes={};this._changed=!0;if(!a.silent){for(b in c)this.trigger("change:"+b,this,void 0,a);this.change(a)}return this},fetch:function(a){a||(a={});var b=this,c=a.success;a.success=function(d,e,f){if(!b.set(b.parse(d,f),a))return!1;c&&c(b,d)};a.error=i(a.error,b,a);return(this.sync||
e.sync).call(this,"read",this,a)},save:function(a,b){b||(b={});if(a&&!this.set(a,b))return!1;var c=this,d=b.success;b.success=function(a,e,f){if(!c.set(c.parse(a,f),b))return!1;d&&d(c,a,f)};b.error=i(b.error,c,b);var f=this.isNew()?"create":"update";return(this.sync||e.sync).call(this,f,this,b)},destroy:function(a){a||(a={});if(this.isNew())return this.trigger("destroy",this,this.collection,a);var b=this,c=a.success;a.success=function(d){b.trigger("destroy",b,b.collection,a);c&&c(b,d)};a.error=i(a.error,
b,a);return(this.sync||e.sync).call(this,"delete",this,a)},url:function(){var a=k(this.collection)||(this.urlRoot||l());if(this.isNew())return a;return a+(a.charAt(a.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this)},isNew:function(){return this.id==null},change:function(a){this.trigger("change",this,a);this._previousAttributes=f.clone(this.attributes);this._changed=!1},hasChanged:function(a){if(a)return this._previousAttributes[a]!=
this.attributes[a];return this._changed},changedAttributes:function(a){a||(a=this.attributes);var b=this._previousAttributes,c=!1,d;for(d in a)f.isEqual(b[d],a[d])||(c=c||{},c[d]=a[d]);return c},previous:function(a){if(!a||!this._previousAttributes)return null;return this._previousAttributes[a]},previousAttributes:function(){return f.clone(this._previousAttributes)},_performValidation:function(a,b){var c=this.validate(a);if(c)return b.error?b.error(this,c,b):this.trigger("error",this,c,b),!1;return!0}});
e.Collection=function(a,b){b||(b={});if(b.comparator)this.comparator=b.comparator;f.bindAll(this,"_onModelEvent","_removeReference");this._reset();a&&this.reset(a,{silent:!0});this.initialize.apply(this,arguments)};f.extend(e.Collection.prototype,e.Events,{model:e.Model,initialize:function(){},toJSON:function(){return this.map(function(a){return a.toJSON()})},add:function(a,b){if(f.isArray(a))for(var c=0,d=a.length;c<d;c++)this._add(a[c],b);else this._add(a,b);return this},remove:function(a,b){if(f.isArray(a))for(var c=
0,d=a.length;c<d;c++)this._remove(a[c],b);else this._remove(a,b);return this},get:function(a){if(a==null)return null;return this._byId[a.id!=null?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},sort:function(a){a||(a={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");this.models=this.sortBy(this.comparator);a.silent||this.trigger("reset",this,a);return this},pluck:function(a){return f.map(this.models,function(b){return b.get(a)})},
reset:function(a,b){a||(a=[]);b||(b={});this.each(this._removeReference);this._reset();this.add(a,{silent:!0});b.silent||this.trigger("reset",this,b);return this},fetch:function(a){a||(a={});var b=this,c=a.success;a.success=function(d,f,e){b[a.add?"add":"reset"](b.parse(d,e),a);c&&c(b,d)};a.error=i(a.error,b,a);return(this.sync||e.sync).call(this,"read",this,a)},create:function(a,b){var c=this;b||(b={});a=this._prepareModel(a,b);if(!a)return!1;var d=b.success;b.success=function(a,e,f){c.add(a,b);
d&&d(a,e,f)};a.save(null,b);return a},parse:function(a){return a},chain:function(){return f(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(a,b){if(a instanceof e.Model){if(!a.collection)a.collection=this}else{var c=a;a=new this.model(c,{collection:this});a.validate&&(!a._performValidation(c,b)&&(a=!1))}return a},_add:function(a,b){b||(b={});a=this._prepareModel(a,b);if(!a)return!1;var c=this.getByCid(a)||this.get(a);if(c)throw Error(["Can't add the same model to a set twice",
c.id]);this._byId[a.id]=a;this._byCid[a.cid]=a;this.models.splice(b.at!=null?b.at:this.comparator?this.sortedIndex(a,this.comparator):this.length,0,a);a.bind("all",this._onModelEvent);this.length++;b.silent||a.trigger("add",a,this,b);return a},_remove:function(a,b){b||(b={});a=this.getByCid(a)||this.get(a);if(!a)return null;delete this._byId[a.id];delete this._byCid[a.cid];this.models.splice(this.indexOf(a),1);this.length--;b.silent||a.trigger("remove",a,this,b);this._removeReference(a);return a},
_removeReference:function(a){this==a.collection&&delete a.collection;a.unbind("all",this._onModelEvent)},_onModelEvent:function(a,b,c,d){(a=="add"||a=="remove")&&c!=this||(a=="destroy"&&this._remove(b,d),b&&(a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});f.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max",
"min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty"],function(a){e.Collection.prototype[a]=function(){return f[a].apply(f,[this.models].concat(f.toArray(arguments)))}});e.Router=function(a){a||(a={});if(a.routes)this.routes=a.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var q=/:([\w\d]+)/g,r=/\*([\w\d]+)/g,s=/[-[\]{}()+?.,\\^$|#\s]/g;f.extend(e.Router.prototype,e.Events,{initialize:function(){},route:function(a,b,c){e.history||
(e.history=new e.History);f.isRegExp(a)||(a=this._routeToRegExp(a));e.history.route(a,f.bind(function(d){d=this._extractParameters(a,d);c.apply(this,d);this.trigger.apply(this,["route:"+b].concat(d))},this))},navigate:function(a,b){e.history.navigate(a,b)},_bindRoutes:function(){if(this.routes){var a=[],b;for(b in this.routes)a.unshift([b,this.routes[b]]);b=0;for(var c=a.length;b<c;b++)this.route(a[b][0],a[b][1],this[a[b][1]])}},_routeToRegExp:function(a){a=a.replace(s,"\\$&").replace(q,"([^/]*)").replace(r,
"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});e.History=function(){this.handlers=[];f.bindAll(this,"checkUrl")};var j=/^#*/,t=/msie [\w.]+/,m=!1;f.extend(e.History.prototype,{interval:50,getFragment:function(a,b){if(a==null)if(this._hasPushState||b){a=window.location.pathname;var c=window.location.search;c&&(a+=c);a.indexOf(this.options.root)==0&&(a=a.substr(this.options.root.length))}else a=window.location.hash;return a.replace(j,"")},start:function(a){if(m)throw Error("Backbone.history has already been started");
this.options=f.extend({},{root:"/"},this.options,a);this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||(!window.history||!window.history.pushState));a=this.getFragment();var b=document.documentMode;if(b=t.exec(navigator.userAgent.toLowerCase())&&(!b||b<=7))this.iframe=g('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a);this._hasPushState?g(window).bind("popstate",this.checkUrl):"onhashchange"in window&&
!b?g(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval);this.fragment=a;m=!0;a=window.location;b=a.pathname==this.options.root;if(this._wantsPushState&&(!this._hasPushState&&!b))this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment);else if(this._wantsPushState&&(this._hasPushState&&(b&&a.hash)))this.fragment=a.hash.replace(j,""),window.history.replaceState({},document.title,a.protocol+"//"+a.host+this.options.root+this.fragment);
return this.loadUrl()},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a==this.fragment&&(this.iframe&&(a=this.getFragment(this.iframe.location.hash)));if(a==this.fragment||a==decodeURIComponent(this.fragment))return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return f.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),
!0})},navigate:function(a,b){var c=(a||"").replace(j,"");if(!(this.fragment==c||this.fragment==decodeURIComponent(c))){if(this._hasPushState){var d=window.location;c.indexOf(this.options.root)!=0&&(c=this.options.root+c);this.fragment=c;window.history.pushState({},document.title,d.protocol+"//"+d.host+c)}else if(window.location.hash=this.fragment=c,this.iframe&&c!=this.getFragment(this.iframe.location.hash))this.iframe.document.open().close(),this.iframe.location.hash=c;b&&this.loadUrl(a)}}});e.View=
function(a){this.cid=f.uniqueId("view");this._configure(a||{});this._ensureElement();this.delegateEvents();this.initialize.apply(this,arguments)};var u=/^(\S+)\s*(.*)$/,n=["model","collection","el","id","attributes","className","tagName"];f.extend(e.View.prototype,e.Events,{tagName:"div",$:function(a){return g(a,this.el)},initialize:function(){},render:function(){return this},remove:function(){g(this.el).remove();return this},make:function(a,b,c){a=document.createElement(a);b&&g(a).attr(b);c&&g(a).html(c);
return a},delegateEvents:function(a){if(a||(a=this.events))for(var b in g(this.el).unbind(".delegateEvents"+this.cid),a){var c=this[a[b]];if(!c)throw Error('Event "'+a[b]+'" does not exist');var d=b.match(u),e=d[1];d=d[2];c=f.bind(c,this);e+=".delegateEvents"+this.cid;d===""?g(this.el).bind(e,c):g(this.el).delegate(d,e,c)}},_configure:function(a){this.options&&(a=f.extend({},this.options,a));for(var b=0,c=n.length;b<c;b++){var d=n[b];a[d]&&(this[d]=a[d])}this.options=a},_ensureElement:function(){if(this.el){if(f.isString(this.el))this.el=
g(this.el).get(0)}else{var a=this.attributes||{};if(this.id)a.id=this.id;if(this.className)a["class"]=this.className;this.el=this.make(this.tagName,a)}}});e.Model.extend=e.Collection.extend=e.Router.extend=e.View.extend=function(a,b){var c=v(this,a,b);c.extend=this.extend;return c};var w={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(a,b,c){var d=w[a];c=f.extend({type:d,dataType:"json",processData:!1},c);if(!c.url)c.url=k(b)||l();if(!c.data&&(b&&(a=="create"||a=="update")))c.contentType=
"application/json",c.data=JSON.stringify(b.toJSON());if(e.emulateJSON)c.contentType="application/x-www-form-urlencoded",c.processData=!0,c.data=c.data?{model:c.data}:{};if(e.emulateHTTP&&(d==="PUT"||d==="DELETE")){if(e.emulateJSON)c.data._method=d;c.type="POST";c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d)}}return g.ajax(c)};var o=function(){},v=function(a,b,c){var d;d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){return a.apply(this,arguments)};f.extend(d,
a);o.prototype=a.prototype;d.prototype=new o;b&&f.extend(d.prototype,b);c&&f.extend(d,c);d.prototype.constructor=d;d.__super__=a.prototype;return d},k=function(a){if(!a||!a.url)return null;return f.isFunction(a.url)?a.url():a.url},l=function(){throw Error('A "url" property or function must be specified');},i=function(a,b,c){return function(d){a?a(b,d,c):b.trigger("error",b,d,c)}}}).call(this);var fakeworker=function(global){function extend(dest,src){for(var i in src)dest[i]=src[i]}var userAgent=navigator.userAgent.toLowerCase();var browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};function httpSuccess(xhr){try{return!xhr.status&&location.protocol=="file:"||(xhr.status>=200&&
xhr.status<300||(xhr.status==304||(xhr.status==1223||browser.safari&&xhr.status==undefined)))}catch(e){}return false}function __syncXhrGet(url,fn){var xhr=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;xhr.open("GET",url,false);xhr.send("");if(httpSuccess(xhr))fn(xhr);else throw new Error("Could not load resource("+url+") result="+xhr.status+":"+xhr.statusText);}function parseUri(str){var o=parseUri.options,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},
i=14;while(i--)uri[o.key[i]]=m[i]||"";uri[o.q.name]={};uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){if($1)uri[o.q.name][$1]=$2});return uri}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function absolutePath(path){var e=document.createElement("span");e.innerHTML='<a href="'+path+'" />';return e.firstChild.href}function FakeMessageEvent(worker){extend(this,Event);Event.constructor.call(this);this.currentTarget=worker;this.srcElement=worker;this.target=worker;this.timestamp=(new Date).getTime()}
FakeMessageEvent.prototype={initMessageEvent:function(type,canBubble,cancelable,data,origin,lastEventId,source,ports){this.initMessageEventNS("",type,canBubble,cancelable,data,origin,lastEventId,source,ports)},initMessageEventNS:function(namespaceURI,type,canBubble,cancelable,data,origin,lastEventId,source,ports){this.namespaceURI=namespaceURI;this.type=type;this.canBubble=canBubble;this.cancelable=cancelable;this.data=data;this.origin=origin;this.lastEventId=lastEventId;this.source=source;this.ports=
ports}};function FakeErrorEvent(worker){extend(this,Event);Event.constructor.call(this);this.currentTarget=worker;this.srcElement=worker;this.target=worker;this.timestamp=(new Date).getTime()}FakeErrorEvent.prototype={initErrorEvent:function(type,canBubble,cancelable,message,filename,lineno){this.initErrorEventNS("",type,canBubble,cancelable,message,filename,lineno)},initErrorEventNS:function(namespaceURI,type,canBubble,cancelable,message,filename,lineno){this.namespaceURI=namespaceURI;this.type=
type;this.canBubble=canBubble;this.cancelable=cancelable;this.message=message;this.filename=filename;this.lineno=lineno}};var nativeWorker=global["Worker"];var FakeWorker=function(url){var self=this;this._listenerNamespaces={};this._eventQueues={};__syncXhrGet(url,function(xhr){try{self._workerContext=new FakeWorkerContext(url,xhr.responseText,self)}catch(e){throw e;}})};FakeWorker.prototype={isFake:true,addEventListener:function(type,listener,useCapture){this.addEventListenerNS("",type,listener,
useCapture)},addEventListenerNS:function(namespaceURI,type,listener,useCapture){var namespace=this._listenerNamespaces[namespaceURI];if(!namespace)this._listenerNamespaces[namespaceURI]=namespace={};var listeners=namespace[type];if(!listeners)namespace[type]=listeners=[];listeners.push(listener)},removeEventListener:function(type,listener,useCapture){this.removeEventListener("",type,listener,useCapture)},removeEventListenerNS:function(namespaceURI,eventName,fn,useCapture){var namespace=this._listenerNamespaces[namespaceURI];
if(namespace){var listeners=namespace[type];if(listeners)for(var i=0;i<listeners.length;i++)if(listeners[i]===listener)delete listeners[i]}},dispatchEvent:function(event){if(typeof this["on"+event.type]=="function")this["on"+event.type].call(this,event);var namespace=this._listenerNamespaces[event.namespaceURI];if(namespace){var listeners=namespace[event.type];if(listeners)for(var i=0;i<listeners.length;i++)listeners[i].call(this,event)}return true},postMessage:function(msg){var self=this;var workerContext=
this._workerContext;if(typeof workerContext.onmessage=="function"){var event=new FakeMessageEvent(self);event.initMessageEvent("message",false,false,msg,"","",null,null);setTimeout(function(){try{workerContext.onmessage.call(workerContext,event)}catch(e){var errorEvent=new FakeErrorEvent(self);var lineno=e.line||e.lineNumber;errorEvent.initErrorEvent("error",false,false,e.message,workerContext.location.filename,lineno);self.dispatchEvent(errorEvent);throw e;}},0)}},terminate:function(){this._workerContext.close()}};
function FakeWorkerLocation(url){var absolute=absolutePath(url);var parsed=parseUri(absolute);this.href=absolute;this.protocol=parsed.protocol+":";this.host=parsed.port?parsed.host+":"+parsed.port:parsed.host;this.hostname=parsed.host;this.port=parsed.port;this.pathname=parsed.path;this.search=parsed.query?"?"+parsed.query:"";this.hash=parsed.anchor?"#"+parsed.anchor:"";this.filename=parsed.file}FakeWorkerLocation.prototype={toString:function(){return this.href}};function FakeWorkerContext(url,source,
worker){var postMessage=this.postMessage=function(msg){var event=new FakeMessageEvent(worker);event.initMessageEvent("message",false,false,msg,"","",null,null);setTimeout(function(){worker.dispatchEvent(event)},0)};var setTimeout=this.setTimeout=global.setTimeout;var clearTimeout=this.clearTimeout=global.clearTimeout;var setInterval=this.setInterval=global.setInterval;var clearInterval=this.clearInterval=global.clearInterval;var XMLHttpRequest=this.XMLHttpRequest=global.XMLHttpRequest;var openDatabase=
this.openDatabase=global.openDatabase;var openDatabaseSync=this.openDatabaseSync=global.openDatabaseSync;var WebSocket=this.WebSocket=global.WebSocket;var EventSource=this.EventSource=global.EventSource;var MessageChannel=this.MessageChannel=global.MessageChannel;var Worker=this.Worker=FakeWorker;var location=this.location=new FakeWorkerLocation(url);var close=this.close=function(){this.closing=true};var navigator=this.navigator=global.navigator;var self=this.self=this;var importScripts=this.importScripts=
function(){for(var i=0;i<arguments.length;i++)__syncXhrGet(arguments[i],function(xhr){eval(xhr.responseText)})};eval(source);try{if(typeof onmessage=="function")this.onmessage=onmessage}catch(e){}}var ret={nativeWorker:nativeWorker,install:function(){global["Worker"]=FakeWorker},uninstall:function(){global["Worker"]=nativeWorker}};if(typeof Worker==="undefined"||browser.opera)ret.install();return ret}(this);(function(exports){exports.utils=exports.utils||{};exports.console=exports.console||{log:function(){},warn:function(){},error:function(){},assert:function(){}};console.assert=function(condition,message){if(!condition)if(exports._trnDebugMode)throw new Error("Assertion failed: "+message);else console.warn("Assertion failed: "+message)};exports.$log=exports.$out=function(){Array.prototype.forEach.call(arguments,function(e){console.log(e)})};var ie=function(){var ua=navigator.userAgent.toLowerCase();
var match=/(msie) ([\w.]+)/.exec(ua)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(ua);return match?parseInt(match[2],10):match}();exports.utils.ie=ie;var ieWebView=function(){return exports.utils.ie&&exports.navigator.userAgent.toLowerCase().indexOf("webview")>-1}();exports.utils.ieWebView=ieWebView;var ieWebViewLocal=function(){return exports.utils.ieWebView&&window.location.href.indexOf("ms-appx-web://")===0}();exports.utils.ieWebViewLocal=ieWebViewLocal;exports.utils.isEdge=navigator.userAgent.match(/Edge/i)?
true:false;exports.busyLoop=function(step,finished,sync){var start=Date.now();function nextSlice(){while(step())if(Date.now()-start>100&&!sync){start=Date.now();setTimeout(nextSlice,0);return}finished()}nextSlice()};exports.utils.mouseUpEventBug=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?true:false;if(typeof exports.utils.isNodeJS!=="boolean"){exports.utils.isNodeJS=typeof require!=="undefined"&&typeof process!=="undefined";exports.utils.parentHasNodeJS=typeof parent.utils!=="undefined"&&(typeof parent.utils.isNodeJS!==
"undefined"&&parent.utils.isNodeJS)}exports.utils.isChrome=function(){var opera=window.navigator.userAgent.match(/OPR/);var maxthon=window.navigator.userAgent.match(/Maxthon/);var edge=window.navigator.userAgent.match(/Edge/);return window.navigator.userAgent.match(/Chrome\/(.*?) /)&&(!opera&&(!maxthon&&!edge))}();var chromeVersion=function(){var match=window.navigator.userAgent.match(/Chrome\/(.*?) /);return match?parseInt(match[1],10):match}();exports.utils.disableFormCharacterProcessing=window.navigator.userAgent.indexOf("Android")>
-1;var multiplierOverride;var getCanvasMultiplier=function(){var ua=exports.navigator.userAgent.toLowerCase();var isWindowsChromeWithIssue=ua.indexOf("chrome")>-1&&(ua.indexOf("windows")>-1&&chromeVersion<37);var oversampleLimit=1024*1024;return function(width,height,zoom){if(!_.isUndefined(multiplierOverride))return multiplierOverride;var oversampleForChrome=isWindowsChromeWithIssue&&(width*height<oversampleLimit&&zoom<=1.5);return oversampleForChrome?2:window.devicePixelRatio||1}}();exports.utils.getCanvasMultiplier=
getCanvasMultiplier;exports.utils.setCanvasMultiplier=function(value){multiplierOverride=value};exports.utils.unsetCanvasMultiplier=function(){multiplierOverride=undefined};if(window.CanvasPixelArray)window.CanvasPixelArray.prototype.set=function(arr){var l=this.length,i=0;for(;i<l;i+=4){this[i]=arr[i];this[i+1]=arr[i+1];this[i+2]=arr[i+2];this[i+3]=255}};if(!window.Uint8ClampedArray)window.Uint8ClampedArray=window.Uint8Array;var canvasClipBug=function(){function basicClipIssue(){var canvas=document.createElement("canvas");
canvas.style.width="1px";canvas.style.height="1px";var ctx=canvas.getContext("2d");ctx.fillStyle="#FFFFFF";ctx.fillRect(0,0,1,1);ctx.beginPath();ctx.rect(0,0,1,1);ctx.clip();ctx.fillStyle="#000000";ctx.fillRect(0,0,1,1);var val=ctx.getImageData(0,0,1,1).data[0];return val===255}function nonIntegerValueIssue(){var canvas=document.createElement("canvas");canvas.style.width="5px";canvas.style.height="5px";var ctx=canvas.getContext("2d");ctx.rect(0,0,4.5,4.5);ctx.clip();ctx.fillStyle="#FFFFFF";ctx.fillRect(0,
0,5,5);ctx.clearRect(0,0,5,5);var val=ctx.getImageData(1,1,1,1).data[3];return val!==0}return basicClipIssue()||nonIntegerValueIssue()}();exports.utils.canvasClipBug=canvasClipBug;var typedArrayApply=function(){if(exports.Uint8Array)try{var testArray=new exports.Uint8Array(new ArrayBuffer(1));String.fromCharCode.apply(null,testArray);return true}catch(e){return false}else return false}();exports.utils.typedArrayApply=typedArrayApply;if(!Document.prototype.createAttributeNS)Document.prototype.createAttributeNS=
function(namespaceURI,qualifiedName){var dummy=this.createElement("dummy");dummy.setAttributeNS(namespaceURI,qualifiedName,"");var attr=dummy.attributes[0];dummy.removeAttributeNode(attr);return attr};if(!Element.prototype.setAttributeNodeNS)Element.prototype.setAttributeNodeNS=Element.prototype.setAttributeNode;exports.utils.xmlSerializerNamespaceSupported=function(){var body=document.createElementNS("http://www.w3.org/1999/xhtml","body");var attr=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/",
"xfa:spec");attr.nodeValue="2.0.2";body.setAttributeNodeNS(attr);attr=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion");attr.nodeValue="Acrobat:10.1.3";body.setAttributeNodeNS(attr);var serializer=new XMLSerializer;var annotstr=serializer.serializeToString(body);function passTest(actual){return actual.indexOf(' xmlns="http://www.w3.org/1999/xhtml"')>0&&(actual.indexOf(' xfa:spec="2.0.2"')>0&&(actual.indexOf(' xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/"')>
0&&actual.indexOf(' xfa:APIVersion="Acrobat:10.1.3"')>0))}var result=passTest(annotstr);var $body=$("<body>").attr({"xmlns":"http://www.w3.org/1999/xhtml","xmlns:xfa":"http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion":"Acrobat:10.1.3","xfa:spec":"2.0.2"});annotstr=serializer.serializeToString($body[0]);exports.utils.xmlSerializerJQueryNamespaceSupported=passTest(annotstr);return result}();window.matchMedia||(window.matchMedia=function(){var styleMedia=window.styleMedia||window.media;if(!styleMedia){var style=
document.createElement("style"),script=document.getElementsByTagName("script")[0],info=null;style.type="text/css";style.id="matchmediajs-test";script.parentNode.insertBefore(style,script);info="getComputedStyle"in window&&window.getComputedStyle(style,null)||style.currentStyle;styleMedia={matchMedium:function(media){var text="@media "+media+"{ #matchmediajs-test { width: 1px; } }";if(style.styleSheet)style.styleSheet.cssText=text;else style.textContent=text;return info.width==="1px"}}}return function(media){return{matches:styleMedia.matchMedium(media||
"all"),media:media||"all"}}}());(function(){if(window.matchMedia&&window.matchMedia("all").addListener)return false;var localMatchMedia=window.matchMedia,hasMediaQueries=localMatchMedia("only all").matches,isListening=false,timeoutID=0,queries=[],handleChange=function(){clearTimeout(timeoutID);timeoutID=setTimeout(function(){for(var i=0,il=queries.length;i<il;i++){var mql=queries[i].mql,listeners=queries[i].listeners||[],matches=localMatchMedia(mql.media).matches;if(matches!==mql.matches){mql.matches=
matches;for(var j=0,jl=listeners.length;j<jl;j++)listeners[j].call(window,mql)}}},30)};window.matchMedia=function(media){var mql=localMatchMedia(media),listeners=[],index=0;mql.addListener=function(listener){if(!hasMediaQueries)return;if(!isListening){isListening=true;window.addEventListener("resize",handleChange,true)}if(index===0)index=queries.push({mql:mql,listeners:listeners});listeners.push(listener)};mql.removeListener=function(listener){for(var i=0,il=listeners.length;i<il;i++)if(listeners[i]===
listener)listeners.splice(i,1)};return mql}})();exports.utils.specialBlendSupportedTest=function(){var canvas=document.createElement("canvas");canvas.width=1;canvas.height=1;var ctx=canvas.getContext("2d");ctx.fillStyle="#000";ctx.fillRect(0,0,1,1);ctx.globalCompositeOperation="multiply";ctx.fillStyle="#fff";ctx.fillRect(0,0,1,1);var result=ctx.getImageData(0,0,1,1).data[0]===0;exports.utils.specialBlendSupported=result;return result}();var vendors=["webkit","moz"];for(var i=0;i<vendors.length&&!window.requestAnimationFrame;++i){var vp=
vendors[i];window.requestAnimationFrame=window[vp+"RequestAnimationFrame"];window.cancelAnimationFrame=window[vp+"CancelAnimationFrame"]||window[vp+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||(!window.requestAnimationFrame||!window.cancelAnimationFrame)){var lastTime=0;window.requestAnimationFrame=function(callback){var now=Date.now();var nextTime=Math.max(lastTime+16,now);return setTimeout(function(){callback(lastTime=nextTime)},nextTime-now)};window.cancelAnimationFrame=
clearTimeout}exports.utils.hasClass=function(element,cls){return(" "+element.className+" ").indexOf(" "+cls+" ")>-1};exports.utils.eventHandler={on:function(event,handler){this.applyWithArgs($(this).on,arguments);return this},off:function(event,handler){this.applyWithArgs($(this).off,arguments);return this},trigger:function(event,params){this.applyWithArgs($(this).triggerHandler,arguments);return this},applyWithArgs:function(func,args){func.apply($(this),Array.prototype.slice.call(args))}};exports.utils.isEditableElement=
function(ele){return ele.is("input:text")||ele.is("textarea")};var debug=exports._trnDebugMode;var warn=function(msg){if(debug)console.warn(msg)};var log=function(msg){if(debug)console.log(msg)};var error=function(msg){if(debug)console.error(msg);throw new Error(msg);};exports.utils.warn=warn;exports.utils.log=log;exports.utils.error=error;if(!exports.server)exports.server={log:function(){},error:function(){},capture:function(){}};var arrprint=function(array,msg){var str="[";for(var i=0;i<array.length;i++){str+=
array[i];if(i>=array.length-1)break;str+=", "}str+="]";if(!_.isUndefined(msg))str+=" "+msg;console.log(str)};exports.utils.arrprint=arrprint;var logvar=function(varname,variable){if(_.isArray(varname)&&(_.isArray(variable)&&varname.length===variable.length)){var varlist="";for(var i=0;i<varname.length;i++)varlist=varlist+varname[i]+": "+variable[i]+" ";console.log(varlist)}else console.log(varname+": "+variable)};exports.utils.logvar=logvar;var fCmp=function(f1,f2){var eps=1E-6;return Math.abs(f1-
f2)<eps};exports.utils.fCmp=fCmp;var documentReady=function(callback){if(document.readyState==="complete")callback();else if(document.addEventListener)exports.addEventListener("load",function(){callback()},false);else if(document.attachEvent)exports.attachEvent("onload",function(){callback()})};exports.utils.documentReady=documentReady;exports.runEval=function(str,c,t){c.clo=undefined;t.clo=undefined;eval(str);str=null};if(typeof Object.defineProperties==="undefined"){Object.defineProperty=function(prototype,
name,property){if(property.get)prototype.__defineGetter__(name,property.get);if(property.set)prototype.__defineSetter__(name,property.set)};Object.defineProperties=function(prototype,properties){for(var name in properties)if(properties.hasOwnProperty(name)){var property=properties[name];Object.defineProperty(prototype,name,property)}}}var canvasProto=CanvasRenderingContext2D.prototype;Object.defineProperties(canvasProto,{w:{set:function(val){this.lineWidth=val}},c:{set:function(val){this.lineCap=
val}},s:{set:function(val){this.strokeStyle=val}},f:{set:function(val){this.fillStyle=val}},a:{set:function(val){this.globalAlpha=val}},n:{set:function(val){this.font=val}},i:{set:function(val){this.miterLimit=val}},j:{set:function(val){this.lineJoin=val}},g:{set:function(val){this.globalCompositeOperation=val}}});_(canvasProto).extend({S:function(){if(typeof this.saves==="undefined")this.saves=0;this.saves++;this.save()},r:function(){this.saves--;this.restore()},t:canvasProto.transform,T:canvasProto.translate,
L:canvasProto.createLinearGradient,R:canvasProto.createRadialGradient,P:canvasProto.createPattern,b:canvasProto.beginPath,z:canvasProto.closePath,F:canvasProto.fill,X:canvasProto.stroke,C:canvasProto.clip,M:canvasProto.moveTo,m:canvasProto.measureText,l:canvasProto.lineTo,q:canvasProto.quadraticCurveTo,B:canvasProto.bezierCurveTo,x:canvasProto.fillText,fillTextCustom:function(text,x,y){},xc:function(text,x,y){},cgb:function(){},cge:function(){},xw:function(text,x,y,skip_last){this.fillText(text,x,
y)},xcw:function(text,x,y,skip_last){},I:function(img){if(typeof img!=="undefined")this.drawImage.apply(this,arguments)},Z:canvasProto.setTransform,d:canvasProto.getImageData,D:canvasProto.putImageData,e:canvasProto.scale});Object.defineProperty(TextMetrics.prototype,"W",{get:function(){return this.width}});var CanvasGradientPrototype;if(typeof exports.CanvasGradient==="undefined")CanvasGradientPrototype=document.createElement("canvas").getContext("2d").createLinearGradient(0,0,0,0).__proto__;else CanvasGradientPrototype=
CanvasGradient.prototype;_(CanvasGradientPrototype).extend({A:CanvasGradientPrototype.addColorStop});exports.utils.isRectIntersecting=function(rect1,rect2){if(rect1.x1<=rect2.x2&&(rect1.x2>=rect2.x1&&(rect1.y1<=rect2.y2&&rect1.y2>=rect2.y1)))return true;return false};exports.utils.getRectIntersection=function(rect1,rect2){var rect={x1:0,y1:0,x2:0,y2:0};if(exports.utils.isRectIntersecting(rect1,rect2)===true){rect.x1=Math.max(rect1.x1,rect2.x1);rect.y1=Math.max(rect1.y1,rect2.y1);rect.x2=Math.min(rect1.x2,
rect2.x2);rect.y2=Math.min(rect1.y2,rect2.y2)}return rect};exports.utils.normalizeRect=function(pt1,pt2){var x1=pt1.x;var x2=pt2.x;var y1=pt1.y;var y2=pt2.y;if(pt1.x>pt2.x){x2=pt1.x;x1=pt2.x}if(pt1.y>pt2.y){y2=pt1.y;y1=pt2.y}return{x1:x1,y1:y1,x2:x2,y2:y2}};exports.utils.getRotationOffsets=function(rotation,w,h){var dx=0,dy=0;rotation=Number(rotation);switch(rotation){case 90:dy=w;break;case 180:dx=w;dy=h;break;case 270:dx=h;break}return{dx:dx,dy:dy}};exports.json2xml=function(o,tab){var toXml=function(v,
name,ind){var xml="";if(v instanceof Array)for(var i=0,n=v.length;i<n;i++)xml+=ind+toXml(v[i],name,ind+"\t")+"\n";else if(typeof v=="object"){var hasChild=false;xml+=ind+"<"+name;for(var m in v)if(m.charAt(0)=="@")xml+=" "+m.substr(1)+'="'+v[m].toString()+'"';else hasChild=true;xml+=hasChild?">":"/>";if(hasChild){for(var m in v)if(m=="#text")xml+=v[m];else if(m=="#cdata")xml+="<![CDATA["+v[m]+"]]\x3e";else if(m.charAt(0)!="@")xml+=toXml(v[m],m,ind+"\t");xml+=(xml.charAt(xml.length-1)=="\n"?ind:"")+
"</"+name+">"}}else xml+=ind+"<"+name+">"+v.toString()+"</"+name+">";return xml},xml="";for(var m in o)xml+=toXml(o[m],m,"");return tab?xml.replace(/\t/g,tab):xml.replace(/\t|\n/g,"")};exports.xml2json=function(xml,tab){var X={toObj:function(xml){var o={};if(xml.nodeType==1){if(xml.attributes.length)for(var i=0;i<xml.attributes.length;i++)o["@"+xml.attributes[i].nodeName]=(xml.attributes[i].nodeValue||"").toString();if(xml.firstChild){var textChild=0,cdataChild=0,hasElementChild=false;for(var n=xml.firstChild;n;n=
n.nextSibling)if(n.nodeType==1)hasElementChild=true;else if(n.nodeType==3&&n.nodeValue.match(/[^ \f\n\r\t\v]/))textChild++;else if(n.nodeType==4)cdataChild++;if(hasElementChild)if(textChild<2&&cdataChild<2){X.removeWhite(xml);for(var n=xml.firstChild;n;n=n.nextSibling)if(n.nodeType==3)o["#text"]=X.escape(n.nodeValue);else if(n.nodeType==4)o["#cdata"]=X.escape(n.nodeValue);else if(o[n.nodeName])if(o[n.nodeName]instanceof Array)o[n.nodeName][o[n.nodeName].length]=X.toObj(n);else o[n.nodeName]=[o[n.nodeName],
X.toObj(n)];else o[n.nodeName]=X.toObj(n)}else if(!xml.attributes.length)o=X.escape(X.innerXml(xml));else o["#text"]=X.escape(X.innerXml(xml));else if(textChild)if(!xml.attributes.length)o=X.escape(X.innerXml(xml));else o["#text"]=X.escape(X.innerXml(xml));else if(cdataChild)if(cdataChild>1)o=X.escape(X.innerXml(xml));else for(var n=xml.firstChild;n;n=n.nextSibling)o["#cdata"]=X.escape(n.nodeValue)}if(!xml.attributes.length&&!xml.firstChild)o=null}else if(xml.nodeType==9)o=X.toObj(xml.documentElement);
else alert("unhandled node type: "+xml.nodeType);return o},toJson:function(o,name,ind){var json=name?'"'+name+'"':"";if(o instanceof Array){for(var i=0,n=o.length;i<n;i++)o[i]=X.toJson(o[i],"",ind+"\t");json+=(name?":[":"[")+(o.length>1?"\n"+ind+"\t"+o.join(",\n"+ind+"\t")+"\n"+ind:o.join(""))+"]"}else if(o==null)json+=(name&&":")+"null";else if(typeof o=="object"){var arr=[];for(var m in o)arr[arr.length]=X.toJson(o[m],m,ind+"\t");json+=(name?":{":"{")+(arr.length>1?"\n"+ind+"\t"+arr.join(",\n"+
ind+"\t")+"\n"+ind:arr.join(""))+"}"}else if(typeof o=="string")json+=(name&&":")+'"'+o.toString()+'"';else json+=(name&&":")+o.toString();return json},innerXml:function(node){var s="";if("innerHTML"in node)s=node.innerHTML;else{var asXml=function(n){var s="";if(n.nodeType==1){s+="<"+n.nodeName;for(var i=0;i<n.attributes.length;i++)s+=" "+n.attributes[i].nodeName+'="'+(n.attributes[i].nodeValue||"").toString()+'"';if(n.firstChild){s+=">";for(var c=n.firstChild;c;c=c.nextSibling)s+=asXml(c);s+="</"+
n.nodeName+">"}else s+="/>"}else if(n.nodeType==3)s+=n.nodeValue;else if(n.nodeType==4)s+="<![CDATA["+n.nodeValue+"]]\x3e";return s};for(var c=node.firstChild;c;c=c.nextSibling)s+=asXml(c)}return s},escape:function(txt){return txt.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();for(var n=e.firstChild;n;)if(n.nodeType==3)if(!n.nodeValue.match(/[^ \f\n\r\t\v]/)){var nxt=n.nextSibling;e.removeChild(n);n=nxt}else n=n.nextSibling;
else if(n.nodeType==1){X.removeWhite(n);n=n.nextSibling}else n=n.nextSibling;return e}};if(xml.nodeType==9)xml=xml.documentElement;var json=X.toJson(X.toObj(X.removeWhite(xml)),xml.nodeName,"\t");return"{\n"+tab+(tab?json.replace(/\t/g,tab):json.replace(/\t|\n/g,""))+"\n}"}})(window);function XMLWriter(a,b){if(a)this.encoding=a;if(b)this.version=b}
(function(){XMLWriter.prototype={encoding:"ISO-8859-1",version:"1.0",formatting:"indented",indentChar:"\t",indentation:1,newLine:"\n",writeStartDocument:function(a){this.close();this.stack=[];this.standalone=a},writeEndDocument:function(){this.active=this.root;this.stack=[]},writeDocType:function(a){this.doctype=a},writeStartElement:function(c,d){if(d)c=d+":"+c;var a=this,b=a.active,e={n:c,a:{},c:[]};if(b){b.c.push(e);this.stack.push(b)}else a.root=e;a.active=e},writeEndElement:function(){this.active=
this.stack.pop()||this.root},writeAttributeString:function(a,b){if(this.active)this.active.a[a]=b},writeString:function(a){if(this.active)this.active.c.push(a)},writeElementString:function(a,b,c){this.writeStartElement(a,c);this.writeString(b);this.writeEndElement()},writeCDATA:function(a){this.writeString("<![CDATA["+a+"]]\x3e")},writeComment:function(a){this.writeString("\x3c!-- "+a+" --\x3e")},flush:function(){var a=this,b="",c="",d=a.indentation,e=a.formatting.toLowerCase()=="indented",f='<?xml version="'+
a.version+'" encoding="'+a.encoding+'"';if(a.stack&&a.stack[0])a.writeEndDocument();if(a.standalone!==undefined)f+=' standalone="'+!!a.standalone+'"';f+=" ?>";f=[f];if(a.doctype&&a.root)f.push("<!DOCTYPE "+a.root.n+" "+a.doctype+">");if(e)while(d--)b+=a.indentChar;if(a.root)k(a.root,c,b,f);return f.join(e?a.newLine:"")},close:function(){var a=this;if(a.root)j(a.root);a.active=a.root=a.stack=null},getDocument:window.ActiveXObject?function(){var a=new ActiveXObject("Microsoft.XMLDOM");a.async=!1;a.loadXML(this.flush());
return a}:function(){return(new DOMParser).parseFromString(this.flush(),"text/xml")}};function j(a){var l=a.c.length;while(l--)if(typeof a.c[l]=="object")j(a.c[l]);a.n=a.a=a.c=null}function k(a,b,c,d){var e=b+"<"+a.n,f=a.c.length,g,h,i=0;for(g in a.a)e+=" "+g+'="'+a.a[g]+'"';e+=f?">":" />";d.push(e);if(f){do{h=a.c[i++];if(typeof h=="string")if(f==1)return d.push(d.pop()+h+"</"+a.n+">");else d.push(b+c+h);else if(typeof h=="object")k(h,b+c,c,d)}while(i<f);d.push(b+"</"+a.n+">")}}})();function X2JS(){var VERSION="1.0.5";var DOMNodeTypes={ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9};function getNodeLocalName(node){var nodeLocalName=node.localName;if(nodeLocalName==null)nodeLocalName=node.baseName;if(nodeLocalName==null||nodeLocalName=="")nodeLocalName=node.nodeName;return nodeLocalName}function getNodePrefix(node){return node.prefix}function parseDOMChildren(node){if(node.nodeType==DOMNodeTypes.DOCUMENT_NODE){var result=new Object;var child=node.getElementsByTagName("xfdf")[0];var childName=
"xfdf";result[childName]=parseDOMChildren(child);return result}else if(node.nodeType==DOMNodeTypes.ELEMENT_NODE){var result=new Object;result.__cnt=0;var nodeChildren=node.childNodes;for(var cidx=0;cidx<nodeChildren.length;cidx++){var child=nodeChildren.item(cidx);var childName=getNodeLocalName(child);result.__cnt++;var childJsonObj=parseDOMChildren(child);if(result[childName]==null)result[childName]=childJsonObj;else{if(result[childName]!=null)if(!(result[childName]instanceof Array)){var tmpObj=
result[childName];result[childName]=new Array;result[childName][0]=tmpObj}var aridx=0;while(result[childName][aridx]!=null)aridx++;result[childName][aridx]=childJsonObj}if(result["__children"]==null)result["__children"]=new Array;result["__children"].push({"key":childName,"value":childJsonObj})}for(var aidx=0;aidx<node.attributes.length;aidx++){var attr=node.attributes.item(aidx);result.__cnt++;result["_"+attr.name]=attr.value}var nodePrefix=getNodePrefix(node);if(nodePrefix!=null&&nodePrefix!=""){result.__cnt++;
result.__prefix=nodePrefix}if(result.__cnt==1&&result["#text"]!=null)result=result["#text"];if(result["#text"]!=null){result.__text=result["#text"];result["#text"]=null;result.toString=function(){return this.__text}}return result}else if(node.nodeType==DOMNodeTypes.TEXT_NODE)return node.nodeValue}function startTag(jsonObj,element,attrList,closed){var resultStr="<"+(jsonObj.__prefix!=null?jsonObj.__prefix+":":"")+element;if(attrList!=null)for(var aidx=0;aidx<attrList.length;aidx++){var attrName=attrList[aidx];
var attrVal=jsonObj[attrName];resultStr+=" "+attrName.substr(1)+"='"+attrVal+"'"}if(!closed)resultStr+=">";else resultStr+="/>";return resultStr}function endTag(jsonObj,elementName){return"</"+(jsonObj.__prefix!=null?jsonObj.__prefix+":":"")+elementName+">\n"}function endsWith(str,suffix){return str.indexOf(suffix,str.length-suffix.length)!==-1}function parseJSONTextObject(jsonTxtObj){var result="";if(jsonTxtObj.__text!=null)result+=jsonTxtObj.__text;else result+=jsonTxtObj.toString();return result}
function parseJSONObject(jsonObj){var result="";for(var it in jsonObj){if(endsWith(it.toString(),"_asArray")||it.toString().indexOf("_")==0)continue;var subObj=jsonObj[it];if(typeof subObj=="function"||subObj==null)continue;var attrList=[];for(var ait in subObj)if(ait.toString().indexOf("__")==-1&&ait.toString().indexOf("_")==0)attrList.push(ait);if(subObj!=null&&(subObj instanceof Object&&subObj.__text==null))if(subObj instanceof Array){var arrayOfObjects=true;if(subObj.length>0)arrayOfObjects=subObj[0]instanceof
Object;else result+=startTag(subObj,it,attrList,true);for(var arIdx=0;arIdx<subObj.length;arIdx++)if(arrayOfObjects)result+=parseJSONObject(subObj[arIdx]);else{result+=startTag(subObj,it,attrList,false);result+=parseJSONTextObject(subObj[arIdx]);result+=endTag(subObj,it)}}else{result+=startTag(subObj,it,attrList,false);result+=parseJSONObject(subObj);result+=endTag(subObj,it)}else{result+=startTag(subObj,it,attrList,false);result+=parseJSONTextObject(subObj);result+=endTag(subObj,it)}}return result}
this.parseXmlString=function(xmlDocStr){var xmlDoc;if(window.DOMParser){var parser=new DOMParser;xmlDoc=parser.parseFromString(xmlDocStr,"text/xml")}else{if(xmlDocStr.indexOf("<?")==0)xmlDocStr=xmlDocStr.substr(xmlDocStr.indexOf("?>")+2);xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlDocStr)}return xmlDoc};this.xml2json=function(xmlDoc){return parseDOMChildren(xmlDoc)};this.xml_str2json=function(xmlDocStr){var xmlDoc=this.parseXmlString(xmlDocStr);return this.xml2json(xmlDoc)};
this.json2xml_str=function(jsonObj){return parseJSONObject(jsonObj)};this.json2xml=function(jsonObj){var xmlDocStr=this.json2xml_str(jsonObj);return this.parseXmlString(xmlDocStr)}}var x2js=new X2JS;var idbModules={};
(function(idbModules){function callback(fn,context,event,func){event.target=context;typeof context[fn]==="function"&&context[fn].apply(context,[event]);typeof func==="function"&&func()}function throwDOMException(name,message,error){var e=new DOMException.constructor(0,message);e.name=name;e.message=message;e.stack=arguments.callee.caller;idbModules.DEBUG&&console.log(name,message,error,e);throw e;}var StringList=function(){this.length=0;this._items=[]};StringList.prototype={contains:function(str){return-1!==this._items.indexOf(str)},
item:function(key){return this._items[key]},indexOf:function(str){return this._items.indexOf(str)},push:function(item){this._items.push(item);this.length+=1},splice:function(){this._items.splice.apply(this._items,arguments);this.length=this._items.length}};idbModules.util={"throwDOMException":throwDOMException,"callback":callback,"quote":function(arg){return"'"+arg+"'"},"StringList":StringList}})(idbModules);
(function(idbModules){var Sca=function(){return{"encode":function(val){return JSON.stringify(val)},"decode":function(val){return JSON.parse(val)}}}();idbModules.Sca=Sca})(idbModules);
(function(idbModules){var collations=["","number","string","boolean","object","undefined"];var getGenericEncoder=function(){return{"encode":function(key){return collations.indexOf(typeof key)+"-"+JSON.stringify(key)},"decode":function(key){if(typeof key==="undefined")return undefined;else return JSON.parse(key.substring(2))}}};var types={"number":getGenericEncoder("number"),"boolean":getGenericEncoder(),"object":getGenericEncoder(),"string":{"encode":function(key){return collations.indexOf("string")+
"-"+key},"decode":function(key){return""+key.substring(2)}},"undefined":{"encode":function(key){return collations.indexOf("undefined")+"-undefined"},"decode":function(key){return undefined}}};var Key=function(){return{encode:function(key){return types[typeof key].encode(key)},decode:function(key){return types[collations[key.substring(0,1)]].decode(key)}}}();idbModules.Key=Key})(idbModules);
(function(idbModules,undefined){var Event=function(type,debug){return{"type":type,debug:debug,bubbles:false,cancelable:false,eventPhase:0,timeStamp:new Date}};idbModules.Event=Event})(idbModules);
(function(idbModules){var IDBRequest=function(){this.onsuccess=this.onerror=this.result=this.error=this.source=this.transaction=null;this.readyState="pending"};var IDBOpenRequest=function(){this.onblocked=this.onupgradeneeded=null};IDBOpenRequest.prototype=IDBRequest;idbModules.IDBRequest=IDBRequest;idbModules.IDBOpenRequest=IDBOpenRequest})(idbModules);
(function(idbModules,undefined){var IDBKeyRange=function(lower,upper,lowerOpen,upperOpen){this.lower=lower;this.upper=upper;this.lowerOpen=lowerOpen;this.upperOpen=upperOpen};IDBKeyRange.only=function(value){return new IDBKeyRange(value,value,true,true)};IDBKeyRange.lowerBound=function(value,open){return new IDBKeyRange(value,undefined,open,undefined)};IDBKeyRange.upperBound=function(value){return new IDBKeyRange(undefined,value,undefined,open)};IDBKeyRange.bound=function(lower,upper,lowerOpen,upperOpen){return new IDBKeyRange(lower,
upper,lowerOpen,upperOpen)};idbModules.IDBKeyRange=IDBKeyRange})(idbModules);
(function(idbModules,undefined){function IDBCursor(range,direction,idbObjectStore,cursorRequest,keyColumnName,valueColumnName){this.__range=range;this.source=this.__idbObjectStore=idbObjectStore;this.__req=cursorRequest;this.key=undefined;this.direction=direction;this.__keyColumnName=keyColumnName;this.__valueColumnName=valueColumnName;if(!this.source.transaction.__active)idbModules.util.throwDOMException("TransactionInactiveError - The transaction this IDBObjectStore belongs to is not active.");this.__offset=
-1;this.__lastKeyContinued=undefined;this["continue"]()}IDBCursor.prototype.__find=function(key,tx,success,error){var me=this;var sql=["SELECT * FROM ",idbModules.util.quote(me.__idbObjectStore.name)];var sqlValues=[];sql.push("WHERE ",me.__keyColumnName," NOT NULL");if(me.__range&&(me.__range.lower||me.__range.upper)){sql.push("AND");if(me.__range.lower){sql.push(me.__keyColumnName+(me.__range.lowerOpen?" >=":" >")+" ?");sqlValues.push(idbModules.Key.encode(me.__range.lower))}me.__range.lower&&me.__range.upper&&
sql.push("AND");if(me.__range.upper){sql.push(me.__keyColumnName+(me.__range.upperOpen?" <= ":" < ")+" ?");sqlValues.push(idbModules.Key.encode(me.__range.upper))}}if(typeof key!=="undefined"){me.__lastKeyContinued=key;me.__offset=0}if(me.__lastKeyContinued!==undefined){sql.push("AND "+me.__keyColumnName+" >= ?");sqlValues.push(idbModules.Key.encode(me.__lastKeyContinued))}sql.push("ORDER BY ",me.__keyColumnName);sql.push("LIMIT 1 OFFSET "+me.__offset);idbModules.DEBUG&&console.log(sql.join(" "),
sqlValues);tx.executeSql(sql.join(" "),sqlValues,function(tx,data){if(data.rows.length===1){var key=idbModules.Key.decode(data.rows.item(0)[me.__keyColumnName]);var val=me.__valueColumnName==="value"?idbModules.Sca.decode(data.rows.item(0)[me.__valueColumnName]):idbModules.Key.decode(data.rows.item(0)[me.__valueColumnName]);success(key,val)}else{idbModules.DEBUG&&console.log("Reached end of cursors");success(undefined,undefined)}},function(tx,data){idbModules.DEBUG&&console.log("Could not execute Cursor.continue");
error(data)})};IDBCursor.prototype["continue"]=function(key){var me=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__offset++;me.__find(key,tx,function(key,val){me.key=key;me.value=val;success(typeof me.key!=="undefined"?me:undefined,me.__req)},function(data){error(data)})})};IDBCursor.prototype.advance=function(count){if(count<=0)idbModules.util.throwDOMException("Type Error - Count is invalid - 0 or negative",count);var me=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,
args,success,error){me.__offset+=count;me.__find(undefined,tx,function(key,value){me.key=key;me.value=value;success(typeof me.key!=="undefined"?me:undefined,me.__req)},function(data){error(data)})})};IDBCursor.prototype.update=function(valueToUpdate){var me=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__find(undefined,tx,function(key,value){var sql="UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+" SET value = ? WHERE key = ?";idbModules.DEBUG&&
console.log(sql,valueToUpdate,key);tx.executeSql(sql,[idbModules.Sca.encode(valueToUpdate),idbModules.Key.encode(key)],function(tx,data){if(data.rowsAffected===1)success(key);else error("No rowns with key found"+key)},function(tx,data){error(data)})},function(data){error(data)})})};IDBCursor.prototype["delete"]=function(){var me=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__find(undefined,tx,function(key,value){var sql="DELETE FROM  "+idbModules.util.quote(me.__idbObjectStore.name)+
" WHERE key = ?";idbModules.DEBUG&&console.log(sql,key);tx.executeSql(sql,[idbModules.Key.encode(key)],function(tx,data){if(data.rowsAffected===1)success(undefined);else error("No rowns with key found"+key)},function(tx,data){error(data)})},function(data){error(data)})})};idbModules.IDBCursor=IDBCursor})(idbModules);
(function(idbModules,undefined){function IDBIndex(indexName,idbObjectStore){this.indexName=indexName;this.__idbObjectStore=this.source=idbObjectStore}IDBIndex.prototype.__createIndex=function(indexName,keyPath,optionalParameters){var me=this;var transaction=me.__idbObjectStore.transaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){me.__idbObjectStore.__getStoreProps(tx,function(){function error(){idbModules.util.throwDOMException(0,"Could not create new index",arguments)}
if(transaction.mode!==2)idbModules.util.throwDOMException(0,"Invalid State error, not a version transaction",me.transaction);var idxList=JSON.parse(me.__idbObjectStore.__storeProps.indexList);if(typeof idxList[indexName]!=="undefined")idbModules.util.throwDOMException(0,"Index already exists on store",idxList);var columnName=indexName;idxList[indexName]={"columnName":columnName,"keyPath":keyPath,"optionalParams":optionalParameters};me.__idbObjectStore.__storeProps.indexList=JSON.stringify(idxList);
var sql=["ALTER TABLE",idbModules.util.quote(me.__idbObjectStore.name),"ADD",columnName,"BLOB"].join(" ");idbModules.DEBUG&&console.log(sql);tx.executeSql(sql,[],function(tx,data){tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.__idbObjectStore.name),[],function(tx,data){(function initIndexForRow(i){if(i<data.rows.length)try{var value=idbModules.Sca.decode(data.rows.item(i).value);var indexKey=eval("value['"+keyPath+"']");tx.executeSql("UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+
" set "+columnName+" = ? where key = ?",[idbModules.Key.encode(indexKey),data.rows.item(i).key],function(tx,data){initIndexForRow(i+1)},error)}catch(e){initIndexForRow(i+1)}else{idbModules.DEBUG&&console.log("Updating the indexes in table",me.__idbObjectStore.__storeProps);tx.executeSql("UPDATE __sys__ set indexList = ? where name = ?",[me.__idbObjectStore.__storeProps.indexList,me.__idbObjectStore.name],function(){me.__idbObjectStore.__setReadyState("createIndex",true);success(me)},error)}})(0)},
error)},error)},"createObjectStore")})};IDBIndex.prototype.openCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this.source,cursorRequest,this.indexName,"value");return cursorRequest};IDBIndex.prototype.openKeyCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this.source,cursorRequest,this.indexName,"key");return cursorRequest};IDBIndex.prototype.__fetchIndexData=
function(key,opType){var me=this;return me.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){var sql=["SELECT * FROM ",idbModules.util.quote(me.__idbObjectStore.name)," WHERE",me.indexName,"NOT NULL"];var sqlValues=[];if(typeof key!=="undefined"){sql.push("AND",me.indexName," = ?");sqlValues.push(idbModules.Key.encode(key))}idbModules.DEBUG&&console.log("Trying to fetch data for Index",sql.join(" "),sqlValues);tx.executeSql(sql.join(" "),sqlValues,function(tx,data){var d;
if(typeof opType==="count")d=data.rows.length;else if(data.rows.length===0)d=undefined;else if(opType==="key")d=idbModules.Key.decode(data.rows.item(0).key);else d=idbModules.Sca.decode(data.rows.item(0).value);success(d)},error)})};IDBIndex.prototype.get=function(key){return this.__fetchIndexData(key,"value")};IDBIndex.prototype.getKey=function(key){return this.__fetchIndexData(key,"key")};IDBIndex.prototype.count=function(key){return this.__fetchIndexData(key,"count")};idbModules.IDBIndex=IDBIndex})(idbModules);
(function(idbModules){var IDBObjectStore=function(name,idbTransaction,ready){this.name=name;this.transaction=idbTransaction;this.__ready={};this.__setReadyState("createObjectStore",typeof ready==="undefined"?true:ready);this.indexNames=new idbModules.util.StringList};IDBObjectStore.prototype.__setReadyState=function(key,val){this.__ready[key]=val};IDBObjectStore.prototype.__waitForReady=function(callback,key){var ready=true;if(typeof key!=="undefined")ready=typeof this.__ready[key]==="undefined"?
true:this.__ready[key];else for(var x in this.__ready)if(!this.__ready[x])ready=false;if(ready)callback();else{idbModules.DEBUG&&console.log("Waiting for to be ready",key);var me=this;window.setTimeout(function(){me.__waitForReady(callback,key)},100)}};IDBObjectStore.prototype.__getStoreProps=function(tx,callback,waitOnProperty){var me=this;this.__waitForReady(function(){if(me.__storeProps){idbModules.DEBUG&&console.log("Store properties - cached",me.__storeProps);callback(me.__storeProps)}else tx.executeSql("SELECT * FROM __sys__ where name = ?",
[me.name],function(tx,data){if(data.rows.length!==1)callback();else{me.__storeProps={"name":data.rows.item(0).name,"indexList":data.rows.item(0).indexList,"autoInc":data.rows.item(0).autoInc,"keyPath":data.rows.item(0).keyPath};idbModules.DEBUG&&console.log("Store properties",me.__storeProps);callback(me.__storeProps)}},function(){callback()})},waitOnProperty)};IDBObjectStore.prototype.__deriveKey=function(tx,value,key,callback){function getNextAutoIncKey(){tx.executeSql("SELECT * FROM sqlite_sequence where name like ?",
[me.name],function(tx,data){if(data.rows.length!==1)callback(0);else callback(data.rows.item(0).seq)},function(tx,error){idbModules.util.throwDOMException(0,"Data Error - Could not get the auto increment value for key",error)})}var me=this;me.__getStoreProps(tx,function(props){if(!props)idbModules.util.throwDOMException(0,"Data Error - Could not locate defination for this table",props);if(props.keyPath){if(typeof key!=="undefined")idbModules.util.throwDOMException(0,"Data Error - The object store uses in-line keys and the key parameter was provided",
props);if(value)try{var primaryKey=eval("value['"+props.keyPath+"']");if(!primaryKey)if(props.autoInc==="true")getNextAutoIncKey();else idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath");else callback(primaryKey)}catch(e){idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath",e)}else idbModules.util.throwDOMException(0,"Data Error - KeyPath was specified, but value was not")}else if(typeof key!=="undefined")callback(key);else if(props.autoInc===
"false")idbModules.util.throwDOMException(0,"Data Error - The object store uses out-of-line keys and has no key generator and the key parameter was not provided. ",props);else getNextAutoIncKey()})};IDBObjectStore.prototype.__insertData=function(tx,value,primaryKey,success,error){var paramMap={};if(typeof primaryKey!=="undefined")paramMap.key=idbModules.Key.encode(primaryKey);var indexes=JSON.parse(this.__storeProps.indexList);for(var key in indexes)try{paramMap[indexes[key].columnName]=idbModules.Key.encode(eval("value['"+
indexes[key].keyPath+"']"))}catch(e){error(e)}var sqlStart=["INSERT INTO ",idbModules.util.quote(this.name),"("];var sqlEnd=[" VALUES ("];var sqlValues=[];for(key in paramMap){sqlStart.push(key+",");sqlEnd.push("?,");sqlValues.push(paramMap[key])}sqlStart.push("value )");sqlEnd.push("?)");sqlValues.push(idbModules.Sca.encode(value));var sql=sqlStart.join(" ")+sqlEnd.join(" ");idbModules.DEBUG&&console.log("SQL for adding",sql,sqlValues);tx.executeSql(sql,sqlValues,function(tx,data){success(primaryKey)},
function(tx,err){error(err)})};IDBObjectStore.prototype.add=function(value,key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__deriveKey(tx,value,key,function(primaryKey){me.__insertData(tx,value,primaryKey,success,error)})})};IDBObjectStore.prototype.put=function(value,key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__deriveKey(tx,value,key,function(primaryKey){var sql="DELETE FROM "+idbModules.util.quote(me.name)+
" where key = ?";tx.executeSql(sql,[idbModules.Key.encode(primaryKey)],function(tx,data){idbModules.DEBUG&&console.log("Did the row with the",primaryKey,"exist? ",data.rowsAffected);me.__insertData(tx,value,primaryKey,success,error)},function(tx,err){error(err)})})})};IDBObjectStore.prototype.get=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){var primaryKey=idbModules.Key.encode(key);idbModules.DEBUG&&console.log("Fetching",
me.name,primaryKey);tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.name)+" where key = ?",[primaryKey],function(tx,data){idbModules.DEBUG&&console.log("Fetched data",data);try{if(0===data.rows.length)return success();success(idbModules.Sca.decode(data.rows.item(0).value))}catch(e){idbModules.DEBUG&&console.log(e);success(undefined)}},function(tx,err){error(err)})})})};IDBObjectStore.prototype["delete"]=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,
success,error){me.__waitForReady(function(){var primaryKey=idbModules.Key.encode(key);idbModules.DEBUG&&console.log("Fetching",me.name,primaryKey);tx.executeSql("DELETE FROM "+idbModules.util.quote(me.name)+" where key = ?",[primaryKey],function(tx,data){idbModules.DEBUG&&console.log("Deleted from database",data.rowsAffected);success()},function(tx,err){error(err)})})})};IDBObjectStore.prototype.clear=function(){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){tx.executeSql("DELETE FROM "+
idbModules.util.quote(me.name),[],function(tx,data){idbModules.DEBUG&&console.log("Cleared all records from database",data.rowsAffected);success()},function(tx,err){error(err)})})})};IDBObjectStore.prototype.count=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){var sql="SELECT * FROM "+idbModules.util.quote(me.name)+(typeof key!=="undefined"?" WHERE key = ?":"");var sqlValues=[];typeof key!=="undefined"&&sqlValues.push(idbModules.Key.encode(key));
tx.executeSql(sql,sqlValues,function(tx,data){success(data.rows.length)},function(tx,err){error(err)})})})};IDBObjectStore.prototype.openCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this,cursorRequest,"key","value");return cursorRequest};IDBObjectStore.prototype.index=function(indexName){var index=new idbModules.IDBIndex(indexName,this);return index};IDBObjectStore.prototype.createIndex=function(indexName,keyPath,
optionalParameters){var me=this;optionalParameters=optionalParameters||{};me.__setReadyState("createIndex",false);var result=new idbModules.IDBIndex(indexName,me);me.__waitForReady(function(){result.__createIndex(indexName,keyPath,optionalParameters)},"createObjectStore");me.indexNames.push(indexName);return result};IDBObjectStore.prototype.deleteIndex=function(indexName){var result=new idbModules.IDBIndex(indexName,this,false);result.__deleteIndex(indexName);return result};idbModules.IDBObjectStore=
IDBObjectStore})(idbModules);
(function(idbModules){var READ=0;var READ_WRITE=1;var VERSION_TRANSACTION=2;var IDBTransaction=function(storeNames,mode,db){if(typeof mode==="number"){this.mode=mode;mode!==2&&(idbModules.DEBUG&&console.log("Mode should be a string, but was specified as ",mode))}else if(typeof mode==="string")switch(mode){case "readonly":this.mode=READ_WRITE;break;case "readwrite":this.mode=READ;break;default:this.mode=READ;break}this.storeNames=typeof storeNames==="string"?[storeNames]:storeNames;for(var i=0;i<this.storeNames.length;i++)if(!db.objectStoreNames.contains(this.storeNames[i]))idbModules.util.throwDOMException(0,
"The operation failed because the requested database object could not be found. For example, an object store did not exist but was being opened.",this.storeNames[i]);this.__active=true;this.__running=false;this.__requests=[];this.__aborted=false;this.db=db;this.error=null;this.onabort=this.onerror=this.oncomplete=null;var me=this};IDBTransaction.prototype.__executeRequests=function(){if(this.__running&&this.mode!==VERSION_TRANSACTION){idbModules.DEBUG&&console.log("Looks like the request set is already running",
this.mode);return}this.__running=true;var me=this;window.setTimeout(function(){if(me.mode!==2&&!me.__active)idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",me.__active);me.db.__db.transaction(function(tx){me.__tx=tx;var q=null,i=0;function success(result,req){if(req)q.req=req;q.req.readyState="done";q.req.result=result;delete q.req.error;var e=idbModules.Event("success");idbModules.util.callback("onsuccess",q.req,
e);i++;executeRequest()}function error(errorVal){q.req.readyState="done";q.req.error="DOMError";var e=idbModules.Event("error",arguments);idbModules.util.callback("onerror",q.req,e);i++;executeRequest()}try{function executeRequest(){if(i>=me.__requests.length){me.__active=false;me.__requests=[];return}q=me.__requests[i];q.op(tx,q.args,success,error)}executeRequest()}catch(e){idbModules.DEBUG&&console.log("An exception occured in transaction",arguments);typeof me.onerror==="function"&&me.onerror()}},
function(){idbModules.DEBUG&&console.log("An error in transaction",arguments);typeof me.onerror==="function"&&me.onerror()},function(){idbModules.DEBUG&&console.log("Transaction completed",arguments);typeof me.oncomplete==="function"&&me.oncomplete()})},1)};IDBTransaction.prototype.__addToTransactionQueue=function(callback,args){if(!this.__active&&this.mode!==VERSION_TRANSACTION)idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished.",
this.__mode);var request=new idbModules.IDBRequest;request.source=this.db;this.__requests.push({"op":callback,"args":args,"req":request});this.__executeRequests();return request};IDBTransaction.prototype.objectStore=function(objectStoreName){return new idbModules.IDBObjectStore(objectStoreName,this)};IDBTransaction.prototype.abort=function(){!this.__active&&idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",this.__active)};
IDBTransaction.prototype.READ_ONLY=0;IDBTransaction.prototype.READ_WRITE=1;IDBTransaction.prototype.VERSION_CHANGE=2;idbModules.IDBTransaction=IDBTransaction})(idbModules);
(function(idbModules){var IDBDatabase=function(db,name,version,storeProperties){this.__db=db;this.version=version;this.__storeProperties=storeProperties;this.objectStoreNames=new idbModules.util.StringList;for(var i=0;i<storeProperties.rows.length;i++)this.objectStoreNames.push(storeProperties.rows.item(i).name);this.name=name;this.onabort=this.onerror=this.onversionchange=null};IDBDatabase.prototype.createObjectStore=function(storeName,createOptions){var me=this;createOptions=createOptions||{};createOptions.keyPath=
createOptions.keyPath||null;var result=new idbModules.IDBObjectStore(storeName,me.__versionTransaction,false);var transaction=me.__versionTransaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){function error(){idbModules.util.throwDOMException(0,"Could not create new object store",arguments)}if(!me.__versionTransaction)idbModules.util.throwDOMException(0,"Invalid State error",me.transaction);var sql=["CREATE TABLE",idbModules.util.quote(storeName),"(key BLOB",createOptions.autoIncrement?
", inc INTEGER PRIMARY KEY AUTOINCREMENT":"PRIMARY KEY",", value BLOB)"].join(" ");idbModules.DEBUG&&console.log(sql);tx.executeSql(sql,[],function(tx,data){tx.executeSql("INSERT INTO __sys__ VALUES (?,?,?,?)",[storeName,createOptions.keyPath,createOptions.autoIncrement?true:false,"{}"],function(){result.__setReadyState("createObjectStore",true);success(result)},error)},error)});me.objectStoreNames.push(storeName);return result};IDBDatabase.prototype.deleteObjectStore=function(storeName){var error=
function(){idbModules.util.throwDOMException(0,"Could not delete ObjectStore",arguments)};var me=this;!me.objectStoreNames.contains(storeName)&&error("Object Store does not exist");me.objectStoreNames.splice(me.objectStoreNames.indexOf(storeName),1);var transaction=me.__versionTransaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){if(!me.__versionTransaction)idbModules.util.throwDOMException(0,"Invalid State error",me.transaction);me.__db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__ where name = ?",
[storeName],function(tx,data){if(data.rows.length>0)tx.executeSql("DROP TABLE "+idbModules.util.quote(storeName),[],function(){tx.executeSql("DELETE FROM __sys__ WHERE name = ?",[storeName],function(){},error)},error)})})})};IDBDatabase.prototype.close=function(){};IDBDatabase.prototype.transaction=function(storeNames,mode){var transaction=new idbModules.IDBTransaction(storeNames,mode||1,this);return transaction};idbModules.IDBDatabase=IDBDatabase})(idbModules);
(function(idbModules){var DEFAULT_DB_SIZE=4*1024*1024;if(!window.openDatabase)return;try{var sysdb=window.openDatabase("__sysdb__",1,"System Database",DEFAULT_DB_SIZE)}catch(err){window.openDatabase=undefined;return}sysdb.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions",[],function(t,data){},function(){sysdb.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS dbVersions (name VARCHAR(255), version INT);",[],function(){},function(){idbModules.util.throwDOMException("Could not create table __sysdb__ to save DB versions")})})})},
function(){idbModules.DEBUG&&console.log("Error in sysdb transaction - when selecting from dbVersions",arguments)});var shimIndexedDB={open:function(name,version){try{window.openDatabase("__test__",1,"Test Database",26*1024*1024)}catch(err){return}var req=new idbModules.IDBOpenRequest;var calledDbCreateError=false;function dbCreateError(){if(calledDbCreateError)return;var e=idbModules.Event("error",arguments);req.readyState="done";req.error="DOMError";idbModules.util.callback("onerror",req,e);calledDbCreateError=
true}function openDB(oldVersion){var db=window.openDatabase(name,1,name,DEFAULT_DB_SIZE);req.readyState="done";if(typeof version==="undefined")version=oldVersion||1;if(version<=0||oldVersion>version)idbModules.util.throwDOMException(0,"An attempt was made to open a database using a lower version than the existing version.",version);db.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS __sys__ (name VARCHAR(255), keyPath VARCHAR(255), autoInc BOOLEAN, indexList BLOB)",[],function(){tx.executeSql("SELECT * FROM __sys__",
[],function(tx,data){var e=idbModules.Event("success");req.source=req.result=new idbModules.IDBDatabase(db,name,version,data);if(oldVersion<version)sysdb.transaction(function(systx){systx.executeSql("UPDATE dbVersions set version = ? where name = ?",[version,name],function(){var e=idbModules.Event("upgradeneeded");e.oldVersion=oldVersion;e.newVersion=version;req.transaction=req.result.__versionTransaction=new idbModules.IDBTransaction([],2,req.source);idbModules.util.callback("onupgradeneeded",req,
e,function(){var e=idbModules.Event("success");idbModules.util.callback("onsuccess",req,e)})},dbCreateError)},dbCreateError);else idbModules.util.callback("onsuccess",req,e)},dbCreateError)},dbCreateError)},dbCreateError)}sysdb.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0)tx.executeSql("INSERT INTO dbVersions VALUES (?,?)",[name,version||1],function(){openDB(0)},dbCreateError);else openDB(data.rows.item(0).version)},
dbCreateError)},dbCreateError);return req},"deleteDatabase":function(name){var req=new idbModules.IDBOpenRequest;var calledDBError=false;function dbError(msg){if(calledDBError)return;req.readyState="done";req.error="DOMError";var e=idbModules.Event("error");e.message=msg;e.debug=arguments;idbModules.util.callback("onerror",req,e);calledDBError=true}var version=null;function deleteFromDbVersions(){sysdb.transaction(function(systx){systx.executeSql("DELETE FROM dbVersions where name = ? ",[name],function(){req.result=
undefined;var e=idbModules.Event("success");e.newVersion=null;e.oldVersion=version;idbModules.util.callback("onsuccess",req,e)},dbError)},dbError)}sysdb.transaction(function(systx){systx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0){req.result=undefined;var e=idbModules.Event("success");e.newVersion=null;e.oldVersion=version;idbModules.util.callback("onsuccess",req,e);return}version=data.rows.item(0).version;var db=window.openDatabase(name,
1,name,DEFAULT_DB_SIZE);db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__",[],function(tx,data){var tables=data.rows;(function deleteTables(i){if(i>=tables.length)tx.executeSql("DROP TABLE __sys__",[],function(){deleteFromDbVersions()},dbError);else tx.executeSql("DROP TABLE "+idbModules.util.quote(tables.item(i).name),[],function(){deleteTables(i+1)},function(){deleteTables(i+1)})})(0)},function(e){deleteFromDbVersions()})},dbError)})},dbError);return req},"cmp":function(key1,key2){return idbModules.Key.encode(key1)>
idbModules.Key.encode(key2)?1:key1===key2?0:-1}};idbModules.shimIndexedDB=shimIndexedDB})(idbModules);
(function(window,idbModules){if(typeof window.openDatabase!=="undefined"){window.shimIndexedDB=idbModules.shimIndexedDB;if(window.shimIndexedDB){window.shimIndexedDB.__useShim=function(){window._indexedDB=idbModules.shimIndexedDB;window._IDBDatabase=idbModules.IDBDatabase;window._IDBTransaction=idbModules.IDBTransaction;window._IDBCursor=idbModules.IDBCursor;window._IDBKeyRange=idbModules.IDBKeyRange};window.shimIndexedDB.__debug=function(val){idbModules.DEBUG=val}}}window.indexedDB=window.indexedDB||
(window.webkitIndexedDB||(window.mozIndexedDB||(window.oIndexedDB||window.msIndexedDB)));if((typeof window.indexedDB==="undefined"||window.indexedDB===null)&&typeof window.openDatabase!=="undefined")window.shimIndexedDB.__useShim();else if(typeof window.openDatabase!=="undefined"){window.IDBDatabase=window.IDBDatabase||window.webkitIDBDatabase;window.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction;window.IDBCursor=window.IDBCursor||window.webkitIDBCursor;window.IDBKeyRange=window.IDBKeyRange||
window.webkitIDBKeyRange;if(!window.IDBTransaction)window.IDBTransaction={};window.IDBTransaction.READ_ONLY=window.IDBTransaction.READ_ONLY||"readonly";window.IDBTransaction.READ_WRITE=window.IDBTransaction.READ_WRITE||"readwrite"}})(window,idbModules);function createPromiseCapability(){var capability={};capability.promise=new Promise(function(resolve,reject){capability.resolve=resolve;capability.reject=reject});return capability}
(function PromiseClosure(exports){if(exports.Promise){if(typeof exports.Promise.all!=="function")exports.Promise.all=function(iterable){var count=0,results=[],resolve,reject;var promise=new exports.Promise(function(resolve_,reject_){resolve=resolve_;reject=reject_});iterable.forEach(function(p,i){count++;p.then(function(result){results[i]=result;count--;if(count===0)resolve(results)},reject)});if(count===0)resolve(results);return promise};if(typeof exports.Promise.resolve!=="function")exports.Promise.resolve=
function(value){return new exports.Promise(function(resolve){resolve(value)})};if(typeof exports.Promise.reject!=="function")exports.Promise.reject=function(reason){return new exports.Promise(function(resolve,reject){reject(reason)})};if(typeof exports.Promise.prototype.catch!=="function")exports.Promise.prototype.catch=function(onReject){return exports.Promise.prototype.then(undefined,onReject)};return}var STATUS_PENDING=0;var STATUS_RESOLVED=1;var STATUS_REJECTED=2;var REJECTION_TIMEOUT=500;var asap=
typeof setImmediate==="function"&&setImmediate||function(fn){setTimeout(fn,1)};var HandlerManager={handlers:[],running:false,unhandledRejections:[],pendingRejectionCheck:false,scheduleHandlers:function scheduleHandlers(promise){if(promise._status===STATUS_PENDING)return;this.handlers=this.handlers.concat(promise._handlers);promise._handlers=[];if(this.running)return;this.running=true;asap(this.runHandlers.bind(this),0)},runHandlers:function runHandlers(){var RUN_TIMEOUT=1;var timeoutAt=Date.now()+
RUN_TIMEOUT;while(this.handlers.length>0){var handler=this.handlers.shift();var nextStatus=handler.thisPromise._status;var nextValue=handler.thisPromise._value;try{if(nextStatus===STATUS_RESOLVED){if(typeof handler.onResolve==="function")nextValue=handler.onResolve(nextValue)}else if(typeof handler.onReject==="function"){nextValue=handler.onReject(nextValue);nextStatus=STATUS_RESOLVED;if(handler.thisPromise._unhandledRejection)this.removeUnhandeledRejection(handler.thisPromise)}}catch(ex){nextStatus=
STATUS_REJECTED;nextValue=ex}handler.nextPromise._updateStatus(nextStatus,nextValue);if(Date.now()>=timeoutAt)break}if(this.handlers.length>0){asap(this.runHandlers.bind(this),0);return}this.running=false},addUnhandledRejection:function addUnhandledRejection(promise){this.unhandledRejections.push({promise:promise,time:Date.now()});this.scheduleRejectionCheck()},removeUnhandeledRejection:function removeUnhandeledRejection(promise){promise._unhandledRejection=false;for(var i=0;i<this.unhandledRejections.length;i++)if(this.unhandledRejections[i].promise===
promise){this.unhandledRejections.splice(i);i--}},scheduleRejectionCheck:function scheduleRejectionCheck(){if(this.pendingRejectionCheck)return;this.pendingRejectionCheck=true;setTimeout(function rejectionCheck(){this.pendingRejectionCheck=false;var now=Date.now();for(var i=0;i<this.unhandledRejections.length;i++)if(now-this.unhandledRejections[i].time>REJECTION_TIMEOUT){var unhandled=this.unhandledRejections[i].promise._value;var msg="Unhandled rejection: "+unhandled;if(unhandled.stack)msg+="\n"+
unhandled.stack;warn(msg);this.unhandledRejections.splice(i);i--}if(this.unhandledRejections.length)this.scheduleRejectionCheck()}.bind(this),REJECTION_TIMEOUT)}};function Promise(resolver){this._status=STATUS_PENDING;this._handlers=[];try{resolver.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(e){this._reject(e)}}Promise.all=function Promise_all(promises){var resolveAll,rejectAll;var deferred=new Promise(function(resolve,reject){resolveAll=resolve;rejectAll=reject});var unresolved=
promises.length;var results=[];if(unresolved===0){resolveAll(results);return deferred}function reject(reason){if(deferred._status===STATUS_REJECTED)return;results=[];rejectAll(reason)}for(var i=0,ii=promises.length;i<ii;++i){var promise=promises[i];var resolve=function(i){return function(value){if(deferred._status===STATUS_REJECTED)return;results[i]=value;unresolved--;if(unresolved===0)resolveAll(results)}}(i);if(Promise.isPromise(promise))promise.then(resolve,reject);else resolve(promise)}return deferred};
Promise.isPromise=function Promise_isPromise(value){return value&&typeof value.then==="function"};Promise.resolve=function Promise_resolve(value){return new Promise(function(resolve){resolve(value)})};Promise.reject=function Promise_reject(reason){return new Promise(function(resolve,reject){reject(reason)})};Promise.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function Promise__updateStatus(status,value){if(this._status===STATUS_RESOLVED||this._status===
STATUS_REJECTED)return;if(status===STATUS_RESOLVED&&Promise.isPromise(value)){value.then(this._updateStatus.bind(this,STATUS_RESOLVED),this._updateStatus.bind(this,STATUS_REJECTED));return}this._status=status;this._value=value;if(status===STATUS_REJECTED&&this._handlers.length===0){this._unhandledRejection=true;HandlerManager.addUnhandledRejection(this)}HandlerManager.scheduleHandlers(this)},_resolve:function Promise_resolve(value){this._updateStatus(STATUS_RESOLVED,value)},_reject:function Promise_reject(reason){this._updateStatus(STATUS_REJECTED,
reason)},then:function Promise_then(onResolve,onReject){var nextPromise=new Promise(function(resolve,reject){this.resolve=resolve;this.reject=reject});this._handlers.push({thisPromise:this,onResolve:onResolve,onReject:onReject,nextPromise:nextPromise});HandlerManager.scheduleHandlers(this);return nextPromise},catch:function Promise_catch(onReject){return this.then(undefined,onReject)}};exports.Promise=Promise})(typeof window==="undefined"?this:window);(function(){if(typeof window!=="undefined"){var forge=window.forge=window.forge||{};forge.aes={}}else if(typeof module!=="undefined"&&module.exports){var forge={util:require("./util")};module.exports=forge.aes={}}else if(typeof self!=="undefined"){var forge=self.forge=self.forge||{};forge.aes={}}var init=false;var Nb=4;var sbox;var isbox;var rcon;var mix;var imix;var initialize=function(){init=true;rcon=[0,1,2,4,8,16,32,64,128,27,54];var xtime=new Array(256);for(var i=0;i<128;++i){xtime[i]=i<<1;xtime[i+
128]=i+128<<1^283}sbox=new Array(256);isbox=new Array(256);mix=new Array(4);imix=new Array(4);for(var i=0;i<4;++i){mix[i]=new Array(256);imix[i]=new Array(256)}var e=0,ei=0,e2,e4,e8,sx,sx2,me,ime;for(var i=0;i<256;++i){sx=ei^ei<<1^ei<<2^ei<<3^ei<<4;sx=sx>>8^sx&255^99;sbox[e]=sx;isbox[sx]=e;sx2=xtime[sx];e2=xtime[e];e4=xtime[e2];e8=xtime[e4];me=sx2<<24^sx<<16^sx<<8^(sx^sx2);ime=(e2^e4^e8)<<24^(e^e8)<<16^(e^e4^e8)<<8^(e^e2^e8);for(var n=0;n<4;++n){mix[n][e]=me;imix[n][sx]=ime;me=me<<24|me>>>8;ime=ime<<
24|ime>>>8}if(e===0)e=ei=1;else{e=e2^xtime[xtime[xtime[e2^e8]]];ei^=xtime[xtime[ei]]}}};var expandKey=function(key,decrypt){var w=key.slice(0);var temp,iNk=1;var Nk=w.length;var Nr1=Nk+6+1;var end=Nb*Nr1;for(var i=Nk;i<end;++i){temp=w[i-1];if(i%Nk===0){temp=sbox[temp>>>16&255]<<24^sbox[temp>>>8&255]<<16^sbox[temp&255]<<8^sbox[temp>>>24]^rcon[iNk]<<24;iNk++}else if(Nk>6&&i%Nk==4)temp=sbox[temp>>>24]<<24^sbox[temp>>>16&255]<<16^sbox[temp>>>8&255]<<8^sbox[temp&255];w[i]=w[i-Nk]^temp}if(decrypt){var tmp;
var m0=imix[0];var m1=imix[1];var m2=imix[2];var m3=imix[3];var wnew=w.slice(0);var end=w.length;for(var i=0,wi=end-Nb;i<end;i+=Nb,wi-=Nb)if(i===0||i===end-Nb){wnew[i]=w[wi];wnew[i+1]=w[wi+3];wnew[i+2]=w[wi+2];wnew[i+3]=w[wi+1]}else for(var n=0;n<Nb;++n){tmp=w[wi+n];wnew[i+(3&-n)]=m0[sbox[tmp>>>24]]^m1[sbox[tmp>>>16&255]]^m2[sbox[tmp>>>8&255]]^m3[sbox[tmp&255]]}w=wnew}return w};var _updateBlock=function(w,input,output,decrypt){var Nr=w.length/4-1;var m0,m1,m2,m3,sub;if(decrypt){m0=imix[0];m1=imix[1];
m2=imix[2];m3=imix[3];sub=isbox}else{m0=mix[0];m1=mix[1];m2=mix[2];m3=mix[3];sub=sbox}var a,b,c,d,a2,b2,c2;a=input[0]^w[0];b=input[decrypt?3:1]^w[1];c=input[2]^w[2];d=input[decrypt?1:3]^w[3];var i=3;for(var round=1;round<Nr;++round){a2=m0[a>>>24]^m1[b>>>16&255]^m2[c>>>8&255]^m3[d&255]^w[++i];b2=m0[b>>>24]^m1[c>>>16&255]^m2[d>>>8&255]^m3[a&255]^w[++i];c2=m0[c>>>24]^m1[d>>>16&255]^m2[a>>>8&255]^m3[b&255]^w[++i];d=m0[d>>>24]^m1[a>>>16&255]^m2[b>>>8&255]^m3[c&255]^w[++i];a=a2;b=b2;c=c2}output[0]=sub[a>>>
24]<<24^sub[b>>>16&255]<<16^sub[c>>>8&255]<<8^sub[d&255]^w[++i];output[decrypt?3:1]=sub[b>>>24]<<24^sub[c>>>16&255]<<16^sub[d>>>8&255]<<8^sub[a&255]^w[++i];output[2]=sub[c>>>24]<<24^sub[d>>>16&255]<<16^sub[a>>>8&255]<<8^sub[b&255]^w[++i];output[decrypt?1:3]=sub[d>>>24]<<24^sub[a>>>16&255]<<16^sub[b>>>8&255]<<8^sub[c&255]^w[++i]};var _createCipher=function(key,iv,output,decrypt){var cipher=null;if(!init)initialize();if(key.constructor==String&&(key.length==16||(key.length==24||key.length==32)))key=
forge.util.createBuffer(key);else if(key.constructor==Array&&(key.length==16||(key.length==24||key.length==32))){var tmp=key;var key=forge.util.createBuffer();for(var i=0;i<tmp.length;++i)key.putByte(tmp[i])}if(key.constructor!=Array){var tmp=key;key=[];var len=tmp.length();if(len==16||(len==24||len==32)){len=len>>>2;for(var i=0;i<len;++i)key.push(tmp.getInt32())}}if(key.constructor==Array&&(key.length==4||(key.length==6||key.length==8))){var _w=expandKey(key,decrypt);var _blockSize=Nb<<2;var _input;
var _output;var _inBlock;var _outBlock;var _prev;var _finish;cipher={output:null};cipher.update=function(input){if(!_finish)_input.putBuffer(input);var threshold=decrypt&&!_finish?_blockSize<<1:_blockSize;while(_input.length()>=threshold){if(decrypt)for(var i=0;i<Nb;++i)_inBlock[i]=_input.getInt32();else for(var i=0;i<Nb;++i)_inBlock[i]=_prev[i]^_input.getInt32();_updateBlock(_w,_inBlock,_outBlock,decrypt);if(decrypt){for(var i=0;i<Nb;++i)_output.putInt32(_prev[i]^_outBlock[i]);_prev=_inBlock.slice(0)}else{for(var i=
0;i<Nb;++i)_output.putInt32(_outBlock[i]);_prev=_outBlock}}};cipher.finish=function(pad){var rval=true;if(!decrypt)if(pad)rval=pad(_blockSize,_input,decrypt);else{var padding=_input.length()==_blockSize?_blockSize:_blockSize-_input.length();_input.fillWithByte(padding,padding)}if(rval){_finish=true;cipher.update()}if(decrypt){rval=_input.length()===0;if(rval)if(pad)rval=pad(_blockSize,_output,decrypt);else{var len=_output.length();var count=_output.at(len-1);if(count>Nb<<2)rval=false;else _output.truncate(count)}}return rval};
cipher.start=function(iv,output){iv=iv||_prev.slice(0);if(iv.constructor==String&&iv.length==16)iv=forge.util.createBuffer(iv);else if(iv.constructor==Array&&iv.length==16){var tmp=iv;var iv=forge.util.createBuffer();for(var i=0;i<16;++i)iv.putByte(tmp[i])}if(iv.constructor!=Array){var tmp=iv;iv=new Array(4);iv[0]=tmp.getInt32();iv[1]=tmp.getInt32();iv[2]=tmp.getInt32();iv[3]=tmp.getInt32()}_input=forge.util.createBuffer();_output=output||forge.util.createBuffer();_prev=iv.slice(0);_inBlock=new Array(Nb);
_outBlock=new Array(Nb);_finish=false;cipher.output=_output};if(iv!==null)cipher.start(iv,output)}return cipher};forge.aes.startEncrypting=function(key,iv,output){return _createCipher(key,iv,output,false)};forge.aes.createEncryptionCipher=function(key){return _createCipher(key,null,null,false)};forge.aes.startDecrypting=function(key,iv,output){return _createCipher(key,iv,output,true)};forge.aes.createDecryptionCipher=function(key){return _createCipher(key,null,null,true)};forge.aes._expandKey=function(key,
decrypt){if(!init)initialize();return expandKey(key,decrypt)};forge.aes._updateBlock=_updateBlock})();(function(){if(typeof window!=="undefined"){var forge=window.forge=window.forge||{};forge.util={}}else if(typeof module!=="undefined"&&module.exports){var forge={};module.exports=forge.util={}}else if(typeof self!=="undefined"){var forge=self.forge=self.forge||{};forge.util={}}var util=forge.util;util.ByteBuffer=function(b){this.data=b||"";this.read=0};util.ByteBuffer.prototype.length=function(){return this.data.length-this.read};util.ByteBuffer.prototype.isEmpty=function(){return this.data.length-
this.read===0};util.ByteBuffer.prototype.putByte=function(b){this.data+=String.fromCharCode(b)};util.ByteBuffer.prototype.fillWithByte=function(b,n){b=String.fromCharCode(b);var d=this.data;while(n>0){if(n&1)d+=b;n>>>=1;if(n>0)b+=b}this.data=d};util.ByteBuffer.prototype.putBytes=function(bytes){this.data+=bytes};util.ByteBuffer.prototype.putString=function(str){this.data+=util.encodeUtf8(str)};util.ByteBuffer.prototype.putInt16=function(i){this.data+=String.fromCharCode(i>>8&255)+String.fromCharCode(i&
255)};util.ByteBuffer.prototype.putInt24=function(i){this.data+=String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};util.ByteBuffer.prototype.putInt32=function(i){this.data+=String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};util.ByteBuffer.prototype.putInt16Le=function(i){this.data+=String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)};util.ByteBuffer.prototype.putInt24Le=function(i){this.data+=
String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)};util.ByteBuffer.prototype.putInt32Le=function(i){this.data+=String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>24&255)};util.ByteBuffer.prototype.putInt=function(i,n){do{n-=8;this.data+=String.fromCharCode(i>>n&255)}while(n>0)};util.ByteBuffer.prototype.putBuffer=function(buffer){this.data+=buffer.getBytes()};util.ByteBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};
util.ByteBuffer.prototype.getInt16=function(){var rval=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);this.read+=2;return rval};util.ByteBuffer.prototype.getInt24=function(){var rval=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);this.read+=3;return rval};util.ByteBuffer.prototype.getInt32=function(){var rval=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<
8^this.data.charCodeAt(this.read+3);this.read+=4;return rval};util.ByteBuffer.prototype.getInt16Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;this.read+=2;return rval};util.ByteBuffer.prototype.getInt24Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;this.read+=3;return rval};util.ByteBuffer.prototype.getInt32Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+
1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return rval};util.ByteBuffer.prototype.getInt=function(n){var rval=0;do{rval=(rval<<n)+this.data.charCodeAt(this.read++);n-=8}while(n>0);return rval};util.ByteBuffer.prototype.getBytes=function(count){var rval;if(count){count=Math.min(this.length(),count);rval=this.data.slice(this.read,this.read+count);this.read+=count}else if(count===0)rval="";else{rval=this.read===0?this.data:this.data.slice(this.read);
this.clear()}return rval};util.ByteBuffer.prototype.bytes=function(count){return typeof count==="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+count)};util.ByteBuffer.prototype.at=function(i){return this.data.charCodeAt(this.read+i)};util.ByteBuffer.prototype.setAt=function(i,b){this.data=this.data.substr(0,this.read+i)+String.fromCharCode(b)+this.data.substr(this.read+i+1)};util.ByteBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};util.ByteBuffer.prototype.copy=
function(){var c=util.createBuffer(this.data);c.read=this.read;return c};util.ByteBuffer.prototype.compact=function(){if(this.read>0){this.data=this.data.slice(this.read);this.read=0}};util.ByteBuffer.prototype.clear=function(){this.data="";this.read=0};util.ByteBuffer.prototype.truncate=function(count){var len=Math.max(0,this.length()-count);this.data=this.data.substr(this.read,len);this.read=0};util.ByteBuffer.prototype.toHex=function(){var rval="";for(var i=this.read;i<this.data.length;++i){var b=
this.data.charCodeAt(i);if(b<16)rval+="0";rval+=b.toString(16)}return rval};util.ByteBuffer.prototype.toString=function(){return util.decodeUtf8(this.bytes())};util.createBuffer=function(input,encoding){encoding=encoding||"raw";if(input!==undefined&&encoding==="utf8")input=util.encodeUtf8(input);return new util.ByteBuffer(input)};util.fillString=function(c,n){var s="";while(n>0){if(n&1)s+=c;n>>>=1;if(n>0)c+=c}return s};util.xorBytes=function(s1,s2,n){var s3="";var b="";var t="";var i=0;var c=0;for(;n>
0;--n,++i){b=s1.charCodeAt(i)^s2.charCodeAt(i);if(c>=10){s3+=t;t="";c=0}t+=String.fromCharCode(b);++c}s3+=t;return s3};util.hexToBytes=function(hex){var rval="";var i=0;if(hex.length&1==1){i=1;rval+=String.fromCharCode(parseInt(hex[0],16))}for(;i<hex.length;i+=2)rval+=String.fromCharCode(parseInt(hex.substr(i,2),16));return rval};util.bytesToHex=function(bytes){return util.createBuffer(bytes).toHex()};util.int32ToBytes=function(i){return String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+
String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};var _base64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var _base64Idx=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];util.encode64=function(input,maxline){var line="";var output="";var chr1,chr2,chr3;var i=0;while(i<input.length){chr1=
input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);line+=_base64.charAt(chr1>>2);line+=_base64.charAt((chr1&3)<<4|chr2>>4);if(isNaN(chr2))line+="==";else{line+=_base64.charAt((chr2&15)<<2|chr3>>6);line+=isNaN(chr3)?"=":_base64.charAt(chr3&63)}if(maxline&&line.length>maxline){output+=line.substr(0,maxline)+"\r\n";line=line.substr(maxline)}}output+=line;return output};util.decode64=function(input){input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");var output="";var enc1,enc2,enc3,
enc4;var i=0;while(i<input.length){enc1=_base64Idx[input.charCodeAt(i++)-43];enc2=_base64Idx[input.charCodeAt(i++)-43];enc3=_base64Idx[input.charCodeAt(i++)-43];enc4=_base64Idx[input.charCodeAt(i++)-43];output+=String.fromCharCode(enc1<<2|enc2>>4);if(enc3!==64){output+=String.fromCharCode((enc2&15)<<4|enc3>>2);if(enc4!==64)output+=String.fromCharCode((enc3&3)<<6|enc4)}}return output};util.encodeUtf8=function(str){return unescape(encodeURIComponent(str))};util.decodeUtf8=function(str){return decodeURIComponent(escape(str))};
util.deflate=function(api,bytes,raw){bytes=util.decode64(api.deflate(util.encode64(bytes)).rval);if(raw){var start=2;var flg=bytes.charCodeAt(1);if(flg&32)start=6;bytes=bytes.substring(start,bytes.length-4)}return bytes};util.inflate=function(api,bytes,raw){var rval=api.inflate(util.encode64(bytes)).rval;return rval===null?null:util.decode64(rval)};var _setStorageObject=function(api,id,obj){if(!api)throw{message:"WebStorage not available."};var rval;if(obj===null)rval=api.removeItem(id);else{obj=
util.encode64(JSON.stringify(obj));rval=api.setItem(id,obj)}if(typeof rval!=="undefined"&&rval.rval!==true)throw rval.error;};var _getStorageObject=function(api,id){if(!api)throw{message:"WebStorage not available."};var rval=api.getItem(id);if(api.init)if(rval.rval===null){if(rval.error)throw rval.error;rval=null}else rval=rval.rval;if(rval!==null)rval=JSON.parse(util.decode64(rval));return rval};var _setItem=function(api,id,key,data){var obj=_getStorageObject(api,id);if(obj===null)obj={};obj[key]=
data;_setStorageObject(api,id,obj)};var _getItem=function(api,id,key){var rval=_getStorageObject(api,id);if(rval!==null)rval=key in rval?rval[key]:null;return rval};var _removeItem=function(api,id,key){var obj=_getStorageObject(api,id);if(obj!==null&&key in obj){delete obj[key];var empty=true;for(var prop in tmp){empty=false;break}if(empty)obj=null;_setStorageObject(api,id,obj)}};var _clearItems=function(api,id){_setStorageObject(api,id,null)};var _callStorageFunction=function(func,args,location){var rval=
null;if(typeof location==="undefined")location=["web","flash"];var type;var done=false;var exception=null;for(var idx in location){type=location[idx];try{if(type==="flash"||type==="both")if(args[0]===null)throw{message:"Flash local storage not available."};else{rval=func.apply(this,args);done=type==="flash"}if(type==="web"||type==="both"){args[0]=localStorage;rval=func.apply(this,args);done=true}}catch(ex){exception=ex}if(done)break}if(!done)throw exception;return rval};util.setItem=function(api,
id,key,data,location){_callStorageFunction(_setItem,arguments,location)};util.getItem=function(api,id,key,location){return _callStorageFunction(_getItem,arguments,location)};util.removeItem=function(api,id,key,location){_callStorageFunction(_removeItem,arguments,location)};util.clearItems=function(api,id,location){_callStorageFunction(_clearItems,arguments,location)};util.parseUrl=function(str){var regex=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;regex.lastIndex=0;var m=regex.exec(str);var url=m===
null?null:{full:str,scheme:m[1],host:m[2],port:m[3],path:m[4]};if(url){url.fullHost=url.host;if(url.port)if(url.port!==80&&url.scheme==="http")url.fullHost+=":"+url.port;else{if(url.port!==443&&url.scheme==="https")url.fullHost+=":"+url.port}else if(url.scheme==="http")url.port=80;else if(url.scheme==="https")url.port=443;url.full=url.scheme+"://"+url.fullHost}return url};var _queryVariables=null;util.getQueryVariables=function(query){var parse=function(q){var rval={};var kvpairs=q.split("&");for(var i=
0;i<kvpairs.length;i++){var pos=kvpairs[i].indexOf("=");var key;var val;if(pos>0){key=kvpairs[i].substring(0,pos);val=kvpairs[i].substring(pos+1)}else{key=kvpairs[i];val=null}if(!(key in rval))rval[key]=[];if(val!==null)rval[key].push(unescape(val))}return rval};var rval;if(typeof query==="undefined"){if(_queryVariables===null)if(typeof window==="undefined")_queryVariables={};else _queryVariables=parse(window.location.search.substring(1));rval=_queryVariables}else rval=parse(query);return rval};util.parseFragment=
function(fragment){var fp=fragment;var fq="";var pos=fragment.indexOf("?");if(pos>0){fp=fragment.substring(0,pos);fq=fragment.substring(pos+1)}var path=fp.split("/");if(path.length>0&&path[0]=="")path.shift();var query=fq==""?{}:util.getQueryVariables(fq);return{pathString:fp,queryString:fq,path:path,query:query}};util.makeRequest=function(reqString){var frag=util.parseFragment(reqString);var req={path:frag.pathString,query:frag.queryString,getPath:function(i){return typeof i==="undefined"?frag.path:
frag.path[i]},getQuery:function(k,i){var rval;if(typeof k==="undefined")rval=frag.query;else{rval=frag.query[k];if(rval&&typeof i!=="undefined")rval=rval[i]}return rval},getQueryLast:function(k,_default){var rval;var vals=req.getQuery(k);if(vals)rval=vals[vals.length-1];else rval=_default;return rval}};return req};util.makeLink=function(path,query,fragment){path=jQuery.isArray(path)?path.join("/"):path;var qstr=jQuery.param(query||{});fragment=fragment||"";return path+(qstr.length>0?"?"+qstr:"")+
(fragment.length>0?"#"+fragment:"")};util.setPath=function(object,keys,value){if(typeof object==="object"&&object!==null){var i=0;var len=keys.length;while(i<len){var next=keys[i++];if(i==len)object[next]=value;else{var hasNext=next in object;if(!hasNext||(hasNext&&typeof object[next]!=="object"||hasNext&&object[next]===null))object[next]={};object=object[next]}}}};util.getPath=function(object,keys,_default){var i=0;var len=keys.length;var hasNext=true;while(hasNext&&(i<len&&(typeof object==="object"&&
object!==null))){var next=keys[i++];hasNext=next in object;if(hasNext)object=object[next]}return hasNext?object:_default};util.deletePath=function(object,keys){if(typeof object==="object"&&object!==null){var i=0;var len=keys.length;while(i<len){var next=keys[i++];if(i==len)delete object[next];else{if(!(next in object)||(typeof object[next]!=="object"||object[next]===null))break;object=object[next]}}}};util.isEmpty=function(obj){for(var prop in obj)if(obj.hasOwnProperty(prop))return false;return true};
util.format=function(format){var re=/%./g;var match;var part;var argi=0;var parts=[];var last=0;while(match=re.exec(format)){part=format.substring(last,re.lastIndex-2);if(part.length>0)parts.push(part);last=re.lastIndex;var code=match[0][1];switch(code){case "s":case "o":if(argi<arguments.length)parts.push(arguments[argi++ +1]);else parts.push("<?>");break;case "%":parts.push("%");break;default:parts.push("<%"+code+"?>")}}parts.push(format.substring(last));return parts.join("")};util.formatNumber=
function(number,decimals,dec_point,thousands_sep){var n=number,c=isNaN(decimals=Math.abs(decimals))?2:decimals;var d=dec_point===undefined?",":dec_point;var t=thousands_sep===undefined?".":thousands_sep,s=n<0?"-":"";var i=parseInt(n=Math.abs(+n||0).toFixed(c),10)+"";var j=i.length>3?i.length%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"")};util.formatSize=function(size){if(size>=1073741824)size=util.formatNumber(size/1073741824,
2,".","")+" GiB";else if(size>=1048576)size=util.formatNumber(size/1048576,2,".","")+" MiB";else if(size>=1024)size=util.formatNumber(size/1024,0)+" KiB";else size=util.formatNumber(size,0)+" bytes";return size}})();(function(){function a(e,t){if(!t||typeof t=="function")return e;for(var n in t)e[n]=t[n];return e}function f(e,t,n){var r,i=0,s=e.length,o=s===undefined||typeof e=="function";if(n)if(o)for(r in e){if(t.apply(e[r],n)===!1)break}else for(;i<s;){if(t.apply(e[i++],n)===!1)break}else if(o)for(r in e){if(t.call(e[r],r,e[r])===!1)break}else for(;i<s;)if(t.call(e[i],i,e[i++])===!1)break;return e}function l(e){var t=function(e){if(window.XMLHttpRequest)return e(null,new XMLHttpRequest);if(window.ActiveXObject)try{return e(null,
new ActiveXObject("Msxml2.XMLHTTP"))}catch(t){return e(null,new ActiveXObject("Microsoft.XMLHTTP"))}return e(new Error)},n=function(e){if(typeof e=="string")return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},r=function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(r&63|128)):
(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(r&63|128))}return t},i=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=r(e);var n="",i,s,o,u,a,f,l,c=0;do i=e.charCodeAt(c++),s=e.charCodeAt(c++),o=e.charCodeAt(c++),u=i>>2,a=(i&3)<<4|s>>4,f=(s&15)<<2|o>>6,l=o&63,isNaN(s)?f=l=64:isNaN(o)&&(l=64),n+=t.charAt(u)+t.charAt(a)+t.charAt(f)+t.charAt(l),i=s=o="",u=a=f=l="";while(c<e.length);return n},s=function(){var e=arguments[0];
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e},o=function(e,r,i,u){typeof i=="function"&&(u=i,i={}),i.cache=i.cache||!1,i.data=i.data||{},i.headers=i.headers||{},i.jsonp=i.jsonp||!1,i.async=i.async===undefined?!0:i.async;var a=s({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},o.headers,i.headers),f;a["content-type"]==="application/json"?f=JSON.stringify(i.data):f=n(i.data);if(e==="GET"){var l=[];f&&(l.push(f),
f=null),i.cache||l.push("_="+(new Date).getTime()),i.jsonp&&(l.push("callback="+i.jsonp),l.push("jsonp="+i.jsonp)),l=l.join("&"),l.length>1&&(r.indexOf("?")>-1?r+="&"+l:r+="?"+l);if(i.jsonp){var c=document.getElementsByTagName("head")[0],h=document.createElement("script");h.type="text/javascript",h.src=r,c.appendChild(h);return}}t(function(t,n){if(t)return u(t);n.open(e,r,i.async);for(var s in a)a.hasOwnProperty(s)&&n.setRequestHeader(s,a[s]);n.onreadystatechange=function(){if(n.readyState===4){var e=
n.responseText||"";if(!u)return;u(n.status,{text:function(){return e},json:function(){return JSON.parse(e)}})}},n.send(f)})},u={authBasic:function(e,t){o.headers.Authorization="Basic "+i(e+":"+t)},connect:function(e,t,n){return o("CONNECT",e,t,n)},del:function(e,t,n){return o("DELETE",e,t,n)},get:function(e,t,n){return o("GET",e,t,n)},head:function(e,t,n){return o("HEAD",e,t,n)},headers:function(e){o.headers=e||{}},isAllowed:function(e,t,n){this.options(e,function(e,r){n(r.text().indexOf(t)!==-1)})},
options:function(e,t,n){return o("OPTIONS",e,t,n)},patch:function(e,t,n){return o("PATCH",e,t,n)},post:function(e,t,n){return o("POST",e,t,n)},put:function(e,t,n){return o("PUT",e,t,n)},trace:function(e,t,n){return o("TRACE",e,t,n)}},a=e.type?e.type.toLowerCase():"get";u[a](e.url,e,function(t,n){t===200?e.success(n.json(),t,null):e.error(n.text(),t,null)})}function d(e,s){typeof e=="function"&&(s=e,e={}),e=e||{},p.extend(u,e),typeof u.ns=="string"&&(u.ns={namespaces:[u.ns],defaultNs:u.ns}),u.interpolationPrefixEscaped=
p.regexEscape(u.interpolationPrefix),u.interpolationSuffixEscaped=p.regexEscape(u.interpolationSuffix),u.lng||(u.lng=p.detectLanguage()),u.lng?u.useCookie&&p.cookie.create(u.cookieName,u.lng,u.cookieExpirationTime):(u.lng=u.fallbackLng,u.useCookie&&p.cookie.remove(u.cookieName)),o=p.toLanguages(u.lng),i=o[0],p.log("currentLng set to: "+i),_.setCurrentLng(i),t&&(u.setJqueryExt&&S());var a;t&&(t.Deferred&&(a=t.Deferred()));if(u.resStore){r=u.resStore,s&&s(L),a&&a.resolve();if(a)return a.promise();return}var f=
p.toLanguages(u.lng);typeof u.preload=="string"&&(u.preload=[u.preload]);for(var l=0,c=u.preload.length;l<c;l++){var h=p.toLanguages(u.preload[l]);for(var d=0,v=h.length;d<v;d++)f.indexOf(h[d])<0&&f.push(h[d])}n.sync.load(f,u,function(e,t){r=t,s&&s(L),a&&a.resolve()});if(a)return a.promise()}function v(e,t){typeof e=="string"&&(e=[e]);for(var n=0,r=e.length;n<r;n++)u.preload.indexOf(e[n])<0&&u.preload.push(e[n]);return d(t)}function m(e,t,n){typeof t!="string"&&(n=t,t=u.ns.defaultNs),r[e]=r[e]||{},
r[e][t]=r[e][t]||{},p.extend(r[e][t],n)}function g(e){u.ns.defaultNs=e}function y(e,t){b([e],t)}function b(e,t){var i={dynamicLoad:u.dynamicLoad,resGetPath:u.resGetPath,getAsync:u.getAsync,ns:{namespaces:e,defaultNs:""}},s=p.toLanguages(u.lng);typeof u.preload=="string"&&(u.preload=[u.preload]);for(var o=0,a=u.preload.length;o<a;o++){var f=p.toLanguages(u.preload[o]);for(var l=0,c=f.length;l<c;l++)s.indexOf(f[l])<0&&s.push(f[l])}var h=[];for(var d=0,v=s.length;d<v;d++){var m=!1,g=r[s[d]];if(g)for(var y=
0,b=e.length;y<b;y++)g[e[y]]||(m=!0);else m=!0;m&&h.push(s[d])}h.length?n.sync._fetch(h,i,function(i,s){var o=e.length*h.length;p.each(e,function(e,i){p.each(h,function(e,a){r[a]=r[a]||{},r[a][i]=s[a][i],o--,o===0&&(t&&(u.useLocalStorage&&n.sync._storeLocal(r),t()))})})}):t&&t()}function w(e,t){return d({lng:e},t)}function E(){return i}function S(){function e(e,n,r){if(n.length===0)return;var i="text";if(n.indexOf("[")===0){var s=n.split("]");n=s[1],i=s[0].substr(1,s[0].length-1)}n.indexOf(";")===
n.length-1&&(n=n.substr(0,n.length-2));var o;i==="html"?(o=u.defaultValueFromContent?t.extend({defaultValue:e.html()},r):r,e.html(t.t(n,o))):i==="text"?(o=u.defaultValueFromContent?t.extend({defaultValue:e.text()},r):r,e.text(t.t(n,o))):(o=u.defaultValueFromContent?t.extend({defaultValue:e.attr(i)},r):r,e.attr(i,t.t(n,o)))}function n(n,r){var i=n.attr(u.selectorAttr);if(!i)return;var s=n,o=n.data("i18n-target");o&&(s=n.find(o)||n),!r&&(u.useDataAttrOptions===!0&&(r=n.data("i18n-options"))),r=r||{};
if(i.indexOf(";")<=i.length-1){var a=i.split(";");t.each(a,function(t,n){e(s,n,r)})}else e(s,k,r);u.useDataAttrOptions===!0&&n.data("i18n-options",r)}t.t=t.t||L,t.fn.i18n=function(e){return this.each(function(){n(t(this),e);var r=t(this).find("["+u.selectorAttr+"]");r.each(function(){n(t(this),e)})})}}function x(e,t,n,r){r=r||t;if(e.indexOf(r.interpolationPrefix||u.interpolationPrefix)<0)return e;var i=r.interpolationPrefix?p.regexEscape(r.interpolationPrefix):u.interpolationPrefixEscaped,s=r.interpolationSuffix?
p.regexEscape(r.interpolationSuffix):u.interpolationSuffixEscaped;return p.each(t,function(t,o){typeof o=="object"&&o!==null?e=x(e,o,n?n+u.keyseparator+t:t,r):e=e.replace(new RegExp([i,n?n+u.keyseparator+t:t,s].join(""),"g"),o)}),e}function T(e,t){var n=",",r="{",i="}",o=p.extend({},t);delete o.postProcess;while(e.indexOf(u.reusePrefix)!=-1){s++;if(s>u.maxRecursion)break;var a=e.indexOf(u.reusePrefix),f=e.indexOf(u.reuseSuffix,a)+u.reuseSuffix.length,l=e.substring(a,f),c=l.replace(u.reusePrefix,"").replace(u.reuseSuffix,
"");if(c.indexOf(n)!=-1){var h=c.indexOf(n);if(c.indexOf(r,h)!=-1&&c.indexOf(i,h)!=-1){var d=c.indexOf(r,h),v=c.indexOf(i,d)+i.length;try{o=p.extend(o,JSON.parse(c.substring(d,v))),c=c.substring(0,h)}catch(m){}}}var g=A(c,o);e=e.replace(l,g)}return e}function N(e){return e.context&&typeof e.context=="string"}function C(e){return e.count!==undefined&&(typeof e.count!="string"&&e.count!==1)}function L(e,t){return s=0,A(e,t)}function A(e,t){t=t||{};if(!r)return f;var s,a,f=t.defaultValue||e,l=o;if(t.lng){l=
p.toLanguages(t.lng);if(!r[l[0]]){var c=u.getAsync;u.getAsync=!1,n.sync.load(l,u,function(e,t){p.extend(r,t),u.getAsync=c})}}var h=t.ns||u.ns.defaultNs;if(e.indexOf(u.nsseparator)>-1){var d=e.split(u.nsseparator);h=d[0],e=d[1]}if(N(t)){s=p.extend({},t),delete s.context,s.defaultValue=u.contextNotFound;var v=h+u.nsseparator+e+"_"+t.context;a=L(v,s);if(a!=u.contextNotFound)return x(a,{context:t.context})}if(C(t)){s=p.extend({},t),delete s.count,s.defaultValue=u.pluralNotFound;var m=h+u.nsseparator+
e+u.pluralSuffix,g=_.get(i,t.count);g>=0?m=m+"_"+g:g===1&&(m=h+u.nsseparator+e),a=L(m,s);if(a!=u.pluralNotFound)return x(a,{count:t.count})}var y,b=e.split(u.keyseparator);for(var w=0,E=l.length;w<E;w++){if(y)break;var S=l[w],k=0,O=r[S]&&r[S][h];while(b[k])O=O&&O[b[k]],k++;if(O!==undefined){if(typeof O=="string")O=x(O,t),O=T(O,t);else if(Object.prototype.toString.apply(O)==="[object Array]"&&(!u.returnObjectTrees&&!t.returnObjectTrees))O=O.join("\n"),O=x(O,t),O=T(O,t);else if(!u.returnObjectTrees&&
!t.returnObjectTrees)O="key '"+h+":"+e+" ("+S+")' "+"returned a object instead of string.",p.log(O);else{var P={};for(var H in O)P[H]=A(h+u.nsseparator+e+u.keyseparator+H,t);O=P}y=O}}y===undefined&&(u.fallbackToDefaultNS&&(y=A(e,t))),y===undefined&&(u.sendMissing&&(t.lng?M.postMissing(l[0],h,e,f,l):M.postMissing(u.lng,h,e,f,l)));var B=t.postProcess||u.postProcess;return y!==undefined&&(B&&(D[B]&&(y=D[B](y,e,t)))),y===undefined&&(f=x(f,t),f=T(f,t)),y!==undefined?y:f}function O(){var e,t=[];typeof window!=
"undefined"&&(function(){var e=window.location.search.substring(1),n=e.split("&");for(var r=0;r<n.length;r++){var i=n[r].indexOf("=");if(i>0){var s=n[r].substring(0,i),o=n[r].substring(i+1);t[s]=o}}}(),t[u.detectLngQS]&&(e=t[u.detectLngQS]));if(!e&&(typeof document!="undefined"&&u.useCookie)){var n=p.cookie.read(u.cookieName);n&&(e=n)}return!e&&(typeof navigator!="undefined"&&(e=navigator.language?navigator.language:navigator.userLanguage)),e}Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(this==
null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(n===0)return-1;var r=0;arguments.length>0&&(r=Number(arguments[1]),r!=r?r=0:r!=0&&(r!=Infinity&&(r!=-Infinity&&(r=(r>0||-1)*Math.floor(Math.abs(r))))));if(r>=n)return-1;var i=r>=0?r:Math.max(n-Math.abs(r),0);for(;i<n;i++)if(i in t&&t[i]===e)return i;return-1});var e=this,t=e.jQuery,n={},r={},i,s=0,o=[];typeof module!="undefined"&&module.exports?module.exports=n:(t&&(t.i18n=t.i18n||n),e.i18n=e.i18n||n);var u={lng:undefined,load:"all",preload:[],
lowerCaseLng:!1,returnObjectTrees:!1,fallbackLng:"dev",detectLngQS:"setLng",ns:"translation",fallbackToDefaultNS:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:undefined,useLocalStorage:!1,localStorageExpirationTime:6048E5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",reusePrefix:"$t(",
reuseSuffix:")",pluralSuffix:"_plural",pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),setJqueryExt:!0,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:undefined,useCookie:!0,cookieName:"i18next",postProcess:undefined},c={create:function(e,t,n){var r;if(n){var i=new Date;i.setTime(i.getTime()+n*60*1E3),r="; expires="+i.toGMTString()}else r="";document.cookie=e+"="+t+r+"; path=/"},read:function(e){var t=e+
"=",n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=n[r];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},h={create:function(e,t,n){},read:function(e){return null},remove:function(e){}},p={extend:t?t.extend:a,each:t?t.each:f,ajax:t?t.ajax:l,cookie:typeof document!="undefined"?c:h,detectLanguage:O,log:function(e){u.debug&&(typeof console!="undefined"&&console.log(e))},toLanguages:function(e){var t=
[];if(typeof e=="string"&&e.indexOf("-")>-1){var n=e.split("-");e=u.lowerCaseLng?n[0].toLowerCase()+"-"+n[1].toLowerCase():n[0].toLowerCase()+"-"+n[1].toUpperCase(),u.load!=="unspecific"&&t.push(e),u.load!=="current"&&t.push(n[0])}else t.push(e);return t.indexOf(u.fallbackLng)===-1&&(u.fallbackLng&&t.push(u.fallbackLng)),t},regexEscape:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},M={load:function(e,t,n){t.useLocalStorage?M._loadLocal(e,t,function(r,i){var s=[];for(var o=
0,u=e.length;o<u;o++)i[e[o]]||s.push(e[o]);s.length>0?M._fetch(s,t,function(e,t){p.extend(i,t),M._storeLocal(t),n(null,i)}):n(null,i)}):M._fetch(e,t,function(e,t){n(null,t)})},_loadLocal:function(e,t,n){var r={},i=(new Date).getTime();if(window.localStorage){var s=e.length;p.each(e,function(e,o){var u=window.localStorage.getItem("res_"+o);u&&(u=JSON.parse(u),u.i18nStamp&&(u.i18nStamp+t.localStorageExpirationTime>i&&(r[o]=u))),s--,s===0&&n(null,r)})}},_storeLocal:function(e){if(window.localStorage)for(var t in e)e[t].i18nStamp=
(new Date).getTime(),window.localStorage.setItem("res_"+t,JSON.stringify(e[t]));return},_fetch:function(e,t,n){var r=t.ns,i={};if(!t.dynamicLoad){var s=r.namespaces.length*e.length,o;p.each(r.namespaces,function(r,u){p.each(e,function(e,r){var a=function(e,t){e&&(o=o||[],o.push(e)),i[r]=i[r]||{},i[r][u]=t,s--,s===0&&n(o,i)};typeof t.customLoad=="function"?t.customLoad(r,u,t,a):M._fetchOne(r,u,t,a)})})}else{var u=x(t.resGetPath,{lng:e.join("+"),ns:r.namespaces.join("+")});p.ajax({url:u,success:function(e,
t,r){p.log("loaded: "+u),n(null,e)},error:function(e,t,r){p.log("failed loading: "+u),n("failed loading resource.json error: "+r)},dataType:"json",async:t.getAsync})}},_fetchOne:function(e,t,n,r){var i=x(n.resGetPath,{lng:e,ns:t});p.ajax({url:i,success:function(e,t,n){p.log("loaded: "+i),r(null,e)},error:function(e,t,n){p.log("failed loading: "+i),r(n,{})},dataType:"json",async:n.getAsync})},postMissing:function(e,t,n,i,s){var o={};o[n]=i;var a=[];if(u.sendMissingTo==="fallback")a.push({lng:u.fallbackLng,
url:x(u.resPostPath,{lng:u.fallbackLng,ns:t})});else if(u.sendMissingTo==="current")a.push({lng:e,url:x(u.resPostPath,{lng:e,ns:t})});else if(u.sendMissingTo==="all")for(var f=0,l=s.length;f<l;f++)a.push({lng:s[f],url:x(u.resPostPath,{lng:s[f],ns:t})});for(var c=0,h=a.length;c<h;c++){var d=a[c];p.ajax({url:d.url,type:u.sendType,data:o,success:function(e,s,o){p.log("posted missing key '"+n+"' to: "+d.url);var u=n.split("."),a=0,f=r[d.lng][t];while(u[a])a===u.length-1?f=f[u[a]]=i:f=f[u[a]]=f[u[a]]||
{},a++},error:function(e,t,r){p.log("failed posting missing key '"+n+"' to: "+d.url)},dataType:"json",async:u.postAsync})}}},_={rules:{ach:{name:"Acholi",numbers:[1,2],plurals:function(e){return Number(e>1)}},af:{name:"Afrikaans",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ak:{name:"Akan",numbers:[1,2],plurals:function(e){return Number(e>1)}},am:{name:"Amharic",numbers:[1,2],plurals:function(e){return Number(e>1)}},an:{name:"Aragonese",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},ar:{name:"Arabic",numbers:[0,1,2,3,11,100],plurals:function(e){return Number(e===0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)}},arn:{name:"Mapudungun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ast:{name:"Asturian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ay:{name:"Aymar\u00e1",numbers:[1],plurals:function(e){return 0}},az:{name:"Azerbaijani",numbers:[1,2],plurals:function(e){return Number(e!=1)}},be:{name:"Belarusian",numbers:[1,2,5],plurals:function(e){return Number(e%
10==1&&e%100!=11?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?1:2)}},bg:{name:"Bulgarian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},bn:{name:"Bengali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},bo:{name:"Tibetan",numbers:[1],plurals:function(e){return 0}},br:{name:"Breton",numbers:[1,2],plurals:function(e){return Number(e>1)}},bs:{name:"Bosnian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?1:2)}},ca:{name:"Catalan",
numbers:[1,2],plurals:function(e){return Number(e!=1)}},cgg:{name:"Chiga",numbers:[1],plurals:function(e){return 0}},cs:{name:"Czech",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)}},csb:{name:"Kashubian",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?1:2)}},cy:{name:"Welsh",numbers:[1,2,3,8],plurals:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)}},da:{name:"Danish",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},de:{name:"German",numbers:[1,2],plurals:function(e){return Number(e!=1)}},dz:{name:"Dzongkha",numbers:[1],plurals:function(e){return 0}},el:{name:"Greek",numbers:[1,2],plurals:function(e){return Number(e!=1)}},en:{name:"English",numbers:[1,2],plurals:function(e){return Number(e!=1)}},eo:{name:"Esperanto",numbers:[1,2],plurals:function(e){return Number(e!=1)}},es:{name:"Spanish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},es_ar:{name:"Argentinean Spanish",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},et:{name:"Estonian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},eu:{name:"Basque",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fa:{name:"Persian",numbers:[1],plurals:function(e){return 0}},fi:{name:"Finnish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fil:{name:"Filipino",numbers:[1,2],plurals:function(e){return Number(e>1)}},fo:{name:"Faroese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fr:{name:"French",numbers:[1,2],plurals:function(e){return Number(e>
1)}},fur:{name:"Friulian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fy:{name:"Frisian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ga:{name:"Irish",numbers:[1,2,3,7,11],plurals:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)}},gd:{name:"Scottish Gaelic",numbers:[1,2,3,20],plurals:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)}},gl:{name:"Galician",numbers:[1,2],plurals:function(e){return Number(e!=1)}},gu:{name:"Gujarati",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},gun:{name:"Gun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ha:{name:"Hausa",numbers:[1,2],plurals:function(e){return Number(e!=1)}},he:{name:"Hebrew",numbers:[1,2],plurals:function(e){return Number(e!=1)}},hi:{name:"Hindi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},hr:{name:"Croatian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?1:2)}},hu:{name:"Hungarian",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},hy:{name:"Armenian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ia:{name:"Interlingua",numbers:[1,2],plurals:function(e){return Number(e!=1)}},id:{name:"Indonesian",numbers:[1],plurals:function(e){return 0}},is:{name:"Icelandic",numbers:[1,2],plurals:function(e){return Number(e%10!=1||e%100==11)}},it:{name:"Italian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ja:{name:"Japanese",numbers:[1],plurals:function(e){return 0}},jbo:{name:"Lojban",numbers:[1],plurals:function(e){return 0}},
jv:{name:"Javanese",numbers:[0,1],plurals:function(e){return Number(e!==0)}},ka:{name:"Georgian",numbers:[1],plurals:function(e){return 0}},kk:{name:"Kazakh",numbers:[1],plurals:function(e){return 0}},km:{name:"Khmer",numbers:[1],plurals:function(e){return 0}},kn:{name:"Kannada",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ko:{name:"Korean",numbers:[1],plurals:function(e){return 0}},ku:{name:"Kurdish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},kw:{name:"Cornish",numbers:[1,
2,3,4],plurals:function(e){return Number(e==1?0:e==2?1:e==3?2:3)}},ky:{name:"Kyrgyz",numbers:[1],plurals:function(e){return 0}},lb:{name:"Letzeburgesch",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ln:{name:"Lingala",numbers:[1,2],plurals:function(e){return Number(e>1)}},lo:{name:"Lao",numbers:[1],plurals:function(e){return 0}},lt:{name:"Lithuanian",numbers:[1,2,10],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)}},lv:{name:"Latvian",numbers:[0,
1,2],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)}},mai:{name:"Maithili",numbers:[1,2],plurals:function(e){return Number(e!=1)}},mfe:{name:"Mauritian Creole",numbers:[1,2],plurals:function(e){return Number(e>1)}},mg:{name:"Malagasy",numbers:[1,2],plurals:function(e){return Number(e>1)}},mi:{name:"Maori",numbers:[1,2],plurals:function(e){return Number(e>1)}},mk:{name:"Macedonian",numbers:[1,2],plurals:function(e){return Number(e==1||e%10==1?0:1)}},ml:{name:"Malayalam",numbers:[1,
2],plurals:function(e){return Number(e!=1)}},mn:{name:"Mongolian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},mnk:{name:"Mandinka",numbers:[0,1,2],plurals:function(e){return Number(e==1?1:2)}},mr:{name:"Marathi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ms:{name:"Malay",numbers:[1],plurals:function(e){return 0}},mt:{name:"Maltese",numbers:[1,2,11,20],plurals:function(e){return Number(e==1?0:e===0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)}},nah:{name:"Nahuatl",numbers:[1,
2],plurals:function(e){return Number(e!=1)}},nap:{name:"Neapolitan",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nb:{name:"Norwegian Bokmal",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ne:{name:"Nepali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nl:{name:"Dutch",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nn:{name:"Norwegian Nynorsk",numbers:[1,2],plurals:function(e){return Number(e!=1)}},no:{name:"Norwegian",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},nso:{name:"Northern Sotho",numbers:[1,2],plurals:function(e){return Number(e!=1)}},oc:{name:"Occitan",numbers:[1,2],plurals:function(e){return Number(e>1)}},or:{name:"Oriya",numbers:[2,1],plurals:function(e){return Number(e!=1)}},pa:{name:"Punjabi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pap:{name:"Papiamento",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pl:{name:"Polish",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=
20))?1:2)}},pms:{name:"Piemontese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ps:{name:"Pashto",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pt:{name:"Portuguese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pt_br:{name:"Brazilian Portuguese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},rm:{name:"Romansh",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ro:{name:"Romanian",numbers:[1,2,20],plurals:function(e){return Number(e==1?0:e===0||e%100>0&&
e%100<20?1:2)}},ru:{name:"Russian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?1:2)}},sah:{name:"Yakut",numbers:[1],plurals:function(e){return 0}},sco:{name:"Scots",numbers:[1,2],plurals:function(e){return Number(e!=1)}},se:{name:"Northern Sami",numbers:[1,2],plurals:function(e){return Number(e!=1)}},si:{name:"Sinhala",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sk:{name:"Slovak",numbers:[1,2,5],plurals:function(e){return Number(e==
1?0:e>=2&&e<=4?1:2)}},sl:{name:"Slovenian",numbers:[5,1,2,3],plurals:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}},so:{name:"Somali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},son:{name:"Songhay",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sq:{name:"Albanian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sr:{name:"Serbian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?
1:2)}},su:{name:"Sundanese",numbers:[1],plurals:function(e){return 0}},sv:{name:"Swedish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sw:{name:"Swahili",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ta:{name:"Tamil",numbers:[1,2],plurals:function(e){return Number(e!=1)}},te:{name:"Telugu",numbers:[1,2],plurals:function(e){return Number(e!=1)}},tg:{name:"Tajik",numbers:[1,2],plurals:function(e){return Number(e>1)}},th:{name:"Thai",numbers:[1],plurals:function(e){return 0}},ti:{name:"Tigrinya",
numbers:[1,2],plurals:function(e){return Number(e>1)}},tk:{name:"Turkmen",numbers:[1,2],plurals:function(e){return Number(e!=1)}},tr:{name:"Turkish",numbers:[1,2],plurals:function(e){return Number(e>1)}},tt:{name:"Tatar",numbers:[1],plurals:function(e){return 0}},ug:{name:"Uyghur",numbers:[1],plurals:function(e){return 0}},uk:{name:"Ukrainian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?1:2)}},ur:{name:"Urdu",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},uz:{name:"Uzbek",numbers:[1,2],plurals:function(e){return Number(e>1)}},vi:{name:"Vietnamese",numbers:[1],plurals:function(e){return 0}},wa:{name:"Walloon",numbers:[1,2],plurals:function(e){return Number(e>1)}},wo:{name:"Wolof",numbers:[1],plurals:function(e){return 0}},yo:{name:"Yoruba",numbers:[1,2],plurals:function(e){return Number(e!=1)}},zh:{name:"Chinese",numbers:[1],plurals:function(e){return 0}}},addRule:function(e,t){_.rules[e]=t},setCurrentLng:function(e){if(!_.currentRule||_.currentRule.lng!==
e){var t=e.split("-");_.currentRule={lng:e,rule:_.rules[t[0]]}}},get:function(e,t){function r(t,n){var r;_.currentRule&&_.currentRule.lng===e?r=_.currentRule.rule:r=_.rules[t];if(r){var i=r.plurals(n),s=r.numbers[i];return r.numbers.length===2&&(r.numbers[0]===1&&(s===2?s=-1:s===1&&(s=1))),s}return n===1?"1":"-1"}var n=e.split("-");return r(n[0],t)}},D={},P=function(e,t){D[e]=t},H=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=
[];t>0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,r){var i=1,s=n.length,o="",u,a=[],f,l,c,h,p,d;for(f=0;f<s;f++){o=e(n[f]);if(o==="string")a.push(n[f]);else if(o==="array"){c=n[f];if(c[2]){u=r[i];for(l=0;l<c[2].length;l++){if(!u.hasOwnProperty(c[2][l]))throw H('[sprintf] property "%s" does not exist',c[2][l]);u=u[c[2][l]]}}else c[1]?
u=r[c[1]]:u=r[i++];if(/[^s]/.test(c[8])&&e(u)!="number")throw H("[sprintf] expecting number but found %s",e(u));switch(c[8]){case "b":u=u.toString(2);break;case "c":u=String.fromCharCode(u);break;case "d":u=parseInt(u,10);break;case "e":u=c[7]?u.toExponential(c[7]):u.toExponential();break;case "f":u=c[7]?parseFloat(u).toFixed(c[7]):parseFloat(u);break;case "o":u=u.toString(8);break;case "s":u=(u=String(u))&&c[7]?u.substring(0,c[7]):u;break;case "u":u=Math.abs(u);break;case "x":u=u.toString(16);break;
case "X":u=u.toString(16).toUpperCase()}u=/[def]/.test(c[8])&&(c[3]&&u>=0)?"+"+u:u,p=c[4]?c[4]=="0"?"0":c[4].charAt(1):" ",d=c[6]-String(u).length,h=c[6]?t(p,d):"",a.push(c[5]?u+h:h+u)}}return a.join("")},n.cache={},n.parse=function(e){var t=e,n=[],r=[],i=0;while(t){if((n=/^[^\x25]+/.exec(t))!==null)r.push(n[0]);else if((n=/^\x25{2}/.exec(t))!==null)r.push("%");else{if((n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t))===null)throw"[sprintf] huh?";if(n[2]){i|=
1;var s=[],o=n[2],u=[];if((u=/^([a-z_][a-z_\d]*)/i.exec(o))===null)throw"[sprintf] huh?";s.push(u[1]);while((o=o.substring(u[0].length))!=="")if((u=/^\.([a-z_][a-z_\d]*)/i.exec(o))!==null)s.push(u[1]);else{if((u=/^\[(\d+)\]/.exec(o))===null)throw"[sprintf] huh?";s.push(u[1])}n[2]=s}else i|=2;if(i===3)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";r.push(n)}t=t.substring(n[0].length)}return r},n}(),B=function(e,t){return t.unshift(e),H.apply(null,t)};P("sprintf",function(e,
t,n){return n.sprintf?Object.prototype.toString.apply(n.sprintf)==="[object Array]"?B(e,n.sprintf):typeof n.sprintf=="object"?H(e,n.sprintf):e:e}),n.init=d,n.setLng=w,n.preload=v,n.addResourceBundle=m,n.loadNamespace=y,n.loadNamespaces=b,n.setDefaultNamespace=g,n.t=L,n.translate=L,n.detectLanguage=p.detectLanguage,n.pluralExtensions=_,n.sync=M,n.functions=p,n.lng=E,n.addPostProcessor=P,n.options=u})();(function(){function getSqDist(p1,p2){var dx=p1.x-p2.x,dy=p1.y-p2.y;return dx*dx+dy*dy}function getSqSegDist(p,p1,p2){var x=p1.x,y=p1.y,dx=p2.x-x,dy=p2.y-y;if(dx!==0||dy!==0){var t=((p.x-x)*dx+(p.y-y)*dy)/(dx*dx+dy*dy);if(t>1){x=p2.x;y=p2.y}else if(t>0){x+=dx*t;y+=dy*t}}dx=p.x-x;dy=p.y-y;return dx*dx+dy*dy}function simplifyRadialDist(points,sqTolerance){var prevPoint=points[0],newPoints=[prevPoint],point;for(var i=1,len=points.length;i<len;i++){point=points[i];if(getSqDist(point,prevPoint)>sqTolerance){newPoints.push(point);
prevPoint=point}}if(prevPoint!==point)newPoints.push(point);return newPoints}function simplifyDouglasPeucker(points,sqTolerance){var len=points.length,MarkerArray=typeof Uint8Array!=="undefined"?Uint8Array:Array,markers=new MarkerArray(len),first=0,last=len-1,stack=[],newPoints=[],i,maxSqDist,sqDist,index;markers[first]=markers[last]=1;while(last){maxSqDist=0;for(i=first+1;i<last;i++){sqDist=getSqSegDist(points[i],points[first],points[last]);if(sqDist>maxSqDist){index=i;maxSqDist=sqDist}}if(maxSqDist>
sqTolerance){markers[index]=1;stack.push(first,index,index,last)}last=stack.pop();first=stack.pop()}for(i=0;i<len;i++)if(markers[i])newPoints.push(points[i]);return newPoints}function simplify(points,tolerance,highestQuality){if(points.length<=1)return points;var sqTolerance=tolerance!==undefined?tolerance*tolerance:1;points=highestQuality?points:simplifyRadialDist(points,sqTolerance);points=simplifyDouglasPeucker(points,sqTolerance);return points}window.simplify=simplify})();!function(e,t){var n,a,o,i="._tap",c="._tapActive",r="tap",u="clientX clientY screenX screenY pageX pageY".split(" "),s={count:0,event:0},g=function(e,n){var a=n.originalEvent,o=t.Event(a);o.type=e;for(var i=0,c=u.length;c>i;i++)o[u[i]]=n[u[i]];return o},p=function(e){if(e.isTrigger)return!1;var n=s.event,a=Math.abs(e.pageX-n.pageX),o=Math.abs(e.pageY-n.pageY),i=Math.max(a,o);return e.timeStamp-n.timeStamp<t.tap.TIME_DELTA&&(i<t.tap.POSITION_DELTA&&((!n.touches||1===s.count)&&T.isTracking))},l=function(e){if(!o)return!1;
var n=Math.abs(e.pageX-o.pageX),a=Math.abs(e.pageY-o.pageY),i=Math.max(n,a);return Math.abs(e.timeStamp-o.timeStamp)<750&&i<t.tap.POSITION_DELTA},h=function(e){if(0===e.type.indexOf("touch")){e.touches=e.originalEvent.changedTouches;for(var t=e.touches[0],n=0,a=u.length;a>n;n++)e[u[n]]=t[u[n]]}e.timeStamp=Date.now?Date.now():+new Date},T={isEnabled:!1,isTracking:!1,enable:function(){T.isEnabled||($.event.special.tap||(T.isEnabled=!0,n=t(e.body).on("touchstart"+i,T.onStart).on("mousedown"+i,T.onStart).on("click"+
i,T.onClick)))},disable:function(){T.isEnabled&&(T.isEnabled=!1,n.off(i))},onStart:function(e){e.isTrigger||(h(e),(!t.tap.LEFT_BUTTON_ONLY||(e.touches||1===e.which))&&(e.touches&&(s.count=e.touches.length),T.isTracking&&T.onCancel(e),(e.touches||!l(e))&&(T.isTracking=!0,s.event=e,e.touches?(o=e,n.on("touchend"+i+c,T.onEnd).on("touchcancel"+i+c,T.onCancel)):n.on("mouseup"+i+c,T.onEnd))))},onEnd:function(e){var n;e.isTrigger||(h(e),p(e)&&(n=g(r,e),a=n,t(s.event.target).trigger(n)),T.onCancel(e))},onCancel:function(e){e&&
("touchcancel"===e.type&&e.preventDefault()),T.isTracking=!1,n.off(c)},onClick:function(e){return!e.isTrigger&&(a&&(a.isDefaultPrevented()&&(a.target===e.target&&(a.pageX===e.pageX&&(a.pageY===e.pageY&&e.timeStamp-a.timeStamp<750)))))?(a=null,!1):void 0}};t(e).ready(T.enable),t.tap={POSITION_DELTA:10,TIME_DELTA:400,LEFT_BUTTON_ONLY:!0}}(document,jQuery);!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){function a(){return Dc.apply(null,arguments)}function b(a){Dc=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,
b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return za(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!isNaN(a._d.getTime())&&(b.overflow<0&&
(!b.empty&&(!b.invalidMonth&&(!b.nullInput&&(!b.invalidFormat&&!b.userInvalidated))))),a._strict&&(a._isValid=a._isValid&&(0===b.charsLeftOver&&(0===b.unusedTokens.length&&void 0===b.bigHour)))}return a._isValid}function l(a){var b=h(0/0);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&
(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=j(b)),"undefined"!=typeof b._locale&&(a._locale=b._locale),Fc.length>0)for(c in Fc)d=Fc[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function n(b){m(this,b),this._d=new Date(+b._d),Gc===!1&&(Gc=!0,a.updateOffset(this),Gc=!1)}function o(a){return a instanceof
n||null!=a&&null!=a._isAMomentObject}function p(a){var b=+a,c=0;return 0!==b&&(isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b))),c}function q(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&p(a[d])!==p(b[d]))&&g++;return g+f}function r(){}function s(a){return a?a.toLowerCase().replace("_","-"):a}function t(a){for(var b,c,d,e,f=0;f<a.length;){for(e=s(a[f]).split("-"),b=e.length,c=s(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=u(e.slice(0,
b).join("-")))return d;if(c&&(c.length>=b&&q(e,c,!0)>=b-1))break;b--}f++}return null}function u(a){var b=null;if(!Hc[a]&&("undefined"!=typeof module&&(module&&module.exports)))try{b=Ec._abbr,require("./locale/"+a),v(b)}catch(c){}return Hc[a]}function v(a,b){var c;return a&&(c="undefined"==typeof b?x(a):w(a,b),c&&(Ec=c)),Ec._abbr}function w(a,b){return null!==b?(b.abbr=a,Hc[a]||(Hc[a]=new r),Hc[a].set(b),v(a),Hc[a]):(delete Hc[a],null)}function x(a){var b;if(a&&(a._locale&&(a._locale._abbr&&(a=a._locale._abbr))),
!a)return Ec;if(!c(a)){if(b=u(a))return b;a=[a]}return t(a)}function y(a,b){var c=a.toLowerCase();Ic[c]=Ic[c+"s"]=Ic[b]=a}function z(a){return"string"==typeof a?Ic[a]||Ic[a.toLowerCase()]:void 0}function A(a){var b,c,d={};for(c in a)f(a,c)&&(b=z(c),b&&(d[b]=a[c]));return d}function B(b,c){return function(d){return null!=d?(D(this,b,d),a.updateOffset(this,c),this):C(this,b)}}function C(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function D(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function E(a,
b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=z(a),"function"==typeof this[a])return this[a](b);return this}function F(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function G(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Mc[a]=e),b&&(Mc[b[0]]=function(){return F(e.apply(this,arguments),b[1],b[2])}),c&&(Mc[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function H(a){return a.match(/\[[\s\S]/)?
a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function I(a){var b,c,d=a.match(Jc);for(b=0,c=d.length;c>b;b++)Mc[d[b]]?d[b]=Mc[d[b]]:d[b]=H(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function J(a,b){return a.isValid()?(b=K(b,a.localeData()),Lc[b]||(Lc[b]=I(b)),Lc[b](a)):a.localeData().invalidDate()}function K(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Kc.lastIndex=0;d>=0&&Kc.test(a);)a=a.replace(Kc,c),Kc.lastIndex=0,d-=
1;return a}function L(a,b,c){_c[a]="function"==typeof b?b:function(a){return a&&c?c:b}}function M(a,b){return f(_c,a)?_c[a](b._strict,b._locale):new RegExp(N(a))}function N(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||(c||(d||e))}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function O(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=p(a)}),c=0;c<a.length;c++)ad[a[c]]=d}function P(a,b){O(a,function(a,
c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function Q(a,b,c){null!=b&&(f(ad,a)&&ad[a](b,c._a,c,a))}function R(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function S(a){return this._months[a.month()]}function T(a){return this._monthsShort[a.month()]}function U(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2E3,d]),c&&(!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".",
"")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i"))),c||(this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i"))),c&&("MMMM"===b&&this._longMonthsParse[d].test(a)))return d;if(c&&("MMM"===b&&this._shortMonthsParse[d].test(a)))return d;if(!c&&this._monthsParse[d].test(a))return d}}function V(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?
a:(c=Math.min(a.date(),R(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function W(b){return null!=b?(V(this,b),a.updateOffset(this,!0),this):C(this,"Month")}function X(){return R(this.year(),this.month())}function Y(a){var b,c=a._a;return c&&(-2===j(a).overflow&&(b=c[cd]<0||c[cd]>11?cd:c[dd]<1||c[dd]>R(c[bd],c[cd])?dd:c[ed]<0||(c[ed]>24||24===c[ed]&&(0!==c[fd]||(0!==c[gd]||0!==c[hd])))?ed:c[fd]<0||c[fd]>59?fd:c[gd]<0||c[gd]>59?gd:c[hd]<0||c[hd]>999?hd:-1,j(a)._overflowDayOfYear&&((bd>
b||b>dd)&&(b=dd)),j(a).overflow=b)),a}function Z(b){a.suppressDeprecationWarnings===!1&&("undefined"!=typeof console&&(console.warn&&console.warn("Deprecation warning: "+b)))}function $(a,b){var c=!0,d=a+"\n"+(new Error).stack;return g(function(){return c&&(Z(d),c=!1),b.apply(this,arguments)},b)}function _(a,b){kd[a]||(Z(b),kd[a]=!0)}function aa(a){var b,c,d=a._i,e=ld.exec(d);if(e){for(j(a).iso=!0,b=0,c=md.length;c>b;b++)if(md[b][1].exec(d)){a._f=md[b][0]+(e[6]||" ");break}for(b=0,c=nd.length;c>b;b++)if(nd[b][1].exec(d)){a._f+=
nd[b][0];break}d.match(Yc)&&(a._f+="Z"),ta(a)}else a._isValid=!1}function ba(b){var c=od.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(aa(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ca(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function da(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ea(a){return fa(a)?366:365}function fa(a){return a%4===0&&a%100!==0||a%400===0}
function ga(){return fa(this.year())}function ha(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=Aa(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ia(a){return ha(a,this._week.dow,this._week.doy).week}function ja(){return this._week.dow}function ka(){return this._week.doy}function la(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function ma(a){var b=ha(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function na(a,b,c,d,
e){var f,g,h=da(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:ea(a-1)+g}}function oa(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")}function pa(a,b,c){return null!=a?a:null!=b?b:c}function qa(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ra(a){var b,
c,d,e,f=[];if(!a._d){for(d=qa(a),a._w&&(null==a._a[dd]&&(null==a._a[cd]&&sa(a))),a._dayOfYear&&(e=pa(a._a[bd],d[bd]),a._dayOfYear>ea(e)&&(j(a)._overflowDayOfYear=!0),c=da(e,0,a._dayOfYear),a._a[cd]=c.getUTCMonth(),a._a[dd]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[ed]&&(0===a._a[fd]&&(0===a._a[gd]&&(0===a._a[hd]&&(a._nextDay=!0,a._a[ed]=0)))),a._d=(a._useUTC?da:ca).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-
a._tzm),a._nextDay&&(a._a[ed]=24)}}function sa(a){var b,c,d,e,f,g,h;b=a._w,null!=b.GG||(null!=b.W||null!=b.E)?(f=1,g=4,c=pa(b.GG,a._a[bd],ha(Aa(),1,4).year),d=pa(b.W,1),e=pa(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=pa(b.gg,a._a[bd],ha(Aa(),f,g).year),d=pa(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),h=na(c,d,e,g,f),a._a[bd]=h.year,a._dayOfYear=h.dayOfYear}function ta(b){if(b._f===a.ISO_8601)return void aa(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=
K(b._f,b._locale).match(Jc)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(M(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),Mc[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),Q(f,d,b)):b._strict&&(!d&&j(b).unusedTokens.push(f));j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&(b._a[ed]<=12&&(b._a[ed]>0&&(j(b).bigHour=void 0))),b._a[ed]=ua(b._locale,b._a[ed],b._meridiem),ra(b),Y(b)}function ua(a,
b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&(12>b&&(b+=12)),d||(12!==b||(b=0)),b):b}function va(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(0/0));for(e=0;e<a._f.length;e++)f=0,b=m({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],ta(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function wa(a){if(!a._d){var b=A(a._i);a._a=[b.year,b.month,
b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ra(a)}}function xa(a){var b,e=a._i,f=a._f;return a._locale=a._locale||x(a._l),null===e||void 0===f&&""===e?l({nullInput:!0}):("string"==typeof e&&(a._i=e=a._locale.preparse(e)),o(e)?new n(Y(e)):(c(f)?va(a):f?ta(a):d(e)?a._d=e:ya(a),b=new n(Y(a)),b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b))}function ya(b){var f=b._i;void 0===f?b._d=new Date:d(f)?b._d=new Date(+f):"string"==typeof f?ba(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,
10)}),ra(b)):"object"==typeof f?wa(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function za(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,xa(f)}function Aa(a,b,c,d){return za(a,b,c,d,!1)}function Ba(a,b){var d,e;if(1===b.length&&(c(b[0])&&(b=b[0])),!b.length)return Aa();for(d=b[0],e=1;e<b.length;++e)b[e][a](d)&&(d=b[e]);return d}function Ca(){var a=[].slice.call(arguments,0);return Ba("isBefore",
a)}function Da(){var a=[].slice.call(arguments,0);return Ba("isAfter",a)}function Ea(a){var b=A(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1E3*j+6E4*i+36E5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=x(),this._bubble()}function Fa(a){return a instanceof Ea}function Ga(a,b){G(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+F(~~(a/60),2)+b+F(~~a%
60,2)})}function Ha(a){var b=(a||"").match(Yc)||[],c=b[b.length-1]||[],d=(c+"").match(td)||["-",0,0],e=+(60*d[1])+p(d[2]);return"+"===d[0]?e:-e}function Ia(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(o(b)||d(b)?+b:+Aa(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Aa(b).local();return c._isUTC?Aa(b).zone(c._offset||0):Aa(b).local()}function Ja(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Ka(b,c){var d,e=this._offset||0;return null!=b?("string"==typeof b&&(b=Ha(b)),Math.abs(b)<
16&&(b=60*b),!this._isUTC&&(c&&(d=Ja(this))),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?$a(this,Va(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ja(this)}function La(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Ma(a){return this.utcOffset(0,a)}function Na(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=
!1,a&&this.subtract(Ja(this),"m")),this}function Oa(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ha(this._i)),this}function Pa(a){return a=a?Aa(a).utcOffset():0,(this.utcOffset()-a)%60===0}function Qa(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ra(){if(this._a){var a=this._isUTC?h(this._a):Aa(this._a);return this.isValid()&&q(this._a,a.toArray())>0}return!1}function Sa(){return!this._isUTC}
function Ta(){return this._isUTC}function Ua(){return this._isUTC&&0===this._offset}function Va(a,b){var c,d,e,g=a,h=null;return Fa(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=ud.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:p(h[dd])*c,h:p(h[ed])*c,m:p(h[fd])*c,s:p(h[gd])*c,ms:p(h[hd])*c}):(h=vd.exec(a))?(c="-"===h[1]?-1:1,g={y:Wa(h[2],c),M:Wa(h[3],c),d:Wa(h[4],c),h:Wa(h[5],c),m:Wa(h[6],c),s:Wa(h[7],c),w:Wa(h[8],c)}):null==g?g={}:"object"==typeof g&&
(("from"in g||"to"in g)&&(e=Ya(Aa(g.from),Aa(g.to)),g={},g.ms=e.milliseconds,g.M=e.months)),d=new Ea(g),Fa(a)&&(f(a,"_locale")&&(d._locale=a._locale)),d}function Wa(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Xa(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Ya(a,b){var c;return b=Ia(b,a),a.isBefore(b)?c=Xa(a,
b):(c=Xa(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function Za(a,b){return function(c,d){var e,f;return null===d||(isNaN(+d)||(_(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f)),c="string"==typeof c?+c:c,e=Va(c,d),$a(this,e,a),this}}function $a(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&D(b,"Date",C(b,"Date")+g*d),h&&V(b,C(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function _a(a){var b=
a||Aa(),c=Ia(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,Aa(b)))}function ab(){return new n(this)}function bb(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+this>+a):(c=o(a)?+a:+Aa(a),c<+this.clone().startOf(b))}function cb(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===
b?(a=o(a)?a:Aa(a),+a>+this):(c=o(a)?+a:+Aa(a),+this.clone().endOf(b)<c)}function db(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function eb(a,b){var c;return b=z(b||"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+this===+a):(c=+Aa(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function fb(a){return 0>a?Math.ceil(a):Math.floor(a)}function gb(a,b,c){var d,e,f=Ia(a,this),g=6E4*(f.utcOffset()-this.utcOffset());return b=z(b),"year"===b||("month"===b||"quarter"===b)?(e=hb(this,f),
"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1E3:"minute"===b?d/6E4:"hour"===b?d/36E5:"day"===b?(d-g)/864E5:"week"===b?(d-g)/6048E5:d),c?e:fb(e)}function hb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function ib(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function jb(){var a=this.clone().utc();
return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():J(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):J(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function kb(b){var c=J(this,b||a.defaultFormat);return this.localeData().postformat(c)}function lb(a,b){return this.isValid()?Va({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function mb(a){return this.from(Aa(),a)}function nb(a,b){return this.isValid()?Va({from:this,to:a}).locale(this.locale()).humanize(!b):
this.localeData().invalidDate()}function ob(a){return this.to(Aa(),a)}function pb(a){var b;return void 0===a?this._locale._abbr:(b=x(a),null!=b&&(this._locale=b),this)}function qb(){return this._locale}function rb(a){switch(a=z(a)){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),
"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function sb(a){return a=z(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function tb(){return+this._d-6E4*(this._offset||0)}function ub(){return Math.floor(+this/1E3)}function vb(){return this._offset?new Date(+this):this._d}function wb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function xb(){return k(this)}function yb(){return g({},
j(this))}function zb(){return j(this).overflow}function Ab(a,b){G(0,[a,a.length],0,b)}function Bb(a,b,c){return ha(Aa([a,11,31+b-c]),b,c).week}function Cb(a){var b=ha(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function Db(a){var b=ha(this,1,4).year;return null==a?b:this.add(a-b,"y")}function Eb(){return Bb(this.year(),1,4)}function Fb(){var a=this.localeData()._week;return Bb(this.year(),a.dow,a.doy)}function Gb(a){return null==a?Math.ceil((this.month()+
1)/3):this.month(3*(a-1)+this.month()%3)}function Hb(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function Ib(a){return this._weekdays[a.day()]}function Jb(a){return this._weekdaysShort[a.day()]}function Kb(a){return this._weekdaysMin[a.day()]}function Lb(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=Aa([2E3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,
"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b}function Mb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Hb(a,this.localeData()),this.add(a-b,"d")):b}function Nb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Ob(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Pb(a,b){G(a,0,0,function(){return this.localeData().meridiem(this.hours(),
this.minutes(),b)})}function Qb(a,b){return b._meridiemParse}function Rb(a){return"p"===(a+"").toLowerCase().charAt(0)}function Sb(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Tb(a){G(0,[a,3],0,"millisecond")}function Ub(){return this._isUTC?"UTC":""}function Vb(){return this._isUTC?"Coordinated Universal Time":""}function Wb(a){return Aa(1E3*a)}function Xb(){return Aa.apply(null,arguments).parseZone()}function Yb(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function Zb(a){var b=
this._longDateFormat[a];return!b&&(this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b)),b}function $b(){return this._invalidDate}function _b(a){return this._ordinal.replace("%d",a)}function ac(a){return a}function bc(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function cc(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==
typeof c?c(b):c.replace(/%s/i,b)}function dc(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ec(a,b,c,d){var e=x(),f=h().set(d,b);return e[c](f,a)}function fc(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return ec(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=ec(a,f,c,e);return g}function gc(a,b){return fc(a,b,"months",12,"month")}function hc(a,b){return fc(a,b,"monthsShort",
12,"month")}function ic(a,b){return fc(a,b,"weekdays",7,"day")}function jc(a,b){return fc(a,b,"weekdaysShort",7,"day")}function kc(a,b){return fc(a,b,"weekdaysMin",7,"day")}function lc(){var a=this._data;return this._milliseconds=Rd(this._milliseconds),this._days=Rd(this._days),this._months=Rd(this._months),a.milliseconds=Rd(a.milliseconds),a.seconds=Rd(a.seconds),a.minutes=Rd(a.minutes),a.hours=Rd(a.hours),a.months=Rd(a.months),a.years=Rd(a.years),this}function mc(a,b,c,d){var e=Va(b,c);return a._milliseconds+=
d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function nc(a,b){return mc(this,a,b,1)}function oc(a,b){return mc(this,a,b,-1)}function pc(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;return g.milliseconds=d%1E3,a=fb(d/1E3),g.seconds=a%60,b=fb(a/60),g.minutes=b%60,c=fb(b/60),g.hours=c%24,e+=fb(c/24),h=fb(qc(e)),e-=fb(rc(h)),f+=fb(e/30),e%=30,h+=fb(f/12),f%=12,g.days=e,g.months=f,g.years=h,this}function qc(a){return 400*a/146097}function rc(a){return 146097*
a/400}function sc(a){var b,c,d=this._milliseconds;if(a=z(a),"month"===a||"year"===a)return b=this._days+d/864E5,c=this._months+12*qc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(rc(this._months/12)),a){case "week":return b/7+d/6048E5;case "day":return b+d/864E5;case "hour":return 24*b+d/36E5;case "minute":return 1440*b+d/6E4;case "second":return 86400*b+d/1E3;case "millisecond":return Math.floor(864E5*b)+d;default:throw new Error("Unknown unit "+a);}}function tc(){return this._milliseconds+
864E5*this._days+this._months%12*2592E6+31536E6*p(this._months/12)}function uc(a){return function(){return this.as(a)}}function vc(a){return a=z(a),this[a+"s"]()}function wc(a){return function(){return this._data[a]}}function xc(){return fb(this.days()/7)}function yc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function zc(a,b,c){var d=Va(a).abs(),e=fe(d.as("s")),f=fe(d.as("m")),g=fe(d.as("h")),h=fe(d.as("d")),i=fe(d.as("M")),j=fe(d.as("y")),k=e<ge.s&&["s",e]||(1===f&&["m"]||(f<ge.m&&["mm",f]||
(1===g&&["h"]||(g<ge.h&&["hh",g]||(1===h&&["d"]||(h<ge.d&&["dd",h]||(1===i&&["M"]||(i<ge.M&&["MM",i]||(1===j&&["y"]||["yy",j])))))))));return k[2]=b,k[3]=+a>0,k[4]=c,yc.apply(null,k)}function Ac(a,b){return void 0===ge[a]?!1:void 0===b?ge[a]:(ge[a]=b,!0)}function Bc(a){var b=this.localeData(),c=zc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Cc(){var a=he(this.years()),b=he(this.months()),c=he(this.days()),d=he(this.hours()),e=he(this.minutes()),f=he(this.seconds()+this.milliseconds()/
1E3),g=this.asSeconds();return g?(0>g?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||(e||f)?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}var Dc,Ec,Fc=a.momentProperties=[],Gc=!1,Hc={},Ic={},Jc=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Kc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Lc={},Mc={},Nc=/\d/,Oc=/\d\d/,Pc=/\d{3}/,Qc=/\d{4}/,Rc=/[+-]?\d{6}/,Sc=/\d\d?/,
Tc=/\d{1,3}/,Uc=/\d{1,4}/,Vc=/[+-]?\d{1,6}/,Wc=/\d+/,Xc=/[+-]?\d+/,Yc=/Z|[+-]\d\d:?\d\d/gi,Zc=/[+-]?\d+(\.\d{1,3})?/,$c=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,_c={},ad={},bd=0,cd=1,dd=2,ed=3,fd=4,gd=5,hd=6;G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),G("MMMM",0,0,function(a){return this.localeData().months(this,a)}),y("month","M"),L("M",Sc),L("MM",
Sc,Oc),L("MMM",$c),L("MMMM",$c),O(["M","MM"],function(a,b){b[cd]=p(a)-1}),O(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[cd]=e:j(c).invalidMonth=a});var id="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),jd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),kd={};a.suppressDeprecationWarnings=!1;var ld=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
md=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],nd=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],od=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=$("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",
function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),y("year","y"),L("Y",Xc),L("YY",Sc,Oc),L("YYYY",Uc,Qc),L("YYYYY",Vc,Rc),L("YYYYYY",Vc,Rc),O(["YYYY","YYYYY","YYYYYY"],bd),O("YY",function(b,c){c[bd]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return p(a)+(p(a)>68?1900:2E3)};var pd=B("FullYear",!1);G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),
y("week","w"),y("isoWeek","W"),L("w",Sc),L("ww",Sc,Oc),L("W",Sc),L("WW",Sc,Oc),P(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=p(a)});var qd={dow:0,doy:6};G("DDD",["DDDD",3],"DDDo","dayOfYear"),y("dayOfYear","DDD"),L("DDD",Tc),L("DDDD",Pc),O(["DDD","DDDD"],function(a,b,c){c._dayOfYear=p(a)}),a.ISO_8601=function(){};var rd=$("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Aa.apply(null,arguments);return this>a?this:a}),sd=
$("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Aa.apply(null,arguments);return a>this?this:a});Ga("Z",":"),Ga("ZZ",""),L("Z",Yc),L("ZZ",Yc),O(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ha(a)});var td=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var ud=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,vd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;
Va.fn=Ea.prototype;var wd=Za(1,"add"),xd=Za(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var yd=$("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ab("gggg","weekYear"),Ab("ggggg","weekYear"),Ab("GGGG","isoWeekYear"),
Ab("GGGGG","isoWeekYear"),y("weekYear","gg"),y("isoWeekYear","GG"),L("G",Xc),L("g",Xc),L("GG",Sc,Oc),L("gg",Sc,Oc),L("GGGG",Uc,Qc),L("gggg",Uc,Qc),L("GGGGG",Vc,Rc),L("ggggg",Vc,Rc),P(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=p(a)}),P(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),G("Q",0,0,"quarter"),y("quarter","Q"),L("Q",Nc),O("Q",function(a,b){b[cd]=3*(p(a)-1)}),G("D",["DD",2],"Do","date"),y("date","D"),L("D",Sc),L("DD",Sc,Oc),L("Do",function(a,b){return a?
b._ordinalParse:b._ordinalParseLenient}),O(["D","DD"],dd),O("Do",function(a,b){b[dd]=p(a.match(Sc)[0],10)});var zd=B("Date",!0);G("d",0,"do","day"),G("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),G("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),G("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),y("day","d"),y("weekday","e"),y("isoWeekday","E"),L("d",Sc),L("e",Sc),L("E",Sc),L("dd",$c),L("ddd",
$c),L("dddd",$c),P(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:j(c).invalidWeekday=a}),P(["d","e","E"],function(a,b,c,d){b[d]=p(a)});var Ad="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Bd="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Cd="Su_Mo_Tu_We_Th_Fr_Sa".split("_");G("H",["HH",2],0,"hour"),G("h",["hh",2],0,function(){return this.hours()%12||12}),Pb("a",!0),Pb("A",!1),y("hour","h"),L("a",Qb),L("A",Qb),L("H",Sc),L("h",Sc),L("HH",Sc,Oc),
L("hh",Sc,Oc),O(["H","HH"],ed),O(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),O(["h","hh"],function(a,b,c){b[ed]=p(a),j(c).bigHour=!0});var Dd=/[ap]\.?m?\.?/i,Ed=B("Hours",!0);G("m",["mm",2],0,"minute"),y("minute","m"),L("m",Sc),L("mm",Sc,Oc),O(["m","mm"],fd);var Fd=B("Minutes",!1);G("s",["ss",2],0,"second"),y("second","s"),L("s",Sc),L("ss",Sc,Oc),O(["s","ss"],gd);var Gd=B("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/
10)}),Tb("SSS"),Tb("SSSS"),y("millisecond","ms"),L("S",Tc,Nc),L("SS",Tc,Oc),L("SSS",Tc,Pc),L("SSSS",Wc),O(["S","SS","SSS","SSSS"],function(a,b){b[hd]=p(1E3*("0."+a))});var Hd=B("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var Id=n.prototype;Id.add=wd,Id.calendar=_a,Id.clone=ab,Id.diff=gb,Id.endOf=sb,Id.format=kb,Id.from=lb,Id.fromNow=mb,Id.to=nb,Id.toNow=ob,Id.get=E,Id.invalidAt=zb,Id.isAfter=bb,Id.isBefore=cb,Id.isBetween=db,Id.isSame=eb,Id.isValid=xb,Id.lang=yd,Id.locale=pb,Id.localeData=
qb,Id.max=sd,Id.min=rd,Id.parsingFlags=yb,Id.set=E,Id.startOf=rb,Id.subtract=xd,Id.toArray=wb,Id.toDate=vb,Id.toISOString=jb,Id.toJSON=jb,Id.toString=ib,Id.unix=ub,Id.valueOf=tb,Id.year=pd,Id.isLeapYear=ga,Id.weekYear=Cb,Id.isoWeekYear=Db,Id.quarter=Id.quarters=Gb,Id.month=W,Id.daysInMonth=X,Id.week=Id.weeks=la,Id.isoWeek=Id.isoWeeks=ma,Id.weeksInYear=Fb,Id.isoWeeksInYear=Eb,Id.date=zd,Id.day=Id.days=Mb,Id.weekday=Nb,Id.isoWeekday=Ob,Id.dayOfYear=oa,Id.hour=Id.hours=Ed,Id.minute=Id.minutes=Fd,Id.second=
Id.seconds=Gd,Id.millisecond=Id.milliseconds=Hd,Id.utcOffset=Ka,Id.utc=Ma,Id.local=Na,Id.parseZone=Oa,Id.hasAlignedHourOffset=Pa,Id.isDST=Qa,Id.isDSTShifted=Ra,Id.isLocal=Sa,Id.isUtcOffset=Ta,Id.isUtc=Ua,Id.isUTC=Ua,Id.zoneAbbr=Ub,Id.zoneName=Vb,Id.dates=$("dates accessor is deprecated. Use date instead.",zd),Id.months=$("months accessor is deprecated. Use month instead",W),Id.years=$("years accessor is deprecated. Use year instead",pd),Id.zone=$("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",
La);var Jd=Id,Kd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ld={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Md="Invalid date",Nd="%d",Od=/\d{1,2}/,Pd={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},
Qd=r.prototype;Qd._calendar=Kd,Qd.calendar=Yb,Qd._longDateFormat=Ld,Qd.longDateFormat=Zb,Qd._invalidDate=Md,Qd.invalidDate=$b,Qd._ordinal=Nd,Qd.ordinal=_b,Qd._ordinalParse=Od,Qd.preparse=ac,Qd.postformat=ac,Qd._relativeTime=Pd,Qd.relativeTime=bc,Qd.pastFuture=cc,Qd.set=dc,Qd.months=S,Qd._months=id,Qd.monthsShort=T,Qd._monthsShort=jd,Qd.monthsParse=U,Qd.week=ia,Qd._week=qd,Qd.firstDayOfYear=ka,Qd.firstDayOfWeek=ja,Qd.weekdays=Ib,Qd._weekdays=Ad,Qd.weekdaysMin=Kb,Qd._weekdaysMin=Cd,Qd.weekdaysShort=
Jb,Qd._weekdaysShort=Bd,Qd.weekdaysParse=Lb,Qd.isPM=Rb,Qd._meridiemParse=Dd,Qd.meridiem=Sb,v("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===p(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=$("moment.lang is deprecated. Use moment.locale instead.",v),a.langData=$("moment.langData is deprecated. Use moment.localeData instead.",x);var Rd=Math.abs,Sd=uc("ms"),Td=uc("s"),Ud=uc("m"),Vd=uc("h"),Wd=uc("d"),Xd=uc("w"),Yd=uc("M"),Zd=uc("y"),$d=wc("milliseconds"),
_d=wc("seconds"),ae=wc("minutes"),be=wc("hours"),ce=wc("days"),de=wc("months"),ee=wc("years"),fe=Math.round,ge={s:45,m:45,h:22,d:26,M:11},he=Math.abs,ie=Ea.prototype;ie.abs=lc,ie.add=nc,ie.subtract=oc,ie.as=sc,ie.asMilliseconds=Sd,ie.asSeconds=Td,ie.asMinutes=Ud,ie.asHours=Vd,ie.asDays=Wd,ie.asWeeks=Xd,ie.asMonths=Yd,ie.asYears=Zd,ie.valueOf=tc,ie._bubble=pc,ie.get=vc,ie.milliseconds=$d,ie.seconds=_d,ie.minutes=ae,ie.hours=be,ie.days=ce,ie.weeks=xc,ie.months=de,ie.years=ee,ie.humanize=Bc,ie.toISOString=
Cc,ie.toString=Cc,ie.toJSON=Cc,ie.locale=pb,ie.localeData=qb,ie.toIsoString=$("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Cc),ie.lang=yd,G("X",0,0,"unix"),G("x",0,0,"valueOf"),L("x",Xc),L("X",Zc),O("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a,10))}),O("x",function(a,b,c){c._d=new Date(p(a))}),a.version="2.10.3",b(Aa),a.fn=Jd,a.min=Ca,a.max=Da,a.utc=h,a.unix=Wb,a.months=gc,a.isDate=d,a.locale=v,a.invalid=l,a.duration=Va,a.isMoment=o,a.weekdays=ic,a.parseZone=
Xb,a.localeData=x,a.isDuration=Fa,a.monthsShort=hc,a.weekdaysMin=kc,a.defineLocale=w,a.weekdaysShort=jc,a.normalizeUnits=z,a.relativeTimeThreshold=Ac;var je=a;return je});var C=self,M=C.FI;(function(){function a(b){d?d.push(b):setTimeout(b,0)}var e={version:"0.7.2.0",isUndefined:function(b){return void 0===b},isNull:function(b){return null===b},Ee:function(b){return null===b||void 0===b},fL:function(b){return null!==b&&void 0!==b}},d=[];C.attachEvent&&C.attachEvent("onload",function(){if(d){var b=d;d=null;for(var a=0,g=b.length;a<g;a++)b[a]()}});M||(C.FI=M={init:a,ready:a});for(var f in e)M[f]=e[f]})();Object.Cd="Object";Object.Jh=null;Object.iK=function(a){for(var e in a)delete a[e]};
Object.St=function(a,e){return void 0!==a[e]};Object.keys?Object.rF=function(a){return Object.keys(a).length}:(Object.keys=function(a){var e=[],d;for(d in a)e.push(d);return e},Object.rF=function(a){var e=0,d;for(d in a)e++;return e});Boolean.Cd="Boolean";Boolean.parse=function(a){return"true"==a.toLowerCase()};Number.Cd="Number";
Number.parse=function(a){return a&&a.length?0<=a.indexOf(".")||(0<=a.indexOf("e")||((1>a.length?0:"f"==a.substr(a.length-1))||(1>a.length?0:"F"==a.substr(a.length-1))))?parseFloat(a):parseInt(a,10):0};Number.prototype.format=function(a){return M.Ee(a)||(0==a.length||"i"==a)?this.toString():R(this,a,!1)};Number.prototype.Lz=function(a){return M.Ee(a)||(0==a.length||"i"==a)?this.toLocaleString():R(this,a,!0)};
Number.pr=function(a,e,d,f){var b=null;d=a.indexOf(d);0<d&&(b=a.substr(d),a=a.substr(0,d));(d=S(a,"-"))&&(a=a.substr(1));var c=0,g=e[c];if(a.length<g)return b?a+b:a;for(var h=a.length,n="",m=!1;!m;){var l=g,p=h-l;0>p&&(g+=p,l+=p,p=0,m=!0);if(!l)break;p=a.substr(p,l);n=n.length?p+f+n:p;h-=l;c<e.length-1&&(c++,g=e[c])}d&&(n="-"+n);return b?n+b:n};
function R(a,e,d){d=d?M.wB.EJ.numberFormat:M.wB.NJ.numberFormat;var f="",b=-1;1<e.length&&(b=parseInt(e.substr(1)));e=e.charAt(0);switch(e){case "d":case "D":f=parseInt(Math.abs(a)).toString();-1!=b&&(f=T(f,b));0>a&&(f="-"+f);break;case "x":case "X":f=parseInt(Math.abs(a)).toString(16);"X"==e&&(f=f.toUpperCase());-1!=b&&(f=T(f,b));break;case "e":case "E":f=-1==b?a.toExponential():a.toExponential(b);"E"==e&&(f=f.toUpperCase());break;case "f":case "F":case "n":case "N":-1==b&&(b=d.oL);f=a.toFixed(b).toString();
b&&("."!=d.Rz&&(b=f.indexOf("."),f=f.substr(0,b)+d.Rz+f.substr(b+1)));if("n"==e||"N"==e)f=Number.pr(f,d.qL,d.Rz,d.pL);break;case "c":case "C":-1==b&&(b=d.vK);f=Math.abs(a).toFixed(b).toString();b&&("."!=d.Yx&&(b=f.indexOf("."),f=f.substr(0,b)+d.Yx+f.substr(b+1)));f=Number.pr(f,d.xK,d.Yx,d.wK);f=0>a?String.format(d.yK,f):String.format(d.zK,f);break;case "p":case "P":-1==b&&(b=d.vL),f=(100*Math.abs(a)).toFixed(b).toString(),b&&("."!=d.aA&&(b=f.indexOf("."),f=f.substr(0,b)+d.aA+f.substr(b+1))),f=Number.pr(f,
d.xL,d.aA,d.wL),f=0>a?String.format(d.yL,f):String.format(d.zL,f)}return f}String.Cd="String";String.zB="";String.fE=function(a,e,d){d&&(a&&(a=a.toUpperCase()),e&&(e=e.toUpperCase()));a=a||"";e=e||"";return a==e?0:a<e?-1:1};String.concat=function(){return 2===arguments.length?arguments[0]+arguments[1]:Array.prototype.join.call(arguments,"")};String.Rs=function(a,e,d){return 0==String.fE(a,e,d)};
String._format=function(a,e,d){String.Iw||(String.Iw=/(\{[^\}^\{]+\})/g);return a.replace(String.Iw,function(a,b){var c=e[parseInt(b.substr(1))+1];if(M.Ee(c))return"";if(c.format){var g=null,h=b.indexOf(":");0<h&&(g=b.substring(h+1,b.length-1));return d?c.Lz(g):c.format(g)}return d?c.toLocaleString():c.toString()})};String.format=function(a){return String._format(a,arguments,!1)};String.UE=function(a,e){for(var d=a,f=1;f<e;f++)d+=a;return d};
String.prototype.tf=function(a,e){return e?a?this.substr(0,a)+e+this.substr(a):e+this:this};String.Pt=function(a){return!a||!a.length};String.Lz=function(a){return String._format(a,arguments,!0)};function T(a,e){return a.length<e?String.UE("0",e-a.length)+a:a}String.prototype.remove=function(a,e){return!e||a+e>this.length?this.substr(0,a):this.substr(0,a)+this.substr(a+e)};String.prototype.replaceAll=function(a,e){return this.split(a).join(e||"")};
function S(a,e){return e.length?e.length>a.length?!1:a.substr(0,e.length)==e:!0}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/\s*$/,"").replace(/^\s*/,"")});Array.Cd="Array";Array.xn=[M.ln];Array.prototype.add=function(a){this.push(a)};Array.prototype.addRange=function(a){this.push.apply(this,a)};Array.prototype.clear=function(){this.length=0};Array.prototype.clone=function(){return 1===this.length?[this[0]]:Array.apply(null,this)};
Array.prototype.contains=function(a){return 0<=this.indexOf(a)};function U(a){return a.length?a[a.cK?0:a.length-1]:null}Array.prototype.every||(Array.prototype.every=function(a,e){for(var d=this.length,f=0;f<d;f++)if(f in this&&!a.call(e,this[f],f,this))return!1;return!0});Array.prototype.filter||(Array.prototype.filter=function(a,e){for(var d=this.length,f=[],b=0;b<d;b++)if(b in this){var c=this[b];a.call(e,c,b,this)&&f.push(c)}return f});
Array.prototype.forEach||(Array.prototype.forEach=function(a,e){for(var d=this.length,f=0;f<d;f++)f in this&&a.call(e,this[f],f,this)});Array.prototype.sd=function(){return new M.an(this)};Array.prototype.index=function(a,e){for(var d=this.length,f={},b=0;b<d;b++)if(b in this){var c=a.call(e,this[b],b);String.Pt(c)||(f[c]=this[b])}return f};Array.prototype.indexOf||(Array.prototype.indexOf=function(a,e){var d=this.length;if(d)for(var f=e||0;f<d;f++)if(this[f]===a)return f;return-1});
Array.prototype.tf=function(a,e){this.splice(a,0,e)};Array.prototype.map||(Array.prototype.map=function(a,e){for(var d=this.length,f=Array(d),b=0;b<d;b++)b in this&&(f[b]=a.call(e,this[b],b,this));return f});Array.parse=function(a){return eval("("+a+")")};Array.prototype.remove=function(a){a=this.indexOf(a);return 0<=a?(this.splice(a,1),!0):!1};Array.prototype.some||(Array.prototype.some=function(a,e){for(var d=this.length,f=0;f<d;f++)if(f in this&&a.call(e,this[f],f,this))return!0;return!1});
Array.toArray=function(a){return Array.prototype.slice.call(a)};RegExp.Cd="RegExp";RegExp.parse=function(a){if(S(a,"/")){var e=a.lastIndexOf("/");if(1<e)return RegExp(a.substring(1,e),a.substr(e+1))}return null};Error.Cd="Error";
Error.mK=function(a,e,d){a=Error(a);if(e)for(var f in e)a[f]=e[f];d&&(a.XK=d);if(!(M.Ee(a.stack)||(M.Ee(a.fileName)||M.Ee(a.lineNumber)))){e=a.stack.split("\n");d=e[0];for(f=a.fileName+":"+a.lineNumber;!M.Ee(d)&&-1===d.indexOf(f);)e.shift(),d=e[0];d=e[1];isNullOrUndefined(d)||(d=d.match(/@(.*):(\d+)$/),M.Ee(d)||(e.shift(),a.stack=e.join("\n"),a.fileName=d[1],a.lineNumber=parseInt(d[2])))}return a};M.Qe=C.Qe||function(){};M.Qe.Cd="Debug";
M.Qe.writeln||(M.Qe.writeln=function(a){C.console?C.console.debug?C.console.debug(a):C.console.log&&C.console.log(a):C.opera&&(C.opera.postError&&C.opera.postError(a))});M.Qe.Dw=function(a){M.Qe.writeln(a);eval("debugger;")};M.Qe.assert=function(a,e){a||(e="Assert failed: "+e,confirm(e+"\r\n\r\nBreak into debugger?")&&M.Qe.Dw(e))};M.Qe.fail=function(a){M.Qe.Dw(a)};C.Za=Function;C.Za.Cd="Type";C.Tv=function(a){this.Cd=a};C.Tv.prototype={NC:!0,getName:function(){return this.Cd}};
C.Za.Vp=function(a){C.er||(C.er={});C.dw||(C.dw=[]);if(!C.er[a]){for(var e=self,d=a.split("."),f=0;f<d.length;f++){var b=d[f],c=e[b];c||(e[b]=c=new C.Tv(d.slice(0,f+1).join(".")),0==f&&C.dw.add(c));e=c}C.er[a]=e}};C.Za.prototype.Ea=function(a,e,d){this.prototype.constructor=this;this.Cd=a;this.Uv=!0;this.Jh=e||Object;e&&(this.wn=!0);if(d){this.xn=[];for(var f=2;f<arguments.length;f++)d=arguments[f],this.xn.add(d)}};function V(a,e){a.Cd=e;a.$v=!0}
C.Za.prototype.Ru=function(){if(this.wn){var a=this.Jh;a.wn&&a.Ru();for(var e in a.prototype){var d=a.prototype[e];this.prototype[e]||(this.prototype[e]=d)}delete this.wn}};C.Za.prototype.CH||(C.Za.prototype.CH=C.Za.prototype.Ru);function W(a,e){return M.Ee(e)?!1:a==Object||e instanceof a?!0:aa(a,C.Za.pF(e))}
function aa(a,e){if(a==Object||a==e)return!0;if(a.Uv)for(var d=e.Jh;d;){if(a==d)return!0;d=d.Jh}else if(a.$v){var f=e.xn;if(f&&f.contains(a))return!0;for(d=e.Jh;d;){if((f=d.xn)&&f.contains(a))return!0;d=d.Jh}}return!1}C.Za.$K=function(a){return!0==a.Uv};C.Za.aL=function(a){return!0==a.LC};C.Za.bL=function(a){return!0==a.LC&&!0==a.Wv};C.Za.cL=function(a){return!0==a.$v};C.Za.dL=function(a){return!0==a.NC};C.Za.gK=function(a,e){return W(e,a)};C.Za.FL=function(a,e){return W(e,a)?a:null};
C.Za.pF=function(a){var e=null;try{e=a.constructor}catch(d){}e&&e.Cd||(e=Object);return e};C.Za.PF=function(a){if(!a)return null;C.Za.fr||(C.Za.fr={});var e=C.Za.fr[a];e||(e=eval(a),C.Za.fr[a]=e);return e};C.Za.parse=function(a){return C.Za.PF(a)};M.Ag=function(){};M.Ag.Ea("Enum");
M.Ag.parse=function(a,e){var d=a.prototype;if(a.Wv){for(var f=e.split("|"),b=0,c=!0,g=f.length-1;0<=g;g--){var h=f[g].trim(),n=!1;for(m in d)if(m===h){b|=d[m];n=!0;break}if(!n){c=!1;break}}if(c)return b}else for(var m in d)if(m===e)return d[m];throw"Invalid Enumeration Value";};
M.Ag.$J=function(a){var e=this.prototype;if(this.Wv&&0!==a){var d=[];for(f in e)e[f]&a&&(d.length&&d.add(" | "),d.add(f));if(!d.length)throw"Invalid Enumeration Value";return d.join("")}for(var f in e)if(e[f]===a)return f;throw"Invalid Enumeration Value";};M.oc=function(){};M.oc.Ea("Delegate");M.oc.empty=function(){};M.oc.TC=function(a,e,d){for(var f=0;f<a.length;f+=2)if(a[f]===e&&a[f+1]===d)return!0;return!1};
M.oc._create=function(a){function e(){if(2==a.length)return a[1].apply(a[0],arguments);for(var d=a.clone(),f=0;f<d.length;f+=2)M.oc.TC(a,d[f],d[f+1])&&d[f+1].apply(d[f],arguments);return null}e.ef=a;return e};M.oc.create=function(a,e){return a?M.oc._create([a,e]):e};M.oc.jK=function(a,e){return a?e?M.oc._create((a.ef?a.ef:[null,a]).concat(e.ef?e.ef:[null,e])):a.ef?a:M.oc.create(null,a):e.ef?e:M.oc.create(null,e)};
M.oc.remove=function(a,e){if(!a||a===e)return null;if(!e)return a;var d=a.ef,f=null,b;e.ef?(f=e.ef[0],b=e.ef[1]):b=e;for(var c=0;c<d.length;c+=2)if(d[c]===f&&d[c+1]===b){if(2==d.length)return null;d.splice(c,2);return M.oc._create(d)}return a};M.oc.nK=function(a,e,d){d=d||"__"+(new Date).valueOf();self[d]=e?a:function(){try{delete self[d]}catch(f){self[d]=void 0}a.apply(null,arguments)};return d};M.oc.CK=function(a){delete self[a]};M.oc.hK=function(a){self[a]=M.oc.empty};M.Td=function(){};
M.Td.prototype={mg:null};M.Td.sd=function(a){return a?a.sd?a.sd():new M.an(a):null};V(M.Td,"IEnumerator");M.ln=function(){};M.ln.prototype={sd:null};V(M.ln,"IEnumerable");M.an=function(a){this.jw=a;this.Ar=-1;this.current=null};M.an.prototype={mg:function(){this.Ar++;this.current=this.jw[this.Ar];return this.Ar<this.jw.length}};M.an.Ea("ArrayEnumerator",null,M.Td);M.tv=function(){};M.tv.prototype={Ic:null};V(M.tv,"IDisposable");M.Lv=function(a){this.Zn=M.Ee(a)?[]:[a];this.isEmpty=0==this.Zn.length};
M.Lv.prototype={append:function(a){M.Ee(a)||(this.Zn.add(a),this.isEmpty=!1);return this},clear:function(){this.Zn=[];this.isEmpty=!0},toString:function(a){return this.Zn.join(a||"")}};M.Lv.Ea("StringBuilder");M.jn=function(){};M.jn.Ea("EventArgs");M.jn.zB=new M.jn;C.XMLHttpRequest||(C.XMLHttpRequest=function(){for(var a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],e=0;e<a.length;e++)try{return new ActiveXObject(a[e])}catch(d){}return null});
M.lv=function(){var a=M.lv;a.wn&&a.Ru();a.Jh.apply(this);this.cancel=!1};M.lv.Ea("CancelEventArgs",M.jn);M.CC=function(a){this.first=a};M.CC.Ea("Tuple");M.Sc=function(a){this.Yr=a;this.Qf=null};M.Sc.prototype={Ma:function(){this.Qf=M.Sc.mw(this.Qf);return this.Yr},mb:function(a){this.Yr!==a&&((this.Yr=a,a=this.Qf)&&(this.Qf=null,M.Sc.Rw(a)))}};M.Sc.Mr=[];M.Sc.mD={Ic:function(){M.Sc.Mr.pop()}};M.Sc.EL=function(a){M.Sc.Mr.push(a);return M.Sc.mD};
M.Sc.mw=function(a){var e=M.Sc.Mr,d=e.length;if(d){a=a||[];for(var f=0;f<d;f++){var b=e[f];a.contains(b)||a.push(b)}return a}return null};M.Sc.Rw=function(a){for(var e=0,d=a.length;e<d;e++)a[e].ZK()};M.Sc.Ea("Observable");M.vv=function(a){this.Kg=a||[];this.Qf=null};
M.vv.prototype={add:function(a){this.Kg.push(a);X(this)},clear:function(){this.Kg.clear();X(this)},contains:function(a){return this.Kg.contains(a)},sd:function(){this.Qf=M.Sc.mw(this.Qf);return this.Kg.sd()},indexOf:function(a){return this.Kg.indexOf(a)},tf:function(a,e){this.Kg.tf(a,e);X(this)},remove:function(a){return this.Kg.remove(a)?(X(this),!0):!1},toArray:function(){return this.Kg}};function X(a){var e=a.Qf;e&&(a.Qf=null,M.Sc.Rw(e))}M.vv.Ea("ObservableCollection",null,M.ln);M.HB=function(){};
V(M.HB,"IApplication");M.IB=function(){};V(M.IB,"IContainer");M.LB=function(){};V(M.LB,"IObjectFactory");M.JB=function(){};V(M.JB,"IEventManager");M.KB=function(){};V(M.KB,"IInitializable");self.Za.Vp("XODText");self.Za.Vp("XODTextOld");XODText.Ob=function(){};XODText.Rq=function(a,e){this.Xw=a;this.bb=Array(8);this.bb[0]=e[0];this.bb[1]=e[1];this.bb[2]=e[2];this.bb[3]=e[3];this.bb[4]=e[4];this.bb[5]=e[5];this.bb[6]=e[6];this.bb[7]=e[7]};
XODText.Rq.prototype={Xw:null,bb:null,yc:function(){for(var a=Array(8),e=0;8>e;e++)a[e]=this.bb[e];return a}};XODText.au=function(a){this.FC=this.width=a};XODText.au.prototype={width:0,FC:0};XODText.Jp=function(){};XODText.Jp.prototype={A:function(){},addColorStop:function(){}};XODText.Yq=function(a){this.Ej=[];this.rw={};var e=new XODText.Oa;e.set(1,0,0,1,0,0);this.Ej.push(e);this.wr=a};
$.extend(XODText.Yq.prototype,{wr:null,ex:0,xl:0,Lr:0,canvas:{TL:0,height:0},uF:function(a){return this.rw[a]},bK:function(a,e){var d=new XODText.Ba;d.Ce(a);e.eB(d);return d.width()},zj:function(a){a=a.split(" ")[1];console.assert(Object.St(this.wr,a),"Font "+a+" file not found");return this.wr[a]},qx:function(a,e){var d=new XODText.Oa,f=a.Kr,b=a.Yw;d.set(b/f,0,0,b/f,0,0);d.eB(e)},font:null,save:function(){var a=new XODText.Oa;a.pm(U(this.Ej));this.Ej.push(a)},restore:function(){this.Ej.pop()},transform:function(a,
e,d,f,b,c){var g=new XODText.Oa;g.set(a,e,d,f,b,c);U(this.Ej).concat(g)},translate:function(a,e){this.xl=a;this.Lr=e},fillText:function(a,e,d){var f=this.zj(this.font);this.En(a,e,d,f)},En:function(a,e,d,f){if(!this.vj)for(this.translate(e,d),e=0,d=a.length;e<d;e++){var b=a.charAt(e),c=f.Jy(b.toString());this.qx(f,c);var g=c.y1;c.y1=c.y2;c.y2=g;c.x1+=this.xl;c.x2+=this.xl;c.y1+=this.Lr;c.y2+=this.Lr;this.xl+=c.width();g=Array(8);g[0]=c.x1;g[1]=c.y1;g[2]=c.x2;g[3]=c.y1;g[4]=c.x2;g[5]=c.y2;g[6]=c.x1;
g[7]=c.y2;U(this.Ej).fB(g);this.rw[this.ex]=new XODText.Rq(b,g);this.ex++}},measureText:function(a){var e=this.zj(this.font);return this.ax(a,e)},ax:function(a,e){var d=0;if(!this.vj)for(var f=0,b=a.length;f<b;f++){var c=e.Jy(a.charAt(f).toString());this.qx(e,c);d+=c.width()}return new XODText.au(d)},lineWidth:0,lineCap:null,strokeStyle:null,fillStyle:null,globalAlpha:0,createLinearGradient:function(){return new XODText.Jp},createRadialGradient:function(){return new XODText.Jp},createPattern:function(){},
addColorStop:function(){},beginPath:function(){},closePath:function(){},fill:function(){},stroke:function(){},clip:function(){},moveTo:function(){},lineTo:function(){},quadraticCurveTo:function(){},bezierCurveTo:function(){},miterLimit:0,lineJoin:null,drawImage:function(){},setTransform:function(){},getImageData:function(){return new XODText.MJ},putImageData:function(){},scale:function(){},S:function(){this.save()},r:function(){this.restore()},t:function(a,e,d,f,b,c){this.transform(a,e,d,f,b,c)},
T:function(a,e){this.translate(a,e)},w:0,c:null,s:null,f:null,a:0,L:function(a,e,d,f){return this.createLinearGradient(a,e,d,f)},R:function(a,e,d,f,b,c){return this.createRadialGradient(a,e,d,f,b,c)},P:function(a,e){this.createPattern(a,e)},A:function(){},b:function(){this.beginPath()},z:function(){this.closePath()},F:function(){this.fill()},X:function(){this.stroke()},C:function(){this.clip()},M:function(a,e){this.moveTo(a,e)},l:function(a,e){this.lineTo(a,e)},q:function(a,e,d,f){this.quadraticCurveTo(a,
e,d,f)},B:function(a,e,d,f,b,c){this.bezierCurveTo(a,e,d,f,b,c)},n:null,x:function(a,e,d){var f=this.zj(this.n);this.En(a,e,d,f)},m:function(a){var e=this.zj(this.n);return this.ax(a,e)},i:0,j:null,I:function(a,e,d){this.drawImage(a,e,d)},Z:function(a,e,d,f,b,c){this.setTransform(a,e,d,f,b,c)},d:function(a,e,d,f){return this.getImageData(a,e,d,f)},D:function(a,e,d){this.putImageData(a,e,d)},e:function(a,e){this.scale(a,e)},fillTextCustom:function(a,e,d){var f=this.zj(this.font);this.En(a,e,d,f)},
xc:function(a,e,d){var f=this.zj(this.n);this.En(a,e,d,f)},cgb:function(){console.assert(!this.vj,"Custom Glyphs begin offset is incorrect");this.vj=!0},cge:function(){console.assert(this.vj,"Custom Glyphs end offset is incorrect");this.vj=!1},xw:function(a,e,d,f){f&&(1<a.length&&(a=a.substr(0,a.length-1)));e(a,e,d)},xcw:function(a,e,d,f){f&&(1<a.length&&(a=a.substr(0,a.length-1)));xc(a,e,d)},vj:!1});XODText.Gf=function(){this.Ng=[];this.kc=[];this.Aa=[];this.lc=!1};
XODText.Gf.prototype={clear:function(){this.eb="";this.kc.clear();this.Aa.clear();this.lc=!1},yb:function(){this.kc=[];this.Aa=[];this.lc=!1},HD:function(a){function e(d){for(var f=d.length,b=0;b<f;b+=8){var c=a.O({x:d[b],y:d[b+1]}),g=a.O({x:d[b+2],y:d[b+3]}),h=a.O({x:d[b+4],y:d[b+5]}),e=a.O({x:d[b+6],y:d[b+7]}),m=new XODText.gb;m.lx(c.x,c.y,g.x,g.y,h.x,h.y,e.x,e.y);m=m.pf();d[b]=m.x1;d[b+1]=m.y1;d[b+2]=m.x2;d[b+3]=m.y2;d[b+4]=m.x3;d[b+5]=m.y3;d[b+6]=m.x4;d[b+7]=m.y4}}e(this.Aa);this.Ng.forEach(function(a){e(a.bb);
a.Ua.forEach(function(a){e(a.bb);a.Of.forEach(function(b){e(b)})})})},Yz:function(a){this.Aa=a.Aa;this.kc=a.kc;this.eb=a.eb;this.lc=a.lc;this.Ng=function(a,d,f){function b(b,a){return b.slice(a,a+8)}function c(){var c=new XODText.pb;c.zb=a[m+1];c.ab=r;r++;var l=a[m+1];c.ga=f.slice(l,l+a[m+2]);c.ul=l;for(var l=a[m],g=0;g<l;++g)c.Of.push(b(d,8*(c.zb+g)));p&&(p.wl=c);return p=c}function g(b){var l=c(),g=a[m],d=a[m+3],p=a[m+4],h;if(d===p){d=Math.min(b.x1,b.x2);p=Math.max(b.x1,b.x2);h=l.Of[0];b=l.Of[g-
1];b=[h[1],h[3],h[5],h[7],b[1],b[3],b[5],b[7]];h=Math.min.apply(null,b);b=Math.max.apply(null,b);for(var f=0;f<g;++f){var r=l.Of[f];r[0]=d;r[2]=p;r[4]=p;r[6]=d}}else for(h=Math.min(b.y1,b.y2),b=Math.max(b.y1,b.y2),f=0;f<g;++f)r=l.Of[f],r[1]=b,r[3]=b,r[5]=h,r[7]=h;g=l.bb;g[0]=d;g[1]=b;g[2]=p;g[3]=b;g[4]=p;g[5]=h;g[6]=d;g[7]=h;m+=5;return l}function h(){var l=c();l.bb=b(a,m+3);m+=11;return l}function n(c){var d=new XODText.Ab;d.ab=c;var f=0<a[m];if(f){var r=6;c=a[m];var n=d.bb,x=a.slice(m+2,m+4),A=
a.slice(m+4,m+6);n[0]=x[0];n[1]=x[1];n[2]=A[0];n[3]=x[1];n[4]=A[0];n[5]=A[1];n[6]=x[0];n[7]=A[1]}else r=10,c=-a[m],d.bb=b(a,m+2);f=f?g:h;n=new XODText.Ba;d.vc(n);m+=r;p=null;for(r=0;r<c;++r)d.Ua.push(f(n));d.ga=d.Ua.map(function(b){return b.ga}).join(" ");d.ul=d.Ua[0]?d.Ua[0].ul:0;l&&(l.vl=d);return l=d}var m=0,l=null,p=null,r=0;return function(){var b=[],c=a[m];m++;for(var l=0;l<c;++l)b.push(n(l));return b}()}(a.Sa,this.Aa,this.eb)},Hn:function(a){for(var e="",d=0,f=0,b=0,c=0;d<a.length;)f=a.charCodeAt(d),
9==f?(e+=String.fromCharCode(10),d++):128>f?(e+=String.fromCharCode(f),d++):191<f&&224>f?(b=a.charCodeAt(d+1),e+=String.fromCharCode((f&31)<<6|b&63),d+=2):(b=a.charCodeAt(d+1),c=a.charCodeAt(d+2),e+=String.fromCharCode((f&15)<<12|(b&63)<<6|c&63),d+=3);return e},rD:function(a,e){for(var d=new XODText.pb,f=M.Td.sd(a.split(","));f.mg();){var b=f.current.split(":"),c=parseInt(b[0]),g=0;1<b.length&&(g=parseInt(b[1]));for(b=c;b<=c+g;b++){var h=e.uF(b);d.$r(h.Xw,h.yc());this.kc.add(b);this.Aa.addRange(h.yc())}}return d},
parse:function(a,e){var d=0,f=0,b=0;do{for(var c;a.advance();)if(c=a.ja(),"F"===c)a.ha();else if("P"===c)a.ha();else if("L"===c){a.ha();c=new XODText.Ab;c.Sr(d++);0<this.Ng.length&&this.Ng[this.Ng.length-1].dI(c);this.Ng.add(c);for(var g=M.Td.sd(a.bd().split(" "));g.mg();){var h=g.current;if(0<c.pi()){this.eb+=" ";this.kc.add(-1);b++;var n=Array(8);c.ot().yc(n);this.Aa.addRange(n)}h=this.rD(h,e);h.Sr(f++);h.vD(b);c.DD(h);this.eb+=h.ga;b+=h.bg()}this.eb+="\n";this.kc.add(-2);b++;console.assert(0<c.pi(),
"No words in line");0<c.pi()&&(n=Array(8),c.ot().yc(n),this.Aa.addRange(n))}else console.assert("XML parser has encountered a symbol it can't process.");a.pa()}while(a.depth)},ru:function(a,e){try{var d=new window.oe(a);console.assert("TextData"===d.ja(),"XML parser has encountered a symbol it can't process.");"TextData"===d.ja()&&(d.ha(),this.parse(d,e))}catch(f){console.warn("TextSelection has encountered an error: "+f.message);return}this.lc=!0},ready:function(){return this.lc},$l:function(){return this.Ng.length?
this.Ng[0]:new XODText.Ab},Md:function(){return this.Aa},eb:"",kc:null,Aa:null,lc:!1};XODText.Ab=function(){this.Ua=[];this.ab=-1;this.Mb=[];this.bb=Array(8);this.vl=null};
XODText.Ab.prototype={yb:function(){this.ab=this.Zb=-1;this.Mb=[]},cb:function(a){return this.ab===a.ab},pi:function(){return this.Ua.length},Kd:function(){return this.Ua.length?this.Ua[0]:new XODText.pb},ot:function(){return this.Ua.length?this.Ua[this.Ua.length-1]:new XODText.pb},oz:function(a){return 0>a||a>=this.pi()?new XODText.pb:this.Ua[a]},dh:function(){return null==this.vl?new XODText.Ab:this.vl},vc:function(a){a.Oi(this.bb)},Sr:function(a){this.ab=a},Uo:function(){if(this.Mb.length)return this.Mb[0];
var a=new XODText.fa,e=new XODText.fa,d=this.Kd(),f=this.ot(),b=Array(8),c=Array(8);d.wc(0,b);a.x=(b[0]+b[2]+b[4]+b[6])/4;a.y=(b[1]+b[3]+b[5]+b[7])/4;f.wc(f.bg()-1,c);e.x=(c[0]+c[2]+c[4]+c[6])/4;e.y=(c[1]+c[3]+c[5]+c[7])/4;0.01>Math.abs(a.x-e.x)&&(0.01>Math.abs(a.y-e.y)&&this.Mb.add(0));a=Math.atan2(e.y-a.y,e.x-a.x);a*=180/3.1415926;0>a&&(a+=360);this.Mb.add(a);return 0},ga:"",ua:null,ab:0,Mb:null,bb:null,vl:null,dI:function(a){this.vl=a},DD:function(a){0<this.Ua.length&&this.Ua[this.Ua.length-1].eI(a);
this.Ua.add(a);var e=String.Pt(this.ga),d=Array(8);a.yc(d);if(e)for(e=0;8>e;e++)this.bb[e]=d[e];else this.ga+=" ",XODText.gb.Xn(this.bb,d,!1,0);this.ga+=a.ga}};XODText.pb=function(){this.Of=[];this.ab=this.zb=-1;this.bb=Array(8);this.wl=null};
XODText.pb.prototype={yb:function(){this.ab=this.zb=-1},cb:function(a){return this.ab===a.ab},bg:function(){return this.Of.length},ze:function(){return this.ga.length},Ae:function(){return this.ul},vD:function(a){this.ul=a},Ld:function(){return null==this.wl?new XODText.pb:this.wl},wc:function(a,e){for(var d=0;8>d;d++)e[d]=this.Of[a][d]},yc:function(a){for(var e=0;8>e;e++)a[e]=this.bb[e]},vc:function(a){var e=new XODText.Ba;e.Oi(this.bb);a[0]=e.x1;a[1]=e.y1;a[2]=e.x2;a[3]=e.y2},Sr:function(a){this.ab=
this.zb=a},zb:0,ga:"",ua:null,ab:0,ul:0,bb:null,wl:null,$r:function(a,e){var d=String.Pt(this.ga);this.ga+=a;for(var f=Array(8),b=0;8>b;b++)f[b]=e[b];this.Of.add(f);if(d)for(b=0;8>b;b++)this.bb[b]=f[b];else XODText.gb.Xn(this.bb,f,!1,0)},eI:function(a){this.wl=a}};XODTextOld.Gf=function(){};
XODTextOld.Gf.prototype={clear:function(){this.Sa.clear();this.eb="";this.kc.clear();this.Aa.clear();this.lc=!1},yb:function(){this.Sa=[];this.kc=[];this.Aa=[];this.lc=!1},Hn:function(a){for(var e="",d=0,f=0,b=0,c=0;d<a.length;)f=a.charCodeAt(d),9==f?(e+=String.fromCharCode(10),d++):128>f?(e+=String.fromCharCode(f),d++):191<f&&224>f?(b=a.charCodeAt(d+1),e+=String.fromCharCode((f&31)<<6|b&63),d+=2):(b=a.charCodeAt(d+1),c=a.charCodeAt(d+2),e+=String.fromCharCode((f&15)<<12|(b&63)<<6|c&63),d+=3);return e},
eG:function(a){this.Sa=[];this.kc=[];this.Aa=[];this.lc=!1;try{var e=new window.oe(a);this.eb="";e.ha();if(!e.advance())return;var d=e.bd();this.eb=d=this.Hn(d);this.kc.clear();e.advance();for(var d=e.bd(),f=d.split(","),b=M.Td.sd(f);b.mg();){var c=b.current;try{var g=parseInt(c.trim());this.kc.add(g)}catch(h){}}this.Sa.clear();e.advance();for(var d=e.bd(),f=d.split(","),n=M.Td.sd(f);n.mg();){c=n.current;try{g=parseFloat(c.trim()),this.Sa.add(g)}catch(m){}}this.Aa.clear();e.advance();d=e.bd();f=d.split(",");
a=[];for(var e=[],d=0,l=M.Td.sd(f);l.mg();){c=l.current;switch(c){case "Q":d=1;break;case "R":d=2;break;case "S":d=3;break;default:d=0}if(d)a.add(0),e.add(d);else try{g=parseFloat(c.trim()),a.add(g),e.add(d)}catch(p){return}}for(var d=0,r=a.length,q,s,u,v,l=c=f=0;l<r;){var w=e[l];if(0<w)d=w,++l,3===d&&(f=a[l],c=a[l+1],l+=2);else if(1===d)for(g=0;8>g;++g)this.Aa.add(a[l++]);else 2===d?(q=a[l++],s=a[l++],u=a[l++],v=a[l++],this.Aa.add(q),this.Aa.add(s),this.Aa.add(u),this.Aa.add(s),this.Aa.add(u),this.Aa.add(v),
this.Aa.add(q),this.Aa.add(v)):3===d&&(q=a[l++],s=f,u=a[l++],v=c,this.Aa.add(q),this.Aa.add(s),this.Aa.add(u),this.Aa.add(s),this.Aa.add(u),this.Aa.add(v),this.Aa.add(q),this.Aa.add(v))}}catch(x){return}this.eb.length&&(this.eb.length===this.kc.length&&(8*this.eb.length===this.Aa.length&&(this.lc=!0)))},ready:function(){return this.lc},$l:function(){var a=new XODTextOld.Ab;if(!this.Sa.length)return a.Od(this.Sa,-1,this.eb,this.Aa,0),a;a.Od(this.Sa,1,this.eb,this.Aa,1);return a},Md:function(){return this.Aa},
Sa:null,eb:null,kc:null,Aa:null,lc:!1};XODTextOld.Ab=function(){};
XODTextOld.Ab.prototype={yb:function(){this.Zb=-1;this.ab=0;this.Mb=[]},Od:function(a,e,d,f,b){this.Zb=e;this.ab=b;this.Mb=[];this.Fc=a;this.ga=d;this.ua=f},cb:function(a){return this.Zb===a.Zb},pi:function(){return Math.abs(this.Fc[this.Zb])},jg:function(){return 0<this.Fc[this.Zb]},Kd:function(){var a=new XODTextOld.pb;a.Od(this.Fc,this.Zb+(this.jg()?6:10),this.Zb,this.ga,this.ua,1);return a},oz:function(a){if(0>a||a>=this.pi()){var e=new XODTextOld.pb;e.Od(this.Fc,-1,-1,this.ga,this.ua,0)}else{var d=
this.jg()?6:10,f=this.jg()?5:11,e=new XODTextOld.pb;e.Od(this.Fc,this.Zb+d+f*a,this.Zb,this.ga,this.ua,1+a)}return e},dh:function(){var a=this.Zb+parseInt(this.Fc[this.Zb+1]);if(a>=this.Fc.length){var e=new XODTextOld.Ab;e.Od(this.Fc,-1,this.ga,this.ua,0)}else e=new XODTextOld.Ab,e.Od(this.Fc,a,this.ga,this.ua,this.ab+1);return e},vc:function(a){if(this.jg())a.x1=this.Fc[this.Zb+2+0],a.y1=this.Fc[this.Zb+2+1],a.x2=this.Fc[this.Zb+2+2],a.y2=this.Fc[this.Zb+2+3];else{for(var e=1.79769E308,d=XODText.Ob.Dg,
f=1.79769E308,b=XODText.Ob.Dg,c=0;4>c;++c)var g=this.Fc[this.Zb+2+2*c],h=this.Fc[this.Zb+2+2*c+1],e=Math.min(e,g),d=Math.max(d,g),f=Math.min(f,h),b=Math.max(b,h);a.x1=e;a.y1=f;a.x2=d;a.y2=b}},Uo:function(){if(this.Mb.length)return this.Mb[0];var a=new XODText.fa,e=new XODText.fa,d=new XODTextOld.pb;d.yb();var f=this.Kd(),b=new XODTextOld.pb;b.yb();for(var c=this.Kd();!c.cb(d);c=c.Ld())b=c;d=Array(8);c=Array(8);f.wc(0,d);a.x=(d[0]+d[2]+d[4]+d[6])/4;a.y=(d[1]+d[3]+d[5]+d[7])/4;b.wc(b.bg()-1,c);e.x=
(c[0]+c[2]+c[4]+c[6])/4;e.y=(c[1]+c[3]+c[5]+c[7])/4;0.01>Math.abs(a.x-e.x)&&(0.01>Math.abs(a.y-e.y)&&this.Mb.add(0));a=Math.atan2(e.y-a.y,e.x-a.x);a*=180/3.1415926;0>a&&(a+=360);this.Mb.add(a);return 0},Zb:0,Fc:null,ga:null,ua:null,ab:0,Mb:null};XODTextOld.pb=function(){};
XODTextOld.pb.prototype={yb:function(){this.Mf=this.zb=-1;this.ab=0},Od:function(a,e,d,f,b,c){this.zb=e;this.Mf=d;this.Sa=a;this.ga=f;this.ua=b;this.ab=c},cb:function(a){return this.zb===a.zb},bg:function(){return parseInt(this.Sa[this.zb])},ze:function(){return parseInt(this.Sa[this.zb+2])},Ae:function(){return parseInt(this.Sa[this.zb+1])},jg:function(){return 0<this.Sa[this.Mf]},BF:function(){return Math.abs(this.Sa[this.Mf])},Ld:function(){var a=this.jg(),e=a?5:11;this.zb>=this.Mf+(a?6:10)+(this.BF()-
1)*e?(a=new XODTextOld.pb,a.Od(this.Sa,-1,-1,this.ga,this.ua,0)):(a=new XODTextOld.pb,a.Od(this.Sa,this.zb+e,this.Mf,this.ga,this.ua,this.ab+1));return a},lF:function(a){var e=this.bg();return 0>a||a>=e?-1:parseInt(this.Sa[this.zb+1])+a},wc:function(a,e){var d=this.lF(a);if(!(0>d)){var f=new XODTextOld.Ab;f.Od(this.Sa,this.Mf,this.ga,this.ua,0);if(f.jg()){var b=new XODText.Ba;f.vc(b);f=b.y1<b.y2?b.y1:b.y2;b=b.y1>b.y2?b.y1:b.y2;d*=8;e[0]=this.ua[d];e[1]=f;e[2]=this.ua[d+2];e[3]=e[1];e[4]=this.ua[d+
4];e[5]=b;e[6]=this.ua[d+6];e[7]=e[5]}else for(d*=8,f=0;8>f;++f)e[f]=this.ua[d+f]}},yc:function(a){var e=new XODTextOld.Ab;e.Od(this.Sa,this.Mf,this.ga,this.ua,0);if(e.jg()){var d=this.Sa[this.zb+3],f=this.Sa[this.zb+4];if(d>f){var b;b=d;d=f;f=b}b=new XODText.Ba;e.vc(b);e=b.y1<b.y2?b.y1:b.y2;b=b.y1>b.y2?b.y1:b.y2;a[0]=d;a[1]=e;a[2]=f;a[3]=e;a[4]=f;a[5]=b;a[6]=d;a[7]=b}else for(d=this.zb+3,f=0;8>f;++f)a[f]=this.Sa[d+f]},vc:function(a){var e=new XODTextOld.Ab;e.Od(this.Sa,this.Mf,this.ga,this.ua,0);
if(e.jg()){var d=this.Sa[this.zb+3],f=this.Sa[this.zb+4];if(d>f){var b;b=d;d=f;f=b}b=new XODText.Ba;e.vc(b);e=b.y1<b.y2?b.y1:b.y2;b=b.y1>b.y2?b.y1:b.y2}else{d=1.79769E308;f=XODText.Ob.Dg;e=1.79769E308;b=XODText.Ob.Dg;for(var c=this.zb+3,g=0;4>g;++g){var h=this.Sa[c+2*g],n=this.Sa[c+2*g+1],d=Math.min(d,h),f=Math.max(f,h),e=Math.min(e,n);b=Math.max(b,n)}}a[0]=d;a[1]=e;a[2]=f;a[3]=b},zb:0,Mf:0,Sa:null,ga:null,ua:null,ab:0};XODText.Ba=function(){this.y2=this.x2=this.y1=this.x1=0};
XODText.Ba.prototype={Ya:function(a,e,d,f){this.x1=a;this.y1=e;this.x2=d;this.y2=f},Ce:function(a){this.x1=a.x1;this.y1=a.y1;this.x2=a.x2;this.y2=a.y2},normalize:function(){if(this.x1>this.x2){var a;a=this.x1;this.x1=this.x2;this.x2=a}this.y1>this.y2&&(a=this.y1,this.y1=this.y2,this.y2=a)},set:function(a,e,d,f){this.x1=a;this.y1=e;this.x2=d;this.y2=f},zm:function(a){return this.x2<a.x1||(this.x1>a.x2||(this.y2<a.y1||this.y1>a.y2))},width:function(){var a=this.x2-this.x1;return 0>a?-a:a},height:function(){var a=
this.y2-this.y1;return 0>a?-a:a},Oi:function(a){for(var e=1.79769E308,d=XODText.Ob.Dg,f=1.79769E308,b=XODText.Ob.Dg,c=0;4>c;++c)var g=a[2*c],h=a[2*c+1],e=Math.min(e,g),d=Math.max(d,g),f=Math.min(f,h),b=Math.max(b,h);this.x1=e;this.y1=f;this.x2=d;this.y2=b},qp:function(a,e){var d,f,b,c,g,h,n,m;a.x1<a.x2?(d=a.x1,f=a.x2):(d=a.x2,f=a.x1);a.y1<a.y2?(b=a.y1,c=a.y2):(b=a.y2,c=a.y1);e.x1<e.x2?(g=e.x1,h=e.x2):(g=e.x2,h=e.x1);e.y1<e.y2?(n=e.y1,m=e.y2):(n=e.y2,m=e.y1);if(f<g||(h<d||(c<n||m<b)))return this.x1=
this.x2=this.y1=this.y2=0,!1;this.x1=d<g?g:d;this.x2=f<h?f:h;this.y1=b<n?n:b;this.y2=c<m?c:m;return this.x1===this.x2||this.y1===this.y2?(this.x1=this.x2=this.y1=this.y2=0,!1):!0},dG:function(a){this.fD(a,a)},fD:function(a,e){this.normalize();this.x1-=a;this.x2+=a;this.y1-=e;this.y2+=e},union:function(a){a.x1<this.x1&&(this.x1=a.x1);a.y1<this.y1&&(this.y1=a.y1);a.x2>this.x2&&(this.x2=a.x2);a.y2>this.y2&&(this.y2=a.y2)},contains:function(a,e){if(this.x1<this.x2){if(a<this.x1||a>this.x2)return!1}else if(a<
this.x2||a>this.x1)return!1;if(this.y1<this.y2){if(e<this.y1||e>this.y2)return!1}else if(e<this.y2||e>this.y1)return!1;return!0},x1:0,y1:0,x2:0,y2:0};XODText.fa=function(){this.y=this.x=0};XODText.fa.cb=function(a,e){return a.x===e.x&&a.y===e.y};XODText.fa.nL=function(a,e){return a!==e};XODText.fa.ky=function(a){var e=new XODText.fa;e.x=a.x/2;e.y=a.y/2;return e};XODText.fa.multiply=function(a,e){var d=new XODText.fa;d.init(a.x*e,a.y*e);return d};
XODText.fa.zi=function(a,e){var d=new XODText.fa;d.init(a.x-e.x,a.y-e.y);return d};XODText.fa.Gm=function(a,e){var d=new XODText.fa;d.init(a.x+e.x,a.y+e.y);return d};XODText.fa.distance=function(a,e){var d=a.x-e.x,f=a.y-e.y;return Math.sqrt(d*d+f*f)};
XODText.fa.prototype={x:0,y:0,init:function(a,e){this.x=a;this.y=e},pp:function(a){this.x=a.x;this.y=a.y},add:function(a){this.x+=a.x;this.y+=a.y},normalize:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);return a?(this.x/=a,this.y/=a,!0):!1},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},uc:function(a){return this.x*a.x+this.y*a.y}};XODText.Ob.Ea("XODText.doubleData");XODText.Rq.Ea("XODText.Letter");XODText.au.Ea("XODText.nsIDOMTextMetrics");XODText.Jp.Ea("XODText.nsIDOMCanvasGradient");
XODText.Yq.Ea("XODText.SelectionContext");XODText.Gf.Ea("XODText.SelectionInfo");XODText.Ab.Ea("XODText.Line");XODText.pb.Ea("XODText.Word");XODText.Ba.Ea("XODText.SelectionRect");XODText.fa.Ea("XODText.SelectionPoint");XODText.Ob.Ef=1.79769E308;XODText.Ob.Dg=-1.79769E308;self.Za.Vp("XODText");XODText.Ln=function(){};XODText.hc=function(a,e){this.x=a;this.y=e};XODText.hc.prototype={x:0,y:0};XODText.gb=function(){this.$m=this.Ym=this.Zm=this.Xm=this.y2=this.x2=this.y1=this.x1=0};
XODText.gb.Xn=function(a,e,d,f){var b=new XODText.fa;b.init(0,0);var c=new XODText.fa;c.init(0,0);var g=new XODText.fa;g.init(0,0);var h=new XODText.fa;h.init(0,0);for(var n=0;4>n;++n){XODText.gb.lz(b,a,n);if(!b.normalize()&&d)return!1;n?2===n?g=XODText.fa.zi(g,b):1===n?h=XODText.fa.Gm(h,b):3===n&&(h=XODText.fa.zi(h,b)):g=XODText.fa.Gm(g,b);for(var m=Array(8),l=0;1>l;++l){for(var p=0;8>p;++p)m[p]=e[8*l+p];XODText.gb.lz(c,m,n);if(!c.normalize()&&d)return!1;n?2===n?g=XODText.fa.zi(g,c):1===n?h=XODText.fa.Gm(h,
c):3===n&&(h=XODText.fa.zi(h,c)):g=XODText.fa.Gm(g,c)}if(d&&Math.abs(b.uc(c))<XODText.gb.jE)return!1}g=XODText.fa.ky(g);h=XODText.fa.ky(h);if(!g.normalize()&&d||(!h.normalize()&&d||d&&!XODText.gb.JG(a,e,g,h,f,f/10)))return!1;XODText.gb.inflate(a,e,1,g,h);return!0};XODText.gb.lz=function(a,e,d){var f=(d+1)%4;a.x=e[2*f]-e[2*d];a.y=e[2*f+1]-e[2*d+1]};
XODText.gb.JG=function(a,e,d,f,b,c){var g=new XODText.fa;g.init(a[0],a[1]);var h=new XODText.fa;h.init(a[2],a[3]);var n=new XODText.fa;n.init(e[0],e[1]);var m=new XODText.fa;m.init(e[2],e[3]);var l=g.uc(d),p=h.uc(d),r=n.uc(d);d=m.uc(d);if(l>p)var q=l,l=p,p=q;r>d&&(q=r,r=d,d=q);if(r-p>b||l-d>b)return!1;g.x=a[2];g.y=a[3];h.x=a[4];h.y=a[5];n.x=e[2];n.y=e[3];m.x=e[4];m.y=e[5];l=g.uc(f);p=h.uc(f);r=n.uc(f);d=m.uc(f);l>p&&(q=l,l=p,p=q);r>d&&(q=r,r=d,d=q);return Math.abs(l-r)>c||Math.abs(p-d)>c?!1:!0};
XODText.gb.inflate=function(a,e,d,f,b){for(var c=XODText.Ob.Ef,g=XODText.Ob.Dg,h=XODText.Ob.Ef,n=XODText.Ob.Dg,m=0,l=0,p=0,r=0,q=0;4>q;++q){var s=new XODText.fa;s.init(a[2*q],a[2*q+1]);m=s.uc(f);l=s.uc(b);q?(c>m&&(c=m,p=s.x),g<m&&(g=m),h>l&&(h=l,r=s.y),n<l&&(n=l)):(c=g=m,h=n=l,p=s.x,r=s.y);for(s=0;s<d;++s){var u=new XODText.fa;u.init(e[8*s+2*q],e[8*s+2*q+1]);m=u.uc(f);l=u.uc(b);c>m&&(c=m,p=u.x);g<m&&(g=m);h>l&&(h=l,r=u.y);n<l&&(n=l)}}e=new XODText.fa;e.init(p,r);r=e.uc(b);p=XODText.fa.multiply(f,
c-e.uc(f));r=XODText.fa.multiply(b,h-r);e.x+=p.x+r.x;e.y+=p.y+r.y;a[0]=e.x;a[1]=e.y;c=g-c;h=n-h;a[2]=a[0]+c*f.x;a[3]=a[1]+c*f.y;a[4]=a[2]+h*b.x;a[5]=a[3]+h*b.y;a[6]=a[0]+h*b.x;a[7]=a[1]+h*b.y};
XODText.gb.prototype={_init:function(a,e,d,f,b,c,g,h){this.x1=a;this.y1=e;this.x2=d;this.y2=f;this.Xm=b;this.Zm=c;this.Ym=g;this.$m=h},lx:function(a,e,d,f,b,c,g,h){this.x1=a;this.y1=e;this.x2=d;this.y2=f;this.Xm=b;this.Zm=c;this.Ym=g;this.$m=h},pf:function(){return{x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2,x3:this.Xm,y3:this.Zm,x4:this.Ym,y4:this.$m}},wF:function(){var a=this.pf(),e=Math.min(a.x1,a.x2,a.x3,a.x4),d=Math.max(a.x1,a.x2,a.x3,a.x4),f=Math.min(a.y1,a.y2,a.y3,a.y4),b=Math.max(a.y1,a.y2,
a.y3,a.y4);a.x1=e;a.x2=d;a.x3=d;a.x4=e;a.y1=f;a.y2=f;a.y3=b;a.y4=b;return a},x1:0,y1:0,x2:0,y2:0,Xm:0,Zm:0,Ym:0,$m:0};XODText.Oa=function(){};XODText.Oa.Ji=function(a){var e=Math.cos(a);a=Math.sin(a);var d=new XODText.Oa;d.Ya(e,-a,a,e,0,0);return d};
XODText.Oa.prototype={m_a:0,m_b:0,m_c:0,m_d:0,m_h:0,m_v:0,pm:function(a){this.m_a=a.m_a;this.m_b=a.m_b;this.m_c=a.m_c;this.m_d=a.m_d;this.m_h=a.m_h;this.m_v=a.m_v},Ya:function(a,e,d,f,b,c){this.m_a=a;this.m_b=e;this.m_c=d;this.m_d=f;this.m_h=b;this.m_v=c},set:function(a,e,d,f,b,c){this.m_a=a;this.m_b=e;this.m_c=d;this.m_d=f;this.m_h=b;this.m_v=c},inverse:function(){var a=new XODText.Oa,e=this.m_a*this.m_d-this.m_b*this.m_c;if(!e)return a;a.m_a=this.m_d/e;a.m_c=-this.m_c/e;a.m_h=(this.m_c*this.m_v-
this.m_h*this.m_d)/e;a.m_b=-this.m_b/e;a.m_d=this.m_a/e;a.m_v=-(this.m_a*this.m_v-this.m_h*this.m_b)/e;return a},O:function(a){var e=a.x;a.x=a.x*this.m_a+a.y*this.m_c+this.m_h;a.y=e*this.m_b+a.y*this.m_d+this.m_v;return a},concat:function(a){var e=this.m_a,d=this.m_b,f=this.m_c,b=this.m_d;this.m_a=a.m_a*e+a.m_b*f;this.m_b=a.m_a*d+a.m_b*b;this.m_c=a.m_c*e+a.m_d*f;this.m_d=a.m_c*d+a.m_d*b;this.m_h=a.m_h*e+a.m_v*f+this.m_h;this.m_v=a.m_h*d+a.m_v*b+this.m_v},Rs:function(a){return this.m_a==a.m_a&&(this.m_b==
a.m_b&&(this.m_c==a.m_c&&(this.m_d==a.m_d&&(this.m_h==a.m_h&&this.m_v==a.m_v))))},fB:function(a){var e=new XODText.hc(a[0],a[1]),d=new XODText.hc(a[2],a[3]),f=new XODText.hc(a[4],a[5]),b=new XODText.hc(a[6],a[7]),e=this.O(e),d=this.O(d),f=this.O(f),b=this.O(b);a[0]=e.x;a[1]=e.y;a[2]=d.x;a[3]=d.y;a[4]=f.x;a[5]=f.y;a[6]=b.x;a[7]=b.y},eB:function(a){var e=Array(8);e[0]=a.x1;e[1]=a.y1;e[2]=a.x2;e[3]=a.y1;e[4]=a.x2;e[5]=a.y2;e[6]=a.x1;e[7]=a.y2;this.fB(e);a.Oi(e)}};XODText.Aj=function(){};
XODText.Aj.RC=function(a,e){return a.ic<e.ic||(a.ic===e.ic&&a._position<e._position||a.ic===e.ic&&(a._position===e._position&&a.Vh<e.Vh))?-1:a.ic===e.ic&&(a._position===e._position&&a.Vh===e.Vh)?0:1};
XODText.Aj.prototype={_init:function(){this.Sn=[]},_add:function(a){this.Sn.add(a)},_clear:function(){this.Sn.clear()},SC:function(a,e){e.clear();for(var d=[],f=M.Td.sd(this.Sn);f.mg();){var b=f.current;d.add(b)}d.sort(XODText.Aj.RC);for(var f="",c=[],g=[],h=[],n=XODText.Ln.Sv,m=0;m<d.length;++m)if(b=d[m],!(0>b.ic||(b.ic>=a.length||(0>b._position||0>=b.Vh)))){if(-1!==b.ic){g=a[b.ic].text;if(!g.ready())return!1;f=g.eb;c=g.kc;g=g.Md();if(!f.length||(f.length!==c.length||8*f.length!==g.length))continue;
for(var n=XODText.Ln.Sv,l=M.Td.sd(c);l.mg();){var p=l.current;p>n&&(n=p)}h.clear();for(var r=0;r<n+1;++r)h.add(-1);for(r=0;r<c.length;++r)l=c[r],0<=l&&(h[l]=r)}c=Array(8);for(l=b._position;l<b._position+b.Vh&&!(l>n);++l)if(p=h[l],!(0>p)){for(r=0;8>r;++r)c[r]=g[8*p+r];var q=!1;if(1<=e.length&&(r=e[e.length-1],r.ic===b.ic)){var s=c[0]-c[2],u=c[1]-c[3];XODText.gb.Xn(r.te,c,!0,Math.sqrt(s*s+u*u))&&(q=f.charAt(p),r.Vr.tf(r.Vr.length,q),q=!0)}q||(q=f.charAt(p),p=new XODText.zr,p.sl(b.ic,q,c),e.add(p))}}return 0<
e.length},Sn:null};XODText.rl=function(){};XODText.rl.prototype={sl:function(a,e,d){this.ic=a;this._position=e;this.Vh=d},ic:0,_position:0,Vh:0};XODText.zr=function(){};XODText.zr.prototype={sl:function(a,e,d){this.ic=a;this.Vr=e;this.te=Array(8);for(a=0;8>a;++a)this.te[a]=d[a]},ic:0,Vr:null,te:null};XODText.co=function(){this.af=new XODText.Ba;this.Un=new XODText.Ba};XODText.co.prototype={af:null,Un:null,Vn:null,Wn:null};XODText.wb=function(){};XODText.vb=function(){};
XODText.pd=function(){this.Nr={};this.Nf=0;this.Pa=this.Cj=this.Rn=this.Dc=-1;this.Jr=this.Mg=this.Tn=this.Wh=!1;this.Wd=[];this.Yb=[];this.pe=[];this.Xa=this.Ga="";this.Ec=[];this.Ze=[];this.Dj=[];this.Hr=[];this.Da={};this.Da[" "]=null;this.Da["\t"]=null;this.Da["\n"]=null;this.Da["."]=null;this.Da[","]=null;this.Da["?"]=null;this.Da[":"]=null;this.Da[";"]=null;this.Da['"']=null;this.Da["'"]=null;this.Da["<"]=null;this.Da[">"]=null;this.Da["`"]=null;this.Da["~"]=null;this.Da["!"]=null;this.Da["@"]=
null;this.Da["#"]=null;this.Da.$=null;this.Da["%"]=null;this.Da["^"]=null;this.Da["&"]=null;this.Da["("]=null;this.Da[")"]=null;this.Da["["]=null;this.Da["]"]=null;this.Da["{"]=null;this.Da["}"]=null;this.Da["|"]=null;this.Da._=null;this.Da["\\"]=null;this.Da["-"]=null;this.Da["="]=null;this.Da["+"]=null;this.Da["/"]=null;this.Da["*"]=null};
XODText.pd.gf=function(a,e){for(var d=0,f=a.length-1,b=Math.floor((d+f)/2);a[b]!==e&&d<f;)e<a[b]?f=b-1:e>a[b]&&(d=b+1),b=Math.floor((d+f)/2);return a[b]!==e?!1:!0};
XODText.pd.prototype={PD:function(a,e,d,f,b){this.Tn=!1;this.Vc=a.qb();if(0>this.Vc.length||(0>e.length||0<=f&&f>b))return!1;this.Nf=d;if(!this.nx(e))return!1;a=f;e=this.Vc.length;if(0>a)if(0>b)a=0,b=e-1;else return!1;else if(b<a)return!1;console.assert(0<=a&&a<=b);if(a>=e||b>=e)return!1;this.Rn=a;this.Cj=b;this.Dc=this.uf()?this.Cj:this.Rn;++this.Cj;this.Xa=this.Ga="";this.Ze.clear();this.Dj.clear();this.Wd.clear();this.Yb.clear();this.Tn=!0;this.Pa=-1;this.Wh=!1;return!0},run:function(a){var e=
-1,d=-1,f=-1,b="",c="",g=new XODText.Aj;g._init();g._clear();if(!this.Tn||0>=this.qe.length)return new XODText.Ff(XODText.vb.Vg,f,b,c,e,d);var h="",n=-1,m=-1;for((new XODText.Aj)._init();;){if(this.Dc===this.Cj)return new XODText.Ff(XODText.vb.Vg,f,b,c,e,d);var l=!0;if(!this.Ga.length||this.Pa===this.Ga.length){if(!this.uf()){if(this.Pa===this.Ga.length){if(this.Dz()&&!this.Wh)return this.Wh=!0,f=this.Dc,new XODText.Ff(XODText.vb.Lo,f,b,c,e,d);++this.Dc}if(this.Dc===this.Cj)return new XODText.Ff(XODText.vb.Vg,
f,b,c,e,d)}else if(this.Pa===this.Ga.length){if(this.Dz()&&!this.Wh)return this.Wh=!0,f=this.Dc,new XODText.Ff(XODText.vb.Lo,f,b,c,e,d);if(this.Dc===this.Rn)return new XODText.Ff(XODText.vb.Vg,f,b,c,e,d);--this.Dc}(l=this.rr(this.Dc))?this.uf()?(this.Pa=this.Ga.length,--this.Pa):this.Pa=0:this.Pa=0}this.Wh=!1;l&&(console.assert(this.Pa!==this.Ga.length),d=this.ZC(h,n,m,c,g),h=d.xr,n=d.Gn,m=d.Fn,c=d.kr,e=d.bo,d=d.ao);if(l&&n!==this.Ga.length){console.assert(0<h.length);b=h;f=this.Dc;this.uf()?(this.Pa=
n)?--this.Pa:this.Pa=this.Ga.length:this.Pa=m;if(this.tm())for(a.clear(),h=[],g.SC(this.Vc,h),g=0;g<h.length;++g)n=new XODText.gb,m=h[g],n.x1=m.te[0],n.y1=m.te[1],n.x2=m.te[2],n.y2=m.te[3],n.Xm=m.te[4],n.Zm=m.te[5],n.Ym=m.te[6],n.$m=m.te[7],a.add(n);return new XODText.Ff(XODText.vb.Nl,f,b,c,e,d)}this.Pa=this.Ga.length}},nx:function(a){if(0>=a.length)return!1;for(var e="",d=a.length,f=!1,b=0;b<d;++b){var c=this.Yn(a.charAt(b));" "===c?f||(e+=c,f=!0):(f=!1,e+=c)}this.Ww=e;this.pe.clear();a="";for(b=
0;b<e.length;++b)c=e.charAt(b),this.Sh(c)?this.pe.add(a.length-1):a+=c;this.qe=a;this.rp()||(this.qe=this.qe.toLowerCase());b=this.Mg;this.qe.length?this.Mg=!1:(this.qe=e,this.pe.clear(),this.Mg=!0);this.Mg!==b&&(0<this.Ga.length&&(!this.rr(this.Dc)&&(this.Pa=this.Ga.length)));return!0},setMode:function(a){var e=this.tm(),d=this.rp(),f=this.uf();this.Nf=a;var b=this.tm();a=this.rp();var c=this.uf(),g=!1;d!==a&&this.nx(this.Ww);if(!(0>=this.Ga.length)){e!==b&&(b&&(!g&&(console.assert(0<=this.Pa&&this.Pa<=
this.Ga.length),this.rr(this.Dc),g=!0)));if(d!==a&&!g){console.assert(this.Ec.length===this.Ga.length);console.assert(this.Ec.length<=this.Xa.length);e=this.Ga.length;d="";for(b=0;b<e;++b)console.assert(0<=this.Ec[b]&&this.Ec[b]<this.Xa.length),d+=this.Yn(this.Xa.charAt(this.Ec[b]));this.Ga=d;a||(this.Ga=this.Ga.toLowerCase())}if(f!==c)if(console.assert(0<=this.Pa&&this.Pa<=this.Ga.length),this.Pa!==this.Ga.length)if(c)for(b=0;2>b;++b)this.Pa&&--this.Pa;else for(b=0;2>b;++b)this.Pa!==this.Ga.length&&
++this.Pa;else c?(this.Pa=this.Ga.length,--this.Pa):this.Pa=0}},tm:function(){return 0<(this.Nf&XODText.wb.ry)},iG:function(){return 0<(this.Nf&XODText.wb.py)},rp:function(){return 0<(this.Nf&XODText.wb.qy)},rG:function(){return 0<(this.Nf&XODText.wb.ty)},uf:function(){return 0<(this.Nf&XODText.wb.Qs)},Dz:function(){return 0<(this.Nf&XODText.wb.sy)},ZC:function(a,e,d,f,b){var c=this.KC(-1,-1);e=c.Gn;d=c.Fn;var g=c.bo,h=c.ao;if(e===this.Ga.length)return c;var n,m;a=this.WC(0,0,e,d);n=a.kx;m=a.Aw;f=
"";for(var l=n;l<m;++l)f+=this.Xa.charAt(l);a=f;f="";if(this.iG()){var p=n,r=m,g=this.Xa.length,l=h=0,q=!1,s=!1,u=!1;if(p)for(--p;p;){var v=this.Xa.charAt(p);q&&(this.Lf(v)&&l++);q||(!u||(this.Lf(v)||(q=s=!0)));if(30<=h||0<l){p++;break}if(this.Ze.length>p&&-2===this.Ze[p]){var w=this.Xa.charAt(p+1);if("A"<=w&&"Z">=w){++p;s=!0;break}}--p;h++;u=u||(this.Lf(v)||"\n"===v)}s||(p=n);q=r;for(l=0;r!==g;){this.Lf(this.Xa.charAt(r))&&(q=r-1,l++);if(10<=l||70<=h){r===g-1||(this.Lf(this.Xa.charAt(r+1))||(r=q));
break}r++}r===g&&--r;for(l=p;l<=r;++l)g=this.Xa.charAt(l),f="\n"===g?f+" ":f+g;g=n-p;h=m-p}if(this.tm()){console.assert(this.Xa.length===this.Ze.length);p=n;r=m;console.assert(r>=p);n=r-p;m=[];for(l=p;l<r;++l)m.tf(m.length,this.Ze[l]);for(l=0;l<n&&0>m[l];)++l;for(s=q=l;l<n;)if(p=m[l],l===n-1)u=this.Dc,p=m[s],r=m[l],0>r&&(r=m[q]),console.assert(0<=u&&(0<=p&&r>=p)),v=new XODText.rl,v.sl(u,p,r-p+1),b._add(v),++l;else if(-1===p)console.assert(0<=m[q]),++l;else if(-2===p){console.assert(0<=m[q]);u=this.Dc;
p=m[s];r=m[q];console.assert(0<=u&&(0<=p&&r>=p));v=new XODText.rl;v.sl(u,p,r-p+1);b._add(v);for(++l;l<n&&0>m[l];)++l;s=q=l}else 0<=p&&(console.assert(0<=m[q]),q===l||this.UC(m,q,l)?(q=l,++l):(u=this.Dc,p=m[s],r=m[q],console.assert(0<=u&&(0<=p&&r>=p)),v=new XODText.rl,v.sl(u,p,r-p+1),b._add(v),s=q=l))}c.xr=a;c.Gn=e;c.Fn=d;c.kr=f;c.bo=g;c.ao=h;return c},Gr:null,Gj:null,XC:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},sD:function(a,e,d){Object.St(this.Nr,a)?this.Gj=this.Nr[a]:(this.Gj=
RegExp(this.XC(a),"g"),this.Nr[a]=this.Gj);this.Gj.lastIndex=d;this.Gr=this.Gj.exec(e);return null!=this.Gr?this.Gj.lastIndex-this.Gr[0].length:-1},KC:function(a,e){e=0;var d,f;d=this.Pa;for(a=f=this.Ga.length;;){var b=!1;console.assert(0<this.qe.length);if(this.uf()){if(d===f){a=e=f;break}a=this.Ga.lastIndexOf(this.qe,d)}else a=this.sD(this.qe,this.Ga,d);if(0>a){a=e=f;break}e=a+this.qe.length;this.uf()?(d=a,0!==d?--d:d=f):d=e;if(!this.Mg)if(0<this.pe.length)if(this.Wd.length||this.Yb.length){for(var c=
this.Yb.length,g=this.Wd.length,h=a-0,n=M.Td.sd(this.pe);n.mg();){var m=n.current,m=h+m;if(!XODText.pd.gf(this.Wd,m)&&!XODText.pd.gf(this.Yb,m)){b=!0;break}}if(b)continue;for(var n=a-0,l=e-0-1,p=m=this.Fr(this.Yb,n);p!==c;++p){var r=this.Yb[p];if(r>=n&&(r<l&&(m=r-h,!XODText.pd.gf(this.pe,m)))){b=!0;break}if(r>=l)break}if(b)continue;for(p=m=this.Fr(this.Wd,n);p!==g;++p){r=this.Wd[p];if(r>=n&&(r<l&&(m=r-h,!XODText.pd.gf(this.pe,m)))){b=!0;break}if(r>=l)break}if(b)continue}else continue;else if(this.Yb.length)for(n=
a-0,l=e-0-1,c=this.Yb.length,p=m=this.Fr(this.Yb,n);p!==c&&(r=this.Yb[p],r>=n&&r<l||!(r>=l));++p);if(this.rG()){if(0!==a&&(r=a-0-1,!(XODText.pd.gf(this.Wd,r)||(XODText.pd.gf(this.Yb,r)||(this.Lf(this.Ga.charAt(a))||this.Lf(this.Ga.charAt(a-1)))))))continue;if(e!==f&&(r=e-0-1,!(XODText.pd.gf(this.Wd,r)||(XODText.pd.gf(this.Yb,r)||(this.Lf(this.Ga.charAt(e-1))||this.Lf(this.Ga.charAt(e)))))))continue}break}return new XODText.Xq("",a,e,"",-1,-1)},Lf:function(a){return Object.St(this.Da,a)?!0:this.Pn(a)||
this.iD(a)},Fr:function(a,e){var d=a.indexOf(e);0>d&&(d=~d);return d},Yn:function(a){a=a.charCodeAt(0);if(39===a||8217===a)a=39;else if(34===a||(8220===a||8221===a))a=34;return String.fromCharCode(a)},Sh:function(a){var e=a;a=a.charCodeAt(0);return"-"===e||(8208===a||(8209===a||(65293===a||173===a)))},hD:function(a){var e=a;a=a.charCodeAt(0);return","===e||(65292===a||65294===a)},iD:function(a){var e=a;a=a.charCodeAt(0);return 32<a&&48>a||(57<a&&65>a||(90<a&&97>a||(122<a&&127>a||(this.hD(e)||(this.Sh(e)||
(173===a||1642<=a&&(1645>=a||(8210<=a&&8231>=a||(8240<=a&&8269>=a||(8592<=a&&9215>=a||(12441<=a&&12444>=a||(65281<=a&&65291>=a||(65295===a||(65306<=a&&65312>=a||(65344===a||65371<=a&&65374>=a)))))))))))))))?!0:!1},Pn:function(a){a=a.charCodeAt(0);return 32===a||(1<=a&&31>=a||(160===a||8192<=a&&(8207>=a||(8232<=a&&8239>=a||8298<=a&&8303>=a))))?!0:!1},rr:function(a){if(0>a||a>=this.Vc.length)return!1;this.Xa=this.Ga="";this.Ec.clear();this.Wd.clear();this.Yb.clear();var e=this.tm(),d=[],f=[];if(e){var b=
this.Vc[a].text;if(!b.ready())return!1;a=b.eb;d=b.kc;f=b.Md();console.assert(a.length===d.length);this.Ze.clear();this.Jr&&this.Hr.clear()}else{b=this.Vc[a].text;if(!b.ready())return!1;a=b.eb}if(0>=a.length)return!1;for(var b="",c=a.length,g=-1,h=0;h<c;++h){var n=a.charAt(h),m=-1;e&&(m=d[h]);if("\n"===n){for(n=h-1;0<=n&&" "===a.charAt(n);)--n;if(!(0>n||this.Sh(a.charAt(n)))){for(n=h+1;n<c&&" "===a.charAt(n);)++n;n>=c||(this.Sh(a.charAt(n))||(b+=" ",this.Ec.add(this.Xa.length),this.Xa+=" ",e&&(g=g<
m?m:g,this.jr(m,f,8*h))))}}else if(" "===n)h<c-1&&("\n"===a.charAt(h+1)||" "===a.charAt(h+1))||(b+=n,this.Ec.add(this.Xa.length),this.Xa+=n,e&&(g=g<m?m:g,this.jr(m,f,8*h)));else{if(this.Sh(n))if(this.Mg)b+=this.Yn(n),this.Ec.add(this.Xa.length);else{var l=b.length-1;h<c-1&&"\n"===a.charAt(h+1)?this.Wd.add(l):this.Yb.length&&l===this.Yb[this.Yb.length-1]||this.Yb.add(l)}else b+=this.Yn(n),this.Ec.add(this.Xa.length);this.Xa+=n;e&&(g=g<m?m:g,this.jr(m,f,8*h))}}console.assert(b.length===this.Ec.length);
this.Ga=b;if(e){c=this.Ze.length;this.Dj.clear();for(h=0;h<g+1;++h)this.Dj.add(!0);for(h=0;h<c;++h)m=this.Ze[h],0<=m&&(this.Dj[m]=!1)}this.rp()||(this.Ga=this.Ga.toLowerCase());this.Wd.sort();this.Yb.sort();this.pe.sort();return!0},jr:function(a,e,d){this.Ze.add(a);if(this.Jr)for(a=d;a<d+8;++a)this.Hr.add(e[a])},WC:function(a,e,d,f){d?(a=this.Ec[d-1],++a):a=0;f<this.Ec.length?e=this.Ec[f]:(e=this.Ec[f-1],e===this.Xa.length-1&&++e);console.assert(a>=d&&(e>=f&&e>=a));if(!this.Mg){if(!XODText.pd.gf(this.pe,
this.qe.length-1))for(;0<e&&this.Sh(this.Xa.charAt(e-1));)--e;d=this.Xa.length;if(!XODText.pd.gf(this.pe,-1))for(;a<d-1&&this.Sh(this.Xa.charAt(a));)++a;e<a&&(console.assert(!1),e=a)}return new XODText.Wq(a,e)},UC:function(a,e,d){console.assert(0<=e&&(e<=d&&(e<a.length&&d<a.length)));e=a[e];a=a[d];if(e===a||e+1===a)return!0;for(d=!0;0<=e&&e<a-1;)if(!this.Dj[++e]){d=!1;break}return d},Tn:!1,Vc:null,Nf:0,Da:null,Dc:0,Rn:0,Cj:0,Pa:0,Wh:!1,Xa:null,Ga:null,Ec:null,Ze:null,Dj:null,qe:null,Mg:!1,Ww:null,
Wd:null,Yb:null,pe:null,Hr:null,Jr:!1};XODText.vn=function(a){this.ga="";this.$e=-1;this.ua=[];this.Qa="";this.Vc=a.qb();this.Ua=new XODText.Gf;this.Ua.yb();this.qd=[]};
XODText.vn.prototype={Md:function(){for(var a=this.ua.length/8,e=[],d=0;d<a;++d){var f=new XODText.gb,b=8*d;f.lx(this.ua[b],this.ua[b+1],this.ua[b+2],this.ua[b+3],this.ua[b+4],this.ua[b+5],this.ua[b+6],this.ua[b+7]);e.add(f)}return e},Pn:function(a){a=a.charCodeAt(0);return 32===a||(1<=a&&31>=a||(160===a||8192<=a&&(8207>=a||(8232<=a&&8239>=a||8298<=a&&8303>=a))))?!0:!1},uD:function(a,e){this.ua.clear();this.Qa="";var d=this.Vc.length;if(0>a||a>=d)return!1;e.normalize();if(0>=this.$e||this.$e!==a){d=
this.Vc[a].text;if(!d.ready())return!1;this.Ua=d;this.ga=this.Ua.eb;this.or();this.nr();this.$e=a}var d=new XODText.Ba,f=Array(8),b,c,g,h=new XODText.Ab;h.yb();var n,m=new XODText.pb;m.yb();var l=[],p=!1;for(g=this.Ua.$l();!g.cb(h);g=g.dh())if(g.vc(d),d.normalize(),!e.zm(d)){for(n=g.Kd();!n.cb(m);n=n.Ld())if(n.yc(f),d.Oi(f),!e.zm(d)){b=n.ze();var r=n.Ae();c=l.length;if(0<b&&0<c){p&&("\n"!==l[0]&&(this.Pn(l[c-1])?l[c-1]="\n":l.add("\n")),p=!1);for(c=0;c<l.length;++c)this.Qa+=l[c];l.clear()}for(c=0;c<=
b;++c)r+c<this.ga.length&&(c<b?this.Qa+=this.ga.charAt(r+c):l.add(this.ga.charAt(r+c)));0<b&&(r=d.x2-d.x1,c=d.y2-d.y1,this.df(f,Math.sqrt(r*r+c*c)/b*3))}p=!0}return 0<this.ua.length},or:function(){var a,e=new XODText.Ab;e.yb();var d=Array(8),f=Array(8),b=0.1,c=-100;for(a=this.Ua.$l();!a.cb(e);a=a.dh()){var g=new XODText.fa,h=new XODText.fa,n=new XODText.pb;n.yb();var m=a.Kd(),l=new XODText.pb;l.yb();for(var p=a.Kd();!p.cb(n);p=p.Ld())l=p;m.wc(0,d);g.x=(d[0]+d[2]+d[4]+d[6])/4;g.y=(d[1]+d[3]+d[5]+d[7])/
4;l.wc(l.bg()-1,f);h.x=(f[0]+f[2]+f[4]+f[6])/4;h.y=(f[1]+f[3]+f[5]+f[7])/4;n=XODText.fa.distance(g,h);n>b&&(c=Math.atan2(h.y-g.y,h.x-g.x),c*=180/3.1415926,0>c&&(c+=360),b=n)}this.Mb=c;this.Ir=2>Math.abs(this.Mb)||2>Math.abs(this.Mb-180)},PH:function(a,e){this.ua.clear();this.Qa="";var d=this.Vc.length;if(0>a||a>=d)return!1;e.normalize();if(0>=this.$e||this.$e!==a){d=this.Vc[a].text;if(!d.ready())return!1;this.Ua=d;this.ga=this.Ua.eb;this.or();this.nr();this.$e=a}var d=new XODText.Ba,f=Array(8),b,
c,g,h=new XODText.Ab;h.yb();var n,m=new XODText.pb;m.yb();var l=[],p=!1;for(g=this.Ua.$l();!g.cb(h);g=g.dh())if(g.vc(d),d.normalize(),!e.zm(d)){for(n=g.Kd();!n.cb(m);n=n.Ld())if(n.yc(f),d.Oi(f),!e.zm(d)){b=n.ze();var r=n.Ae(),q=l.length;if(0<b&&0<q){p&&("\n"!==l[0]&&(this.Pn(l[q-1])?l[q-1]="\n":l.add("\n")),p=!1);for(q=0;q<l.length;++q)this.Qa+=l[q];l.clear()}var q=0,s=Array(8),u=Array(8),v=!1,w=!1;for(c=0;c<b;++c)if(r+c<this.ga.length){var x=Array(8),A=new XODText.Ba;n.wc(c,x);A.Oi(x);e.zm(A)?0===
q?v=!0:w=!0:(q++,1===q&&(v&&n.wc(c,s)),n.wc(c,u),c<b?this.Qa+=this.ga.charAt(r+c):l.add(this.ga.charAt(r+c)))}0<q&&(v&&this.Oh(f,s,!0),w&&this.Oh(f,u,!1),d.Oi(f),b=d.x2-d.x1,r=d.y2-d.y1,this.df(f,Math.sqrt(b*b+r*r)/q*3))}p=!0}return 0<this.ua.length},NH:function(a,e){this.ua.clear();this.Qa="";var d=this.Vc.length;if(0>a||a>=d)return!1;if(0>=this.$e||this.$e!==a){d=this.Vc[a].text;if(null==d||!d.ready())return!1;this.Ua=d;this.ga=this.Ua.eb;this.or();this.nr();this.$e=a}var f=XODText.Ob.Ef,b=XODText.Ob.Ef,
c,g,d=Array(8),h=Array(8),n=new XODText.Ba,m=new XODText.Ab,l=new XODText.Ab;m.yb();l.yb();var p=this.Ir,r=this.Ir,q,s=new XODText.Ab;s.yb();var u=new XODText.pb;u.yb();var v=new XODText.fa;v.init(e.x1,e.y1);var w=new XODText.fa;w.init(e.x2,e.y2);l=this.YC(v,w,m,l);m=l.Hw;l=l.Uw;if(m.cb(s)||l.cb(s))return!1;w=new XODText.pb;v=new XODText.pb;w.yb();v.yb();for(var b=f=XODText.Ob.Ef,x=m.Kd();!x.cb(u);x=x.Ld())x.vc(d),p?(g=e.x1,q=e.y1):(q=d[0],d[0]=d[1],d[1]=q,q=d[2],d[2]=d[3],d[3]=q,g=e.y1,q=e.x1),c=
(d[3]+d[1])/2,d[2]<=g?(g=d[2]-g,c-=q,c=g*g+c*c):d[0]>=g?(g=d[0]-g,c-=q,c=g*g+c*c):(c-=q,c*=c),c<f&&(f=c,w=x);for(x=l.Kd();!x.cb(u);x=x.Ld())x.vc(d),r?(f=e.x2,q=e.y2):(q=d[0],d[0]=d[1],d[1]=q,q=d[2],d[2]=d[3],d[3]=q,f=e.y2,q=e.x2),c=(d[3]+d[1])/2,d[2]<=f?(g=d[2]-f,c-=q,c=g*g+c*c):d[0]>=f?(g=d[0]-f,c-=q,c=g*g+c*c):(c-=q,c*=c),c<b&&(b=c,v=x);if(w.cb(u)||v.cb(u))return!1;q=x=0;var A,b=f=XODText.Ob.Ef,B=w.bg();for(A=0;A<B;++A)w.wc(A,d),g=(d[0]+d[2]+d[4]+d[6])/4,c=(d[1]+d[3]+d[5]+d[7])/4,g-=e.x1,c-=e.y1,
c=g*g+c*c,c<f&&(f=c,x=A);B=v.bg();for(A=0;A<B;++A)v.wc(A,d),g=(d[0]+d[2]+d[4]+d[6])/4,c=(d[1]+d[3]+d[5]+d[7])/4,g-=e.x2,c-=e.y2,c=g*g+c*c,c<b&&(b=c,q=A);g=m.ab;A=l.ab;b=w.ab;f=v.ab;c=-1;if(g===A){b>f&&(c=w,w=v,v=c,c=x,x=q,q=c);m.vc(n);if(b===f&&(x===q&&(c=new XODText.Ba,!c.qp(n,e))))return!1;b===f?(q<x&&(c=x,x=q,q=c),c=q):c=w.ze();w.wc(x,d);console.assert(p===r);p=w.Ae();console.assert(x<=c);for(r=x;r<=c;++r)p+r<this.ga.length&&(this.Qa+=this.ga.charAt(p+r));0<=c&&(w.yc(h),p=h[0]-h[2],r=h[1]-h[3],
p=Math.sqrt(p*p+r*r),p=p/(c+1)*3,this.Oh(h,d,!0),b===f&&(n=Array(8),v.wc(q,n),this.Oh(h,n,!1)),this.df(h,p));for(x=w=w.Ld();!x.cb(u)&&x.ab<v.ab;x=x.Ld()){c=x.ze();p=x.Ae();for(r=0;r<=c;++r)p+r<this.ga.length&&(this.Qa+=this.ga.charAt(p+r));0<c&&(x.yc(h),p=h[0]-h[2],r=h[1]-h[3],p=Math.sqrt(p*p+r*r),p=p/c*3,this.df(h,p))}v.wc(q,d);c=v.ze();if(b!==f){p=v.Ae();console.assert(q<=c);for(r=0;r<=q;++r)p+r<this.ga.length&&(this.Qa+=this.ga.charAt(p+r));0<c&&(v.yc(h),p=h[0]-h[2],r=h[1]-h[3],p=Math.sqrt(p*p+
r*r),p=p/c*3,this.Oh(h,d,!1),this.df(h,p))}}else{g>A&&(p=m,m=l,l=p,c=w,w=v,v=c,c=x,x=q,q=c);m.vc(n);c=new XODText.Ba;c.qp(n,e)||(w=m.Kd(),x=0);w.wc(x,d);c=w.ze();p=w.Ae();console.assert(x<=c);for(r=x;r<=c;++r)p+r<this.ga.length&&(this.Qa+=this.ga.charAt(p+r));0<c&&(w.yc(h),p=h[0]-h[2],r=h[1]-h[3],p=Math.sqrt(p*p+r*r),p=p/c*3,this.Oh(h,d,!0),this.df(h,p));for(x=w=w.Ld();!x.cb(u);x=x.Ld()){c=x.ze();p=x.Ae();for(r=0;r<=c;++r)p+r<this.ga.length&&(this.Qa+=this.ga.charAt(p+r));0<c&&(x.yc(h),p=h[0]-h[2],
r=h[1]-h[3],p=Math.sqrt(p*p+r*r),p=p/c*3,this.df(h,p))}for(m=m.dh();!m.cb(l)&&!m.cb(s);m=m.dh())if(this.Qr(m.Uo()))for(m.vc(n),x=m.Kd();!x.cb(u);x=x.Ld()){c=x.ze();p=x.Ae();for(r=0;r<=c;++r)p+r<this.ga.length&&(this.Qa+=this.ga.charAt(p+r));0<c&&(x.yc(h),p=h[0]-h[2],r=h[1]-h[3],p=Math.sqrt(p*p+r*r),p=p/c*3,this.df(h,p))}l.vc(n);c=new XODText.Ba;c.qp(n,e)||(v=l.oz(l.pi()-1),q=v.bg()-1);for(x=l.Kd();!x.cb(u)&&!x.cb(v);x=x.Ld()){c=x.ze();p=x.Ae();for(r=0;r<=c;++r)p+r<this.ga.length&&(this.Qa+=this.ga.charAt(p+
r));0<c&&(x.yc(h),p=h[0]-h[2],r=h[1]-h[3],p=Math.sqrt(p*p+r*r),p=p/c*3,this.df(h,p))}v.wc(q,d);c=v.ze();p=v.Ae();console.assert(q<=c);for(r=0;r<=q;++r)p+r<this.ga.length&&(this.Qa+=this.ga.charAt(p+r));0<c&&(v.yc(h),p=h[0]-h[2],r=h[1]-h[3],p=Math.sqrt(p*p+r*r),p=p/c*3,this.Oh(h,d,!1),this.df(h,p))}return 0<this.ua.length},df:function(a,e){var d=this.ua.length/8;if(d){for(var f=Array(8),d=8*(d-1),b=0;8>b;++b)f[b]=this.ua[d+b];if(XODText.gb.Xn(f,a,!0,e))for(b=0;8>b;++b)this.ua[d+b]=f[b];else for(b=
0;8>b;++b)this.ua.add(a[b])}else for(var b=0;8>b;++b)this.ua.add(a[b])},Oh:function(a,e,d){var f=new XODText.fa;f.init(a[0],a[1]);var b=new XODText.fa;b.init(a[2],a[3]);var c=XODText.fa.zi(b,f);c.normalize()&&(d?(b=new XODText.fa,b.init(e[0],e[1]),e=XODText.fa.zi(b,f),e=e.uc(c),c=XODText.fa.multiply(c,e),a[0]+=c.x,a[1]+=c.y,a[6]+=c.x,a[7]+=c.y):(f=new XODText.fa,f.init(e[2],e[3]),e=XODText.fa.zi(f,b),e=e.uc(c),c=XODText.fa.multiply(c,e),a[2]+=c.x,a[3]+=c.y,a[4]+=c.x,a[5]+=c.y))},Nw:function(a){var e=
XODText.Oa.Ji(0),d=XODText.Oa.Ji(1.570796325),f=XODText.Oa.Ji(3.14159265),b=XODText.Oa.Ji(3.14159265*1.5);switch(parseInt(a/90+0.1)){case 0:return e;case 1:return d;case 2:return f;case 3:return b;case 4:return e;default:return e}},Qr:function(){return!0},rx:function(a,e){var d=this.Nw(e),f=new XODText.hc(a.x1,a.y1),f=d.O(f);a.x1=f.x;a.y1=f.y;f=new XODText.hc(a.x2,a.y2);f=d.O(f);a.x2=f.x;a.y2=f.y;a.normalize()},nr:function(){this.qd.clear();var a,e=new XODText.Ab;e.yb();var d=new XODText.Ba,f=new XODText.co,
b=!1,c=new XODText.Ba;for(a=this.Ua.$l();!a.cb(e);a=a.dh())if(this.Qr(a.Uo())){a.vc(d);d.normalize();var g=new XODText.Ba;g.Ce(d);this.rx(d,this.Mb);if(b){var h=!0;d.y1>c.y1&&(h=!1);if(d.x2<c.x1||d.x1>c.x2)h=!1;var n=d.width()/c.width(),m=d.height()/c.height();if(1.6<n||(0.7>n||(1.4<m||0.7>m)))h=!1;h?(f.Un.union(g),f.af.union(d)):(this.qd.add(f),f=new XODText.co,f.Un.Ce(g),f.af.Ce(d),f.Vn=a);f.Wn=a}else f.Un.Ce(g),f.af.Ce(d),f.Vn=a,f.Wn=a,b=!0;c.Ce(d)}b&&this.qd.add(f)},Ew:function(a,e){for(var d=
XODText.Ob.Ef,f=new XODText.Ba,b=a.Vn,c=a.Vn;;c=c.dh()){if(!this.Qr(c.Uo()))if(c.cb(a.Wn))break;else continue;c.vc(f);this.rx(f,this.Mb);var g=(f.y1+f.y2)/2;Math.abs(g-e.y)<d&&(b=c,d=Math.abs(g-e.y));if(c.cb(a.Wn))break}return b},YC:function(a,e,d,f){var b=-1,c=-1,g=!1,h=!1,n=this.Nw(this.Mb),m=new XODText.fa,l=new XODText.fa;m.pp(a);l.pp(e);a=new XODText.hc(m.x,m.y);a=n.O(a);m.x=a.x;m.y=a.y;a=new XODText.hc(l.x,l.y);a=n.O(a);l.x=a.x;l.y=a.y;e=0;for(var p=this.qd.length;e<p;++e)n=this.qd[e],0>b&&
(n.af.contains(m.x,m.y)&&(b=e,h=!0)),0>c&&(n.af.contains(l.x,l.y)&&(c=e,g=!0));if(!h||!g){a=[];for(n=0;n<this.qd.length;++n)a.add(0);var n=Math.max(b,c),r=new XODText.Ba;r.Ya(m.x,m.y,l.x,l.y);r.dG(0.1);0<=n&&r.union(this.qd[n].af);var q=new XODText.Ba;e=0;for(p=this.qd.length;e<p;++e){var s=new XODText.Ba;s.Ce(this.qd[e].af);q.qp(s,r)&&(a[e]=1)}e=a.indexOf(1);for(r=p=a.indexOf(1);-1!==p;){r=p;p++;if(p>=a.length)break;p=a.indexOf(1,p)}a=r;if(0>e)return new XODText.sn(d,f);0>n?(b=e,c=a,g=new XODText.Ba,
g.Ce(this.qd[b].af),h=(m.x-g.x1)*(m.x-g.x2),h=0<h?Math.min(Math.abs(m.x-g.x1),Math.abs(m.x-g.x2)):0,n=(m.y-g.y1)*(m.y-g.y2),n=0<n?Math.min(Math.abs(m.y-g.y1),Math.abs(m.y-g.y2)):0,h=h*h+n*n,n=(l.x-g.x1)*(l.x-g.x2),n=0<n?Math.min(Math.abs(l.x-g.x1),Math.abs(l.x-g.x2)):0,a=(l.y-g.y1)*(l.y-g.y2),a=0<a?Math.min(Math.abs(l.y-g.y1),Math.abs(l.y-g.y2)):0,h>n*n+a*a&&(g=b,b=c,c=g)):(p=new XODText.Ba,p.Ce(this.qd[n].af),r=new XODText.fa,h?r.pp(l):r.pp(m),console.assert(!(h&&g)&&!(!h&&!g)),console.assert(!p.contains(r.x,
r.y)),n-e>Math.max(a-n,0)?(h||(b=Math.min(n,e)),g||(c=Math.min(n,e))):(h||(b=Math.max(n,a)),g||(c=Math.max(n,a))))}0<=b&&(0<=c&&(d=this.Ew(this.qd[b],m,d),f=this.Ew(this.qd[c],l,f)));return new XODText.sn(d,f)},ua:null,Qa:null,Vc:null,Ua:null,$e:0,Mb:0,Ir:!1,qd:null};XODText.Ff=function(a,e,d,f,b,c){this.aq=a;this.lu=e;this.zu=d;this.Fx=f;this.sA=b;this.rA=c};XODText.Ff.prototype={aq:0,lu:0,zu:null,Fx:null,sA:0,rA:0};XODText.sn=function(a,e){this.Hw=a;this.Uw=e};XODText.sn.prototype={Hw:null,Uw:null};
XODText.Wq=function(a,e){this.kx=a;this.Aw=e};XODText.Wq.prototype={kx:0,Aw:0};XODText.Xq=function(a,e,d,f,b,c){this.xr=a;this.Gn=e;this.Fn=d;this.kr=f;this.bo=b;this.ao=c};XODText.Xq.prototype={xr:null,Gn:0,Fn:0,kr:null,bo:0,ao:0};XODText.Ln.Ea("XODText._intData");XODText.hc.Ea("XODText.Point2D");XODText.gb.Ea("XODText.Quad");XODText.Oa.Ea("XODText.Matrix2D");XODText.Aj.Ea("XODText._highlights");XODText.rl.Ea("XODText._highlight");XODText.zr.Ea("XODText._highlightDocInfo");XODText.co.Ea("XODText._selectionTextBlock");
XODText.wb.Ea("XODText.SearchMode");XODText.vb.Ea("XODText.ResultCode");XODText.pd.Ea("XODText.TextSearchLowlevel");XODText.vn.Ea("XODText.TextLocator");XODText.Ff.Ea("XODText.ResultRun");XODText.sn.Ea("XODText.ResultFindStructuralBounds");XODText.Wq.Ea("XODText.ResultDetermineOriRange");XODText.Xq.Ea("XODText.ResultFindTexts");XODText.Ln.Sv=-2147483648;XODText.gb.jE=Math.cos(3.14159265/180*2);XODText.wb.qy=1;XODText.wb.ty=2;XODText.wb.Qs=4;XODText.wb.sy=8;XODText.wb.ry=16;XODText.wb.py=32;
XODText.vb.Vg=0;XODText.vb.Lo=1;XODText.vb.Nl=2;self.Za.Vp("XODText");XODText.Df=function(){this.ow={};this.Kr=1E3;this.Yw=200};XODText.Df.prototype={Zw:0,$w:0,Kr:0,Yw:0,Jy:function(a){var e=new XODText.Ba,d=this.ow[a];"undefined"!=typeof d?e.Ce(d):window.utils.warn("Character "+a+" does not have bounding box.");return e},$r:function(a,e,d){var f=new XODText.Ba;f.set(e,this.Zw,d,this.$w);this.ow[a]=f},Iu:function(a,e){this.Zw=a;this.$w=e},rI:function(a){this.Kr=a}};
XODText.Qq=function(){this.Zs={};this.lc=!1};
$.extend(XODText.Qq.prototype,{lc:!1,isReady:function(){return this.lc},PK:function(){return this.Zs},ru:function(a){try{var e=new window.oe(a);console.assert("FontInfo"===e.ja(),"Root element is incorrect.");"FontInfo"===e.ja()&&(e.ha(),this._parse(e))}catch(d){console.warn("Font Parser has encountered an error: "+d.message);return}this.lc=!0},Hn:function(a){var e="",d=0,f=0,b=0,c=0;for(2<=a.length&&("{"===a.charAt(0)&&("}"===a.charAt(1)&&(a=a.substr(2))));d<a.length;)f=a.charCodeAt(d),128>f?(e+=
String.fromCharCode(f),d++):191<f&&224>f?(b=a.charCodeAt(d+1),e+=String.fromCharCode((f&31)<<6|b&63),d+=2):(b=a.charCodeAt(d+1),c=a.charCodeAt(d+2),e+=String.fromCharCode((f&15)<<12|(b&63)<<6|c&63),d+=3);return e},pD:function(a){a=a.v("name");console.assert(42===a.length,"Font file name is incorrect.");console.assert(null!=a,"Font file name is incorrect.");return a="f"+parseInt("0x"+a.substr(28,8))},oD:function(a,e){console.assert(null!=e,"Font bbox file is corrupted.");var d=a.v("height");console.assert(null!=
d,"Height attribute is missing.");d=d.split(":");e.Iu(parseFloat(d[0]),parseFloat(d[1]))},qD:function(a,e){var d=a.v("units_per_em");null!=d&&e.rI(parseInt(d))},nD:function(a,e){console.assert(null!=e,"Font bbox file is corrupted.");var d=a.v("bbox");console.assert(null!=d,"Character width is missing.");var f=d.split(":"),d=parseFloat(f[0]),f=parseFloat(f[1]),b=this.Hn(a.bd());console.assert(0<b.length,"Char value is empty.");e.$r(b,d,f)},_parse:function(a){do{for(var e=null;a.advance();){var d=a.ja();
"Font"===d?(e=new XODText.Df,d=this.pD(a),this.oD(a,e),this.qD(a,e),this.Zs[d]=e,a.ha()):"c"===d?this.nD(a,e):console.warn("Font XML parser has encountered a tag it can't process.")}a.pa()}while(a.depth)}});XODText.Df.Ea("XODText.Font");XODText.Qq.Ea("XODText.FontParser");
(function(a){function e(b){this.done=!1;this.worker=new Worker(a.k.hg()+"CoreWorker.js");var c=null,d=null,f=this;this.index=b;this.worker.addEventListener("message",function(b){switch(b.data.command){case "done":f.done=!0;d=null;break;case "nextChunk":c=b.data.resources;d=b.data.dataString;break;default:throw Error("Unknown message command "+b.data.command+" from worker");}f.done?(f.callback(null,[]),f.finish()):c&&(d&&(f.callback(d,c),d=c=null))},!1);this.oJ()}var d=[],f=[],b="./",c=!1;e.prototype=
{setData:function(b){this.done=!1;this.worker.postMessage({command:"data",dataString:b})},cancel:function(){this.worker.postMessage({command:"cancel"})},oJ:function(){this.worker.postMessage({command:"options",imageScaling:c,specialBlendSupported:a.utils.specialBlendSupported})},PG:function(b){this.callback=b;this.worker.postMessage({command:"nextChunk"})},finish:function(){this.done=!0;if(f.length){var b=f[0];f.shift();this.setData(b.data);b.ps(this)}}};a.SF=function(b,a){for(var c=d.length,m,l=
0;l<c;++l)d[l].done&&(m=d[l]);m||4>c&&(m=d[c]=new e(c));m?(m.setData(b),a(m)):f.push({ps:a,data:b})};a.k=a.k||{};a.k.hg=function(){return b};a.k.tI=function(a){a.indexOf("/")!==a.length-1&&(a+="/");b=a};a.k.TH=function(b){!0===b&&(b=1.4);c=b}})(window);
(function(a){function e(b,a){var c=Error.apply(this,arguments);c.name=this.name="WorkerError";this.stack=c.stack;this.message=c.message;this.userMessage=a}function d(b){n.push(b);for(var a=0;a<m.length;++a)b(m[a])}function f(b,l,p){if(_.isUndefined(b))return null;var h,f=new Promise(function(c,p){d(function(){p(new e("The worker has encountered an error",a.utils.ie?"error.EmsWorkerErrorIE":"error.EmsWorkerError"))});h=new ba(b,l,g);h.nJ.then(function(){c()},function(b){p(b)})}),q=new Promise(function(b,
a){var c=new XMLHttpRequest;c.open("GET",window.k.hg()+"pdf/pdfnet.res",!0);c.responseType="arraybuffer";c.onload=function(){200===c.status?b(c.response):a(new e("Couldn't fetch resource file.","error.ResourceLoadError"))};c.onerror=function(){a(new e("Network error","error.ResourceLoadError"))};c.send(null)});return Promise.all([f,q]).then(function(b){return h.BG(b[1],p)}).then(function(){"undefined"!==typeof c&&h.Eu(c);return h})}var b,c,g,h,n=[],m=[],l=_.throttle(function(b){var a=n.length;m.push(b);
for(var c=0;c<a;++c)n[c](b)},100,{trailing:!1});e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,configurable:!0}});a.k=a.k||{};a.k.Eu=function(a){c=a;b&&b.then(function(b){b.Eu(a)})};a.k.XH=function(b){g=b};a.k.gF=function(){return new Promise(function(b){if(a.utils.isNodeJS?a.nodejs:parent.nodejs)b("nodejs");else if(a.utils.isChrome){var c=$('<embed name="simple_module" id="simple_module" width=0 height=0 src="'+window.k.hg()+'pdf/SimpleWorker.nmf" type="application/x-pnacl" style="position:absolute" />'),
l=c[0];l.addEventListener("error",function(){console.log("PNaClError: PNaCl failed to load. Falling back to Emscripten.");b("ems")},!0);$(document.body).prepend(c);var g=!1,d=function(a){g||(b(a),clearTimeout(p),c.remove(),g=!0)};if("undefined"===typeof l.postMessage)console.log("PNaClError: PNaCl seems to be disabled. Falling back to Emscripten."),d("ems");else{var p,h=function(){console.log("PNaClError: PNaCl Timed out. Falling back to Emscripten.");d("ems")};l.addEventListener("progress",function(){clearTimeout(p);
p=setTimeout(h,5E3)});l.addEventListener("message",function(b){clearTimeout(p);"T"===b.data?d("pnacl"):(console.log("PNaClError: PNaCl responded incorrectly. Falling back to Emscripten."),d("ems"))});l.postMessage("T");p=setTimeout(h,5E3)}}else b("ems")})};var p,r,q;a.k.Py=function(){return q};a.k.dA=function(c,h,f){if(!b||c!==a.k.Py()){f=f||{};var n;p=new Promise(function(b,p){function m(b){function c(a){"action"in a.data&&("workerLoaded"===a.data.action&&(b.workerLoadingProgress&&b.workerLoadingProgress(1),
h.removeEventListener("message",c)))}var h;d(function(){p(new e("The worker has encountered an error",a.utils.ie?"error.EmsWorkerErrorIE":"error.EmsWorkerError"))});h=g?new Worker(window.k.hg()+"pdf/ResizableWorker.js"):new Worker(window.k.hg()+"pdf/PDFworker.js");h.onerror=l;r=!0;h.addEventListener("message",c,!1);a.k.GA(3E3);return h}function y(a,c){b(a);q=c}if("nodejs"===c){var z=a.utils.isNodeJS?a.nodejs:parent.nodejs;z&&((n=z.loadWorker())&&(n.initialize(),console.log("Loaded worker in process: "+
n.getProcessId())));r=!1;y(n,"nodejs")}else if("pnacl"===c){_.isUndefined(f.useEmscriptenWhileLoading)&&(f.useEmscriptenWhileLoading=!0);_.isUndefined(f.autoSwap)&&(f.autoSwap=!0);r=!1;z=$('<embed name="pnacl_module" id="pnacl_module" width=0 height=0 src="'+window.k.hg()+'pdf/PDFWorker.nmf" type="application/x-pnacl" style="position:absolute" />');$(document.body).prepend(z);var I=function(b){b.lengthComputable&&(f.useEmscriptenWhileLoading?(n.removeEventListener("progress",I,!0),n.removeEventListener("loadend",
D,!0),n.removeEventListener("crash",F,!0),n.removeEventListener("error",H,!0),y(m(h),"ems"),n.addEventListener("loadend",function(){r=!1;q="pnacl";h.pnaclComplete&&h.pnaclComplete(n);f.autoSwap&&window.k.qA(n)})):h.workerLoadingProgress&&h.workerLoadingProgress(b.loaded/b.total))},D=function(){h.workerLoadingProgress&&h.workerLoadingProgress(1);f.useEmscriptenWhileLoading&&y(n,"pnacl")},F=function(){p(new e("The Worker has Crashed.","error.PNaClCrashError"))},H=function(){p(new e("Error occurred on worker load.",
"error.PNaClLoadError"))};n=z[0];n.addEventListener("progress",I,!0);n.addEventListener("loadend",D,!0);n.addEventListener("crash",F,!0);n.addEventListener("error",H,!0);f.useEmscriptenWhileLoading||y(n,"pnacl")}else"ems"===c&&y(m(h),"ems")})}};a.k.qA=function(a){p=Promise.resolve(a);b=null};a.k.kG=function(){return h};a.k.vz=function(c,l,g){p||a.k.dA(c,l);if(b){if(h&&g)throw Error("PDFNet was already initialized in demo mode. For solution see pdftron.com/kb_demo_init. Note that calling initPDFWorkerTransports or creating WebViewer object will also call PDFNet.initialize so your license key should be used in all of these calls.");
}else h=!g,b=p.then(function(b){return f(b,r,g)});return b};a.cr=e})(window);
(function(a){function e(b,a,c,g,h,e){this.yh=16;this.UB=288;this.status=0;this.root=null;this.m=0;var n=Array(this.yh+1),m,x,A,B,y,z,I,D=Array(this.yh+1),F,H,G,K=new d,J=Array(this.yh);B=Array(this.UB);var L,P=Array(this.yh+1),N,E,O;O=this.root=null;for(y=0;y<n.length;y++)n[y]=0;for(y=0;y<D.length;y++)D[y]=0;for(y=0;y<J.length;y++)J[y]=null;for(y=0;y<B.length;y++)B[y]=0;for(y=0;y<P.length;y++)P[y]=0;m=256<a?b[256]:this.yh;F=b;H=0;y=a;do n[F[H]]++,H++;while(0<--y);if(n[0]==a)this.root=null,this.status=
this.m=0;else{for(z=1;z<=this.yh&&0==n[z];z++);I=z;e<z&&(e=z);for(y=this.yh;0!=y&&0==n[y];y--);A=y;e>y&&(e=y);for(N=1<<z;z<y;z++,N<<=1)if(0>(N-=n[z])){this.status=2;this.m=e;return}if(0>(N-=n[y]))this.status=2,this.m=e;else{n[y]+=N;P[1]=z=0;F=n;H=1;for(G=2;0<--y;)P[G++]=z+=F[H++];F=b;y=H=0;do 0!=(z=F[H++])&&(B[P[z]++]=y);while(++y<a);a=P[A];P[0]=y=0;F=B;H=0;B=-1;L=D[0]=0;G=null;for(E=0;I<=A;I++)for(b=n[I];0<b--;){for(;I>L+D[1+B];){L+=D[1+B];B++;E=(E=A-L)>e?e:E;if((x=1<<(z=I-L))>b+1)for(x-=b+1,G=I;++z<
E&&!((x<<=1)<=n[++G]);)x-=n[G];L+z>m&&(L<m&&(z=m-L));E=1<<z;D[1+B]=z;G=Array(E);for(x=0;x<E;x++)G[x]=new d;O=null==O?this.root=new f:O.next=new f;O.next=null;O.list=G;J[B]=G;0<B&&(P[B]=y,K.b=D[B],K.e=16+z,K.t=G,z=(y&(1<<L)-1)>>L-D[B],J[B-1][z].e=K.e,J[B-1][z].b=K.b,J[B-1][z].n=K.n,J[B-1][z].t=K.t)}K.b=I-L;H>=a?K.e=99:F[H]<c?(K.e=256>F[H]?16:15,K.n=F[H++]):(K.e=h[F[H]-c],K.n=g[F[H++]-c]);x=1<<I-L;for(z=y>>L;z<E;z+=x)G[z].e=K.e,G[z].b=K.b,G[z].n=K.n,G[z].t=K.t;for(z=1<<I-1;0!=(y&z);z>>=1)y^=z;for(y^=
z;(y&(1<<L)-1)!=P[B];)L-=D[B],B--}this.m=D[1];this.status=0!=N&&1!=A?1:0}}}function d(){this.n=this.b=this.e=0;this.t=null}function f(){this.list=this.next=null}var b=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,
16385,24577],n=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],m=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];a.Gg||(a.Gg={});a.Gg.Jv=function(b){this.xJ();this.Bq=b;this.Cq=0};a.Gg.Jv.prototype={getBytes:function(b){for(var a,c=Array(1024),g=[],d=0;d<b&&0<(a=this.wJ(c,0,c.length));)g[g.length]=String.fromCharCode.apply(null,c.slice(0,a)),d+=a;return d?(this.Bq=this.Bq.slice(this.Cq),this.Cq=0,g.join("")):""},sJ:function(){return this.Bq.length==this.Cq?-1:this.Bq.charCodeAt(this.Cq++)&
255},Ub:function(b){for(;this.Vi<b;)this.Rk|=this.sJ()<<this.Vi,this.Vi+=8},gc:function(a){return this.Rk&b[a]},Kb:function(b){this.Rk>>=b;this.Vi-=b},Aq:function(b,a,c){var g,d,h;if(0==c)return 0;for(h=0;;){this.Ub(this.Ne);d=this.xh.list[this.gc(this.Ne)];for(g=d.e;16<g;){if(99==g)return-1;this.Kb(d.b);g-=16;this.Ub(g);d=d.t[this.gc(g)];g=d.e}this.Kb(d.b);if(16==g)this.Pc&=32767,b[a+h++]=this.wh[this.Pc++]=d.n;else{if(15==g)break;this.Ub(g);this.yd=d.n+this.gc(g);this.Kb(g);this.Ub(this.Qk);d=this.tB.list[this.gc(this.Qk)];
for(g=d.e;16<g;){if(99==g)return-1;this.Kb(d.b);g-=16;this.Ub(g);d=d.t[this.gc(g)];g=d.e}this.Kb(d.b);this.Ub(g);this.Wi=this.Pc-d.n-this.gc(g);for(this.Kb(g);0<this.yd&&h<c;)this.yd--,this.Wi&=32767,this.Pc&=32767,b[a+h++]=this.wh[this.Pc++]=this.wh[this.Wi++]}if(h==c)return c}this.vh=-1;return h},yJ:function(b,a,c){var g;g=this.Vi&7;this.Kb(g);this.Ub(16);g=this.gc(16);this.Kb(16);this.Ub(16);if(g!=(~this.Rk&65535))return-1;this.Kb(16);this.yd=g;for(g=0;0<this.yd&&g<c;)this.yd--,this.Pc&=32767,
this.Ub(8),b[a+g++]=this.wh[this.Pc++]=this.gc(8),this.Kb(8);0==this.yd&&(this.vh=-1);return g},vJ:function(b,a,d){if(null==this.zq){var f,m=Array(288);for(f=0;144>f;f++)m[f]=8;for(;256>f;f++)m[f]=9;for(;280>f;f++)m[f]=7;for(;288>f;f++)m[f]=8;this.gv=7;f=new e(m,288,257,c,g,this.gv);if(0!=f.status)return alert("HufBuild error: "+f.status),-1;this.zq=f.root;this.gv=f.m;for(f=0;30>f;f++)m[f]=5;this.fv=5;f=new e(m,30,0,h,n,this.fv);if(1<f.status)return this.zq=null,alert("HufBuild error: "+f.status),
-1;this.tJ=f.root;this.fv=f.m}this.xh=this.zq;this.tB=this.tJ;this.Ne=this.gv;this.Qk=this.fv;return this.Aq(b,a,d)},uJ:function(b,a,d){var f,s,u,v,w,x,A,B=Array(316);for(f=0;f<B.length;f++)B[f]=0;this.Ub(5);x=257+this.gc(5);this.Kb(5);this.Ub(5);A=1+this.gc(5);this.Kb(5);this.Ub(4);f=4+this.gc(4);this.Kb(4);if(286<x||30<A)return-1;for(s=0;s<f;s++)this.Ub(3),B[m[s]]=this.gc(3),this.Kb(3);for(;19>s;s++)B[m[s]]=0;this.Ne=7;s=new e(B,19,19,null,null,this.Ne);if(0!=s.status)return-1;this.xh=s.root;this.Ne=
s.m;v=x+A;for(f=u=0;f<v;)if(this.Ub(this.Ne),w=this.xh.list[this.gc(this.Ne)],s=w.b,this.Kb(s),s=w.n,16>s)B[f++]=u=s;else if(16==s){this.Ub(2);s=3+this.gc(2);this.Kb(2);if(f+s>v)return-1;for(;0<s--;)B[f++]=u}else{17==s?(this.Ub(3),s=3+this.gc(3),this.Kb(3)):(this.Ub(7),s=11+this.gc(7),this.Kb(7));if(f+s>v)return-1;for(;0<s--;)B[f++]=0;u=0}this.Ne=9;s=new e(B,x,257,c,g,this.Ne);0==this.Ne&&(s.status=1);if(0!=s.status)return-1;this.xh=s.root;this.Ne=s.m;for(f=0;f<A;f++)B[f]=B[f+x];this.Qk=6;s=new e(B,
A,0,h,n,this.Qk);this.tB=s.root;this.Qk=s.m;return 0==this.Qk&&257<x||0!=s.status?-1:this.Aq(b,a,d)},xJ:function(){null==this.wh&&(this.wh=Array(65536));this.Vi=this.Rk=this.Pc=0;this.vh=-1;this.yq=!1;this.yd=this.Wi=0;this.zq=this.xh=null},wJ:function(b,a,c){var g,d;for(g=0;g<c&&(!this.yq||-1!=this.vh);){if(0<this.yd){if(0!=this.vh)for(;0<this.yd&&g<c;)this.yd--,this.Wi&=32767,this.Pc&=32767,b[a+g++]=this.wh[this.Pc++]=this.wh[this.Wi++];else{for(;0<this.yd&&g<c;)this.yd--,this.Pc&=32767,this.Ub(8),
b[a+g++]=this.wh[this.Pc++]=this.gc(8),this.Kb(8);0==this.yd&&(this.vh=-1)}if(g==c)break}if(-1==this.vh){if(this.yq)break;this.Ub(1);0!=this.gc(1)&&(this.yq=!0);this.Kb(1);this.Ub(2);this.vh=this.gc(2);this.Kb(2);this.xh=null;this.yd=0}switch(this.vh){case 0:d=this.yJ(b,a+g,c-g);break;case 1:d=null!=this.xh?this.Aq(b,a+g,c-g):this.vJ(b,a+g,c-g);break;case 2:d=null!=this.xh?this.Aq(b,a+g,c-g):this.uJ(b,a+g,c-g);break;default:d=-1}if(-1==d)return this.yq?0:-1;g+=d}return g}};a.Gg.inflate=function(b){return(new a.Gg.Jv(b)).getBytes(4E9)}})(self);
(function(a){a.Oe={Lg:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",KE:function(e){for(var d="",f,b,c,g,h,n,m=0;m<e.length;)f=e.charCodeAt(m++),b=e.charCodeAt(m++),c=e.charCodeAt(m++),g=f>>2,f=(f&3)<<4|b>>4,h=(b&15)<<2|c>>6,n=c&63,isNaN(b)?h=n=64:isNaN(c)&&(n=64),d=d+a.Oe.Lg.charAt(g)+a.Oe.Lg.charAt(f)+a.Oe.Lg.charAt(h)+a.Oe.Lg.charAt(n);return d},pE:function(e){var d="",f,b,c,g,h,n=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");n<e.length;)f=a.Oe.Lg.indexOf(e.charAt(n++)),b=a.Oe.Lg.indexOf(e.charAt(n++)),
g=a.Oe.Lg.indexOf(e.charAt(n++)),h=a.Oe.Lg.indexOf(e.charAt(n++)),f=f<<2|b>>4,b=(b&15)<<4|g>>2,c=(g&3)<<6|h,d+=String.fromCharCode(f),64!==g&&(d+=String.fromCharCode(b)),64!==h&&(d+=String.fromCharCode(c));return d}};"undefined"===typeof window.btoa&&(window.btoa=a.Oe.KE);"undefined"===typeof window.atob&&(window.atob=a.Oe.pE)})(window);
(function(a){function e(a){var f;"string"!==typeof a?(f={documentElement:a},this.Qt=!1):"undefined"!==typeof DOMParser?(f=new DOMParser,f=f.parseFromString(a,"text/xml"),this.Qt=!1):(f=new ActiveXObject("MSXML2.DOMDocument"),f.preserveWhiteSpace=!0,f.async=!1,f.loadXML(a),this.Qt=!0);this.current=f.documentElement;this.next=this.current.nextSibling;this.diff=this.depth=0}e.prototype={fw:function(){for(;this.next&&this.next.nodeType!==Node.ELEMENT_NODE;)this.next=this.next.nextSibling},advance:function(){this.fw();
return this.next?(this.current=this.next,this.next=this.current.nextSibling,!0):!1},ja:function(){return this.current.tagName},ha:function(){++this.depth;this.next=this.current.firstChild;this.fw();this.next||++this.diff},pa:function(){--this.depth;0<this.diff?--this.diff:this.current=this.current.parentNode;this.current&&(this.next=this.current.nextSibling)},v:function(a){return this.current.getAttribute(a)},bd:function(){return this.Qt?this.current.text:this.current.textContent}};a.oe=e})(window);
(function(a){function e(a){this.depth=this.index=0;this.Qd=a;this.location={start:0,zp:1,Ap:1,end:a.length,empty:!0};this.wm=[this.location];this.Jt=!1;"?"===this.Qd.charAt(1)&&this.$y();this.location.empty=!1}e.prototype={advance:function(){this.Rg=null;this.$y();var a=this.location.start;++a;this.location.empty=!1;if("/"!==this.Qd.charAt(a))return this.location.empty="/"===this.Qd.charAt(this.Qd.indexOf(">",a)-1),!0;this.location.end=!0;return!1},qE:function(a){if(a)return a.split("&quot;").join('"').split("&lt;").join("<").split("&gt;").join(">").split("&amp;").join("&")},
Iz:function(){var a=this.location.start+1,f=this.Qd.indexOf(">",a);this.location.empty&&--f;a=this.Qd.substring(a,f);this.Rg={};f=a.indexOf(" ");if(-1!==f){this.uy=a.substring(0,f);for(var a=a.slice(f),a=a.split('"'),f=a.length-1,b=0;b<f;++b){var c=a[b],g=a[++b];this.Rg[c.substring(1,c.length-1)]=g}}else this.uy=a},$y:function(){if(this.Jt)this.Jt=!1,this.location.start=this.Qd.indexOf("<",this.location.start+1);else{var a=this.location.zp;if(!this.location.empty)for(var f=this.location.Ap;0<f;)a=
this.Qd.indexOf("<",a),"/"===this.Qd.charAt(++a)?--f:(a=this.Qd.indexOf(">",a),"/"!==this.Qd.charAt(a-1)&&++f);this.location.start=this.Qd.indexOf("<",a)}this.location.zp=this.location.start+1;this.location.Ap=1},ja:function(){null!==this.Rg&&"undefined"!==typeof this.Rg||this.Iz();return this.uy},ha:function(){++this.depth;this.location={start:this.location.start};this.wm[this.wm.length]=this.location;this.Jt=!0},pa:function(){--this.depth;this.Rg=null;var a=this.location.zp,f=this.location.Ap,b=
this.location.empty,c=this.location.end;this.wm.pop();this.location=this.wm[this.wm.length-1];this.location.zp=a;this.location.Ap=c?0:b?f:f+1},v:function(a){null!==this.Rg&&"undefined"!==typeof this.Rg||this.Iz();return this.qE(this.Rg[a])}};a.ZJ=e})(self);
(function(a){function e(b){if(b){if(b.length!==this.$i)throw Error("Data is wrong size for zip header!");this.Ql=b=this.lH(b);if(b.Ik!==this.LE)throw Error("Signature is wrong!");this.sG=4294967295===b.Go;this.Wg={};this.names=[]}}function d(b,a,d){this.source=b;this.zo=this.ts=!1;this.ke={};this.Rl=function(){};this.gi=a;this.Eo=d;this.ay=_.isUndefined(d)||_.isUndefined(d.type)}function f(b){this.Fi=b;this.started=!1;this.pg=1}f.prototype={cancel:function(){}};d.prototype={Re:"Document/FixedDocument.fdoc",
Af:"Document/DocProps/core.xml",Pe:"Document/Structure/DocStruct.struct",YH:function(b){this.Rl=b},Yp:function(b){var g=this;this.nk(function(d){if(d){a.utils.warn("Error loading document: "+d);g.Rl(d);if(b){b(d);return}throw d;}return g.ia([g.Re,g.Af,g.Pe])})},Nm:function(){return!1},ia:function(b){var a=this;if(!a.ts)throw Error("Document must be loaded before requesting parts");_(b).each(function(b){a.QE(b,function(b,c,l,d){return b?(c!==a.Pe&&a.Rl(b),a.trigger("partReady",{qa:c,Zf:!1,Xc:!!b.Zr,
error:b})):a.trigger("partReady",{qa:c,data:l,Zf:!1,Xc:!1,error:null,ac:d})})})},Fu:function(b){this.ag=b},ns:function(b){var a=this;_(b).each(function(b){var c=a.ke[b];c&&(c.pg--,0===c.pg&&(delete a.ke[b],c.cancel()))})},QE:function(b,a){if(this.ke[b])this.ke[b].pg++;else return this.ke[b]=new f(b),this.hA(b,a)}};_(d.prototype).extend(Backbone.Events);e.prototype={Qy:function(){return{start:this.Ql.Go,stop:this.Ql.Go+this.Ql.iy}},ak:function(b){var a=this.Wg[b],d=a.offset+this.Sq+a.Ai+a.Ul;return{start:d,
stop:d+a.gs,Fi:b}},Wo:function(b){b=this.ak(b);var a=Math.floor(b.start/102400),d=b.stop-b.start;return Math.min(d,102400*(a+1)-b.start)>d/2?a:a+1},FG:function(b){if(b&&(this.Ql=b=this.pH(b),b.Ik!==this.rJ))throw Error("Signature is wrong!");},iF:function(b){var a=this.Wo(b),d=this.names.indexOf(b),f=this.ak(b);b=[];var e;for(e=d-1;0<=e&&this.Wo(this.names[e])===a;--e);var f=e+1,l=this.ak(this.names[f]).start;for(e=d+1;e<this.names.length&&this.Wo(this.names[e])===a;++e);a=e-1;d=this.ak(this.names[a]).stop;
for(e=f;e<=a;++e)f=this.ak(this.names[e]),f.start-=l,f.stop-=l,b.push(f);return{start:l,stop:d,fA:b}},Vx:function(b){return!!this.Wg[b]},yz:function(b){return 0!==this.Wg[b].Ds},gA:function(b){for(var a=10,d=this.DB,f=this.Ql.dB,e=0;e<f;e++){var l=this.mH(b,a),a=a+d,p=b.substr(a,l.Ai),a=a+(l.Ai+l.Ul+l.Ux+10);this.Wg[p]=l;this.names[this.names.length]=p}},IC:56,JC:20,$i:22,DB:36,Sq:30,Up:function(b,a,d){for(var f="",e=0;e<a;e++)var l=b.charCodeAt(e+d).toString(16),f=1===l.length?"0"+l+f:l+f;return parseInt(f,
16)},mH:function(b,a){var d={},f=this.Up;d.Ds=f(b,2,a);d.gs=f(b,4,a+10);d.VI=f(b,4,a+14);d.Ai=f(b,2,a+18);d.Ul=f(b,2,a+20);d.Ux=f(b,2,a+22);d.offset=f(b,4,a+32);return d},pH:function(b){var a={},d=this.Up;a.Ik=d(b,4,0);a.WK=d(b,8,4);a.PL=d(b,2,12);a.QL=d(b,2,14);a.AE=d(b,4,16);a.ZD=d(b,4,20);a.QG=d(b,8,24);a.dB=d(b,8,32);a.iy=d(b,8,40);a.Go=d(b,8,48);return a},lH:function(b){var a={},d=this.Up;a.Ik=d(b,4,0);a.AE=d(b,2,4);a.ZD=d(b,2,6);a.QG=d(b,2,8);a.dB=d(b,2,10);a.iy=d(b,4,12);a.Go=d(b,4,16);a.Ux=
d(b,2,20);return a},nH:function(b){var a={},d=this.Up;a.Ik=d(b,4,0);a.OL=d(b,2,4);a.LK=d(b,2,6);a.Ds=d(b,2,8);a.lL=d(b,2,10);a.kL=d(b,2,12);a.lK=d(b,4,14);a.gs=d(b,4,18);a.VI=d(b,4,22);a.Ai=d(b,2,26);a.Ul=d(b,2,28);return a},LE:101010256,rJ:101075792,GG:67324752,HG:"PK\u0003\u0004"};e.inflate=function(b){return a.Gg.inflate(b)};a.k=a.k||{};a.k.Q=a.k.Q||{};var b=a.k.Q;b.We=d;b.ll=e;b.es=Array(1024);a.hz=function(c,d,h,f){d=d||0;h=h||!1;var e="";if(10===a.utils.ie&&!_.isNull(c.responseBody)||!a.Uint8Array&&
!_.isUndefined(c.responseBody)){h=c.responseBody;h=_.isArray(h)?h:(new a.VBArray(h)).toArray();f=h.length;c=Array(f);for(d=0;d<f;d++)c[d]=h[d]&255;f=f/1024+1;for(h=0;h<f;h++)e+=String.fromCharCode.apply(null,c.slice(1024*h,1024*h+1024))}else if(!a.Uint8Array||(h||_.isUndefined(c.response)))for(h=c.responseText,c=b.es;d<f;){for(var l=0;1024>l&&d<f;++l)c[l]=h.charCodeAt(d)&255,++d;e+=String.fromCharCode.apply(null,c.slice(0,l))}else{h=c.response;var l=new a.Uint8Array(h),p=l.length;if(a.utils.typedArrayApply)for(;d<
p;)c=l.subarray(d,d+1024),d+=1024,e+=String.fromCharCode.apply(null,c);else for(c=b.es;d<p;){h=0;for(f=Math.min(d+1024,p);d<f;h++,d++)c[h]=l[d];e+=String.fromCharCode.apply(null,1024>h?c.slice(0,h):c)}}return e};a.k.Q.zh={Tq:0,kv:1,TB:2}})(window);
(function(a){function e(b,c,g){d.apply(this,arguments);if("xod"!==b.name.split(".").pop())throw Error("Not an XOD file");if(!a.FileReader||(!a.File||!a.Blob))throw Error("File API is not supported in this browser");this.file=b}var d=a.k.Q.We,f=a.k.Q.ll;e.prototype=new d;e.prototype=_(e.prototype).extend({Ut:function(b,a,d){var f=new FileReader;f.onloadend=function(b,e){if(f.error){var l=f.error;if(l.code===l.ABORT_ERR){console.warn("Request for chunk "+a.start+"-"+a.stop+" was aborted");return}return d(l)}return d(!1,
e||b.target.result)};a&&(b=(b.slice||(b.webkitSlice||(b.mozSlice||b.Ss))).call(b,a.start,a.stop));f.readAsBinaryString(b);return function(){f.abort()}},nk:function(b){var a=this;a.zo=!0;var d=f.prototype.$i;a.Ut(a.file,{start:-d,stop:a.file.size},function(h,e){if(h)return console.warn("Error loading end header: %s",h),b(h);if(e.length!==d)throw Error("Zip end header data is wrong size!");a.Vb=new f(e);var m=a.Vb.Qy();a.Ut(a.file,m,function(l,d){if(l)return console.warn("Error loading central directory: %s",
l),b(l);if(d.length!==m.stop-m.start)throw Error("Zip central directory data is wrong size!");a.Vb.gA(d);a.ts=!0;a.zo=!1;return b(!1)})})},hA:function(b,a){var d=this,f=d.ke[b];if(!d.Vb.Vx(b))return a(Error('File not found: "'+b+'"'),b);var e=d.Vb.ak(b),m=d.Ut(d.file,e,function(l,p){delete d.ke[b];if(l)return console.warn('Error loading part "%s": %s',b,l),a(l);if(p.length!==e.stop-e.start)throw Error("Part data is wrong size!");var f=d.Vb.yz(b);a(!1,b,p,f)});f.started=!0;f.cancel=m}});a.k.Q.PB=e;
a.Ue=a.Ue||{};a.Ue.HJ=function(b){return{name:b.value.split(/[\/\\]/).pop(),size:null,data:null,vq:[],It:!1,Ss:function(b,a){return{Tz:this,Ss:this.Ss,start:b,stop:a}}}};a.Ue.IJ=function(){return{error:!1,onloadend:function(){},result:null,readAsBinaryString:function(b){var a=b.Tz||b,d=this,f=encodeURI(a.name);if(a.data)return this.Et(b);if(a.It)return a.vq.push(function(){d.Et(b)});a.It=!0;new JSIO.CJ(f,function(f){a.It=!1;if(f)return console.error('Failed to load file "%s"',a.name),console.warn("File must be in same directory as this page for FakeFileReader to work"),
d.error=Error('Failed to load file "%s"',a.name),d.onloadend(d.error);a.size=this.fileSize;a.data=this.read(this.fileSize);d.Et.call(d,b);for(f=0;f<a.vq.length;f++)a.vq[f]();a.vq=[]})},Et:function(b){var a=b.Tz||b,d=b.start||0;b=b.stop||a.size;null===d&&(d=a.size);null===b&&(b=a.size);0>d&&(d=a.size+d);0>b&&(b=a.size+b);a=a.data.slice(d,b);d="";for(b=0;b<a.length/1E3;b++)d+=String.fromCharCode.apply(null,a.slice(1E3*b,1E3*b+1E3));this.result=d;this.onloadend({},d)}}}})(window);
(function(a){function e(a){this.file=a}e.prototype=$.extend({lf:function(a){var f=this,b=new FileReader;b.onload=function(b){f.trigger("documentLoadingProgress",[b.loaded,b.loaded]);a(new Uint8Array(b.target.result))};b.onprogress=function(b){b.lengthComputable&&f.trigger("documentLoadingProgress",[b.loaded,0<b.total?b.total:0])};b.readAsArrayBuffer(this.file)},getFile:function(){return(a.utils.isNodeJS?a.nodejs:parent.nodejs)?this.file.path:this.file},ip:function(){return null}},a.utils.eventHandler);
a.k.Q.QB=e})(window);
(function(a){function e(b,a,c,d){g.apply(this,[b,c,d]);this.rg={};this.hs=a;this.url=b}function d(){this.pg=1}function f(b){var c=b.ia,d=b.range;return function(g,f){if(g){if(g.code===c.Wb.Sk){a.utils.warn("Request for range "+d.start+"-"+d.stop+" was aborted");return}return b.$d.forEach(function(b){b("Error retrieving file: "+c.url+". Received return status "+g.status+".")})}return b.$d.forEach(function(b){b(!1,f,c)})}}function b(b,c,d){this.url=b;this.range=c;this.ag=d;this.ia=new XMLHttpRequest;
this.ia.open("GET",this.url,!0);a.Uint8Array&&(this.ia.responseType="arraybuffer");_.isUndefined(c.stop)?this.ia.setRequestHeader("Range","bytes="+c.start):this.ia.setRequestHeader("Range",["bytes=",c.start,"-",c.stop-1].join(""));this.ia.setRequestHeader("X-Requested-With","XMLHttpRequest");if(d)for(var g in d)this.ia.setRequestHeader(g,d[g]);this.ia.overrideMimeType?this.ia.overrideMimeType("text/plain; charset=x-user-defined"):this.ia.setRequestHeader("Accept-Charset","x-user-defined");this.status=
this.Wb.ej}function c(b,c,d){for(var g=-1,f=0;f<d.length;f++)_.isEqual(d[f].range,c)&&(_.isEqual(d[f].url,b)&&(g=f));-1===g&&a.utils.warn(c+" not found in queue");return g}var g=a.k.Q.We,h=a.k.Q.ll,n=[],m=[];b.prototype={constructor:b,start:function(b){var c=this;this.ia.onreadystatechange=function(){if(c.Zr)return c.status=c.Wb.Sk,b({code:c.Wb.Sk});if(this.readyState===c.GC.DONE)if(c.ap(),200===this.status||206===this.status){var d=a.hz(this);c.success(d,b)}else c.status=c.Wb.hn,b({code:c.status,
status:this.status})};this.ia.send(null);this.status=this.Wb.hl},success:function(b,a){this.status=this.Wb.nC;if(a)return a(!1,b)},abort:function(){this.ap();this.Zr=!0;this.ia.abort()},ap:function(){var b=c(this.url,this.range,m);-1!==b&&m.splice(b,1);if(0<n.length){var b=n.shift(),a=new this.constructor(b.url,b.range,this.ag);b.ia=a;m.push(b);a.start(f(b))}},GC:{XJ:0,DONE:4},Wb:{ej:0,hl:1,nC:2,hn:3,Sk:4},extend:function(b){var a=$.extend({},this,b.prototype);a.constructor=b;return a}};a.UL=[];e.prototype=
{Tp:b,RB:3,Bo:function(b,c,d){var g=-1===b.indexOf("?")?"?":"&";switch(d){case !1:case a.k.Q.zh.Tq:b=b+g+"_="+_.uniqueId();break;case !0:case a.k.Q.zh.kv:b=b+g+"_="+c.start+","+(_.isUndefined(c.stop)?"":c.stop)}return b},ME:function(b,a,c,d,g){for(var f=0;f<n.length;f++)if(_.isEqual(n[f].range,a)&&_.isEqual(n[f].url,b))return n[f].$d.push(d),n[f].Kp++,null;for(f=0;f<m.length;f++)if(_.isEqual(m[f].range,a)&&_.isEqual(m[f].url,b))return m[f].$d.push(d),m[f].Kp++,null;c={url:b,range:a,hs:c,$d:[d],Kp:1,
ia:{}};if(0===n.length&&m.length<this.RB)return m.push(c),c.ia=new this.Tp(b,a,g),c;n.push(c);return null},vm:function(b,a,d){var g=this.Bo(b,a,this.hs);(b=this.ME(g,a,this.hs,d,this.ag))&&b.ia.start(f(b));return function(){var b=c(g,a,m),l;-1!==b?(l=--m[b].Kp,0===l&&m[b].ia.abort()):(b=c(g,a,n),-1!==b&&(l=--n[b].Kp,0===l&&n.splice(b,1)))}},Ty:function(){return{start:-h.prototype.$i}},UF:function(){var b=-(h.prototype.$i+h.prototype.JC);return{start:b-h.prototype.IC,end:b}},nk:function(b){var c=this;
c.zo=!0;var d=h.prototype.$i;c.vm(c.url,c.Ty(),function(g,f){function e(){var d=c.Vb.Qy();c.vm(c.url,d,function(g,f){if(g)return a.utils.warn("Error loading central directory: "+g),b(g);if(f.length!==d.stop-d.start)return b("Invalid XOD file: Zip central directory data is wrong size! Should be "+(d.stop-d.start)+" but is "+f.length);c.Vb.gA(f);c.ts=!0;c.zo=!1;return b(!1)})}if(g)return a.utils.warn("Error loading end header: "+g),b(g);if(f.length!==d)return b("Invalid XOD file: Zip end header data is wrong size!");
try{c.Vb=new h(f)}catch(n){return b(n)}c.Vb.sG?c.vm(c.url,c.UF(),function(d,g){if(d)return a.utils.warn("Error loading zip64 header: "+d),b(d);c.Vb.FG(g);e()}):e()})},fz:function(b){b(Object.keys(this.Vb.Wg))},hA:function(b,c){var g=this;if(!g.Vb.Vx(b))return delete g.ke[b],c(Error('File not found: "'+b+'"'),b);var f=g.Vb.Wo(b);if(f in g.rg){var h=g.ke[b];h.Qj=g.rg[f];h.Qj.pg++;h.cancel=h.Qj.cancel}else{var e=g.Vb.iF(b),n=g.vm(g.url,e,function(d,h){if(d)return a.utils.warn('Error loading part "'+
b+'": '+d),c(d,b);if(h.length!==e.stop-e.start)return c(Error("Part data is wrong size!"),b);var n;do{if(!g.rg[f])return;n=g.rg[f].pg;for(var m=e.fA.length,s=0;s<m;++s){var v=e.fA[s];c(!1,v.Fi,h.substring(v.start,v.stop),g.Vb.yz(v.Fi));v.Fi in g.ke&&delete g.ke[v.Fi]}}while(n!==g.rg[f].pg);delete g.rg[f]}),m=g.ke[b];m&&(m.started=!0,m.cancel=function(){m.Qj.pg--;0===m.Qj.pg&&(n(),delete g.rg[f])},g.rg[f]=new d,m.Qj=g.rg[f],m.Qj.cancel=m.cancel)}}};e.prototype=$.extend(new g,e.prototype);a.k.Q.Zk=
e;a.k.Q.Fq=b})(window);
(function(a){function e(a,b){d.apply(this,[a]);this.url=a;-1===b.indexOf("/",b.length-1)&&(b+="/");this.path=b}var d=a.k.Q.We;e.prototype=new d;e.prototype=_(e.prototype).extend({ia:function(d){var b=this;_(d).each(function(c){var d=-1!==c.indexOf("Images/"),f=-1!==c.indexOf("Thumbs/"),e=-1!==c.indexOf("Fonts/");if(d||(f||e))return b.trigger("partReady",{qa:c,data:c,Zf:!0,Xc:!1,error:null,ac:!1});$.ajax({url:b.path+c,mimeType:"text/plain; charset=x-user-defined",xhr:function(){var b=$.ajaxSettings.xhr();
b&&(this.IF=function(){return b.responseBody});return b},success:function(d){var l=a.utils.ie?this.IF():d;d="";var g,f,h;if(a.utils.ie){l=(new a.VBArray(l)).toArray();h=l.length;g=Array(h);for(f=0;f<h;f++)g[f]=l[f]&255;l=h/1024+1;for(f=0;f<l;f++)d+=String.fromCharCode.apply(null,g.slice(1024*f,1024*f+1024))}else for(g=a.k.Q.es,f=0;f<l.length;){for(h=0;1024>h&&f<l.length;++h)g[h]=l.charCodeAt(f)&255,++f;d+=String.fromCharCode.apply(null,g.slice(0,h))}return b.trigger("partReady",{qa:c,data:d,Zf:!1,
Xc:!1,error:null,ac:!0})},error:function(a,l,d){a=Error(l+" "+d);return b.trigger("partReady",{qa:c,Zf:!1,Xc:!!a.Zr,error:a})}})})},nk:function(a){a()}});a.k.Q.Mq=e})(window);
(function(a){function e(a,f){f=f||{};this.url=a;this.ag=null;this.iJ=!!f.useDownloader}e.prototype=$.extend({Fu:function(a){this.ag=a},lf:function(a){var f=new XMLHttpRequest,b=0===this.url.indexOf("blob:")?"blob":"arraybuffer";f.open("GET",this.url,!0);f.responseType=b;var c=this;if(this.ag)for(var g in this.ag)f.setRequestHeader(g,this.ag[g]);var h=/^https?:/i.test(this.url);f.addEventListener("load",function(b){if(200===this.status||!h&&0===this.status)if(c.trigger("documentLoadingProgress",[b.loaded,
b.loaded]),"blob"===this.responseType){b=this.response;var g=new FileReader;g.onload=function(b){a(new Uint8Array(b.target.result))};g.readAsArrayBuffer(b)}else a(new Uint8Array(this.response));else c.trigger("error",["pdfLoad",b.currentTarget.statusText])},!1);f.onprogress=function(b){c.trigger("documentLoadingProgress",[b.loaded,0<b.total?b.total:0])};f.addEventListener("error",function(){c.trigger("error",["pdfLoad","Network failure"])},!1);f.send()},getFile:function(){return(a.utils.isNodeJS?
a.nodejs:parent.nodejs)?this.url:null},ip:function(){return this.iJ?this.url:null}},a.utils.eventHandler);a.k.Q.Nq=e})(window);
(function(a){function e(a,c,e,m){b.apply(this,[a,e,m]);this.url=a;this.Qi=new f(a,c);this.Vb=new d;this.$z=createPromiseCapability()}function d(){this.buffer="";this.state=0;this.Uu=4;this.kg=null;this.rk=c.prototype.Sq;this.Wg={}}function f(b,c){var d=-1===b.indexOf("?")?"?":"&";switch(c){case !1:case a.k.Q.zh.Tq:this.url=b+d+"_="+_.uniqueId();break;default:this.url=b}this.ia=new XMLHttpRequest;this.ia.open("GET",this.url,!0);this.ia.setRequestHeader("X-Requested-With","XMLHttpRequest");this.ia.overrideMimeType?
this.ia.overrideMimeType("text/plain; charset=x-user-defined"):this.ia.setRequestHeader("Accept-Charset","x-user-defined");this.status=this.Wb.ej}var b=a.k.Q.We,c=a.k.Q.ll;f.prototype={start:function(b){var a=this,c=this.ia,d;a.um=0;if(b)for(var l in b)this.ia.setRequestHeader(l,b[l]);this.Rp=setInterval(function(){if(4===c.readyState&&200!==c.status)a.trigger("done","Error received return status "+c.status),clearInterval(a.Rp);else{try{c.responseText}catch(b){return}a.um<c.responseText.length&&((d=
a.kH())&&a.trigger("data",d));0===c.readyState&&(a.trigger("done"),clearInterval(a.Rp))}},1E3);this.ia.send(null);this.status=this.Wb.hl},kH:function(){var b=this.ia,c=b.responseText;if(0!==c.length)if(this.um===c.length)clearInterval(this.Rp),this.trigger("done");else return c=Math.min(this.um+3E6,c.length),b=a.hz(b,this.um,!0,c),this.um=c,b},abort:function(){clearInterval(this.Rp);var b=this;this.ia.onreadystatechange=function(){a.utils.warn("StreamingRequest aborted");b.status=b.Wb.Sk;return b.trigger("aborted")};
this.ia.abort()},finish:function(){var b=this;this.ia.onreadystatechange=function(){b.status=b.Wb.AB;return b.trigger("done")};this.ia.abort()},Wb:{ej:0,hl:1,AB:2,hn:3,Sk:4}};_(f.prototype).extend(Backbone.Events);d.prototype=new c;d.prototype=_(d.prototype).extend({processData:function(b){var a;for(b=this.buffer+b;b.length>=this.rk;)switch(this.state){case 0:this.kg=a=this.nH(b.slice(0,this.rk));if(a.Ik!==this.GG)throw Error("Wrong signature in local header: "+a.Ik);b=b.slice(this.rk);this.state=
1;this.rk=a.gs+a.Ai+a.Ul+this.Uu;this.trigger("header",a);break;case 1:this.kg.name=b.slice(0,this.kg.Ai);this.Wg[this.kg.name]=this.kg;a=this.rk-this.Uu;var d=b.slice(this.kg.Ai+this.kg.Ul,a);this.trigger("file",this.kg.name,d,this.kg.Ds);b=b.slice(a);if(b.slice(0,this.Uu)===this.HG)this.state=0,this.rk=c.prototype.Sq;else return this.state=2,!0}this.buffer=b;return!1}});_(d.prototype).extend(Backbone.Events);e.prototype=new b;e.prototype=_(e.prototype).extend({Yp:function(){var b=this;this.ia([this.Re,
this.Af,this.Pe]);this.Qi.bind("data",function(a){try{if(b.Vb.processData(a))return b.Qi.finish()}catch(c){throw b.Qi.abort(),b.Rl(c),c;}});this.Qi.bind("done",function(a){b.$z.resolve();a&&b.Rl(a)});this.Vb.bind("header",_(this.rH).bind(this));this.Vb.bind("file",_(this.qH).bind(this));return this.Qi.start(this.ag)},fz:function(b){var a=this;this.$z.promise.then(function(){b(Object.keys(a.Vb.Wg))})},Nm:function(){return!0},ia:function(){},rH:function(){},abort:function(){this.Qi&&this.Qi.abort()},
qH:function(b,a,c){this.trigger("partReady",{qa:b,data:a,Zf:!1,Xc:!1,error:null,ac:c})}});a.k.Q.Kv=e;a.k.Q.WJ=f})(window);(function(a){function e(a){d.apply(this);this.db=a}var d=a.k.Q.We;e.prototype=new d;e.prototype=_(e.prototype).extend({ia:function(a){var b=this;_(a).each(function(a){b.db.get(a,function(d,f,e){return d?b.trigger("partReady",{qa:a,error:d}):b.trigger("partReady",{qa:a,data:f,Zf:!1,Xc:!1,error:null,ac:e})})})},nk:function(a){a()}});a.k.Q.il=e})(window);
(function(a){function e(b,a,d,h){f.apply(this,arguments)}function d(b,c){this.url=b;this.range=c;this.ia=new XMLHttpRequest;this.ia.open("GET",this.url,!0);a.Uint8Array&&(this.ia.responseType="arraybuffer");this.ia.setRequestHeader("X-Requested-With","XMLHttpRequest");this.status=this.Wb.ej}var f=a.k.Q.Zk;d.prototype=a.k.Q.Fq.prototype.extend(d);e.prototype={Tp:d,Bo:function(b,a){return b+"/bytes="+a.start+","+(a.stop?a.stop:"")}};e.prototype=$.extend(new f,e.prototype);a.k.Q.uB=e;a.k.Q.BJ=d})(window);
(function(a){function e(b,a,c,d){f.apply(this,arguments)}function d(b,a){this.url=b;this.range=a;this.status=this.Wb.ej}var f=a.k.Q.Zk,b=a.k.Q.Fq,c={};d.prototype={start:function(b){var d=this;c[this.range.start]={success:function(c){var l=atob(c),f,e=l.length;c=new Uint8Array(e);for(f=0;f<e;++f)c[f]=l.charCodeAt(f);l=c.length;f="";var q=0;if(a.utils.typedArrayApply)for(;q<l;)e=c.subarray(q,q+1024),q+=1024,f+=String.fromCharCode.apply(null,e);else for(e=Array(1024);q<l;){for(var n=0,u=Math.min(q+
1024,l);q<u;n++,q++)e[n]=c[q];f+=String.fromCharCode.apply(null,1024>n?e.slice(0,n):e)}d.success(f,b)},fail:function(){d.status=d.Wb.hn;b({code:d.status})}};var f=document.createElement("IFRAME");f.setAttribute("src",this.url);document.documentElement.appendChild(f);f.parentNode.removeChild(f);f=null;this.status=this.Wb.hl;d.ap()}};d.prototype=b.prototype.extend(d);e.prototype={Tp:d,Bo:function(b,a){return b+"#"+a.start+"&"+(a.stop?a.stop:"")}};e.prototype=$.extend(new f,e.prototype);a.k.Q.$k=e;a.k.Q.LJ=
d;a.k.Q.$k.nu=function(b,a){var d=c[a];delete c[a];d.success(b)};a.k.Q.$k.mu=function(b,a){var d=c[a];delete c[a];d.fail()}})(window);
(function(a){function e(b,a,c,d){f.apply(this,arguments)}function d(b,a){this.url=b;this.range=a;this.status=this.Wb.ej}var f=a.k.Q.Zk,b=a.k.Q.Fq,c={};d.prototype={start:function(b){function a(){f.status=f.Wb.hn;b({code:f.status})}function d(a){var c=atob(a),h,q=c.length;a=new Uint8Array(q);for(h=0;h<q;++h)a[h]=c.charCodeAt(h);c=a.length;h="";for(var e=0;e<c;)q=a.subarray(e,e+1024),e+=1024,h+=String.fromCharCode.apply(null,q);f.success(h,b)}var f=this;"undefined"===typeof c[this.range.start]&&(c[this.range.start]=
{success:d,fail:a},window.external.notify(this.url),this.status=this.Wb.hl);f.ap()}};d.prototype=b.prototype.extend(d);e.prototype={Tp:d,Bo:function(b,a){return b+"?"+a.start+"&"+(a.stop?a.stop:"")}};e.prototype=$.extend(new f,e.prototype);a.k.Q.jl=e;a.k.Q.YJ=d;a.k.Q.jl.nu=function(b,a){var d=c[a];delete c[a];d.success(b)};a.k.Q.jl.mu=function(b,a){var d=c[a];delete c[a];d.fail()}})(window);
(function(a){function e(){d.apply(this,arguments)}var d=a.k.Q.Zk;e.prototype=$.extend(new d,{Ty:function(){return{start:this.Ay-a.k.Q.ll.prototype.$i,stop:this.Ay}},nk:function(a){var b=this;this.vm(this.url,{start:0,stop:1},function(c,g,h){if(c)return a(c);c=h.ia.getResponseHeader("Content-Range");b.Ay=c.split("/")[1];d.prototype.nk.call(b,a)})}});a.k.Q.vB=e})(window);
(function(a){function e(b,c,d){this.gd=b;this.du=!1;this.cache=new f(a.mv,b.Nm());this.J=c;this.ng={};this.sq={};this.fs={};this.Fs={};this.ct=[];this.Ro={};this.Wu={};this.wf=d;this.Mp=_.bind(this.Mp,this);b.bind("partReady",this.Mp)}function d(b){window._indexedDB=window._indexedDB||(window.indexedDB||(window.mozIndexedDB||(window.webkitIndexedDB||window.msIndexedDB)));window._IDBTransaction=window._IDBTransaction||(window.IDBTransaction||window.webkitIDBTransaction);window._IDBTransaction&&(!window._IDBTransaction.READ_WRITE&&
(window._IDBTransaction.READ_WRITE="readwrite"));this.name=b;this.db=null;this.cy="1";this.Jo=this.Xc=!1}function f(b,a){this.IG=this.Km=b;this.queue=[];this.VE=a}function b(b,a){this.Di=b;this.Zz=a;this.$d={};this.Ge={};this.Xc=!1;for(var c=0;c<a.length;c++)this.Ge[a[c]]=!0}function c(){this.index=0;this.data={functions:[],$d:[],done:!1};this.Yc=[]}function g(b){this.data=b;this.Yc=[]}function h(b,a){for(var c=[],d=0;d<b.length;++d)-1===a.indexOf(b[d])&&c.push(b[d]);return c}function n(b,a){this.Di=
b;this.zk={};this.jf=null;this.ZA={};this.sb=a}var m=a.k.Q.Mq;a.Ws=!1;g.prototype={init:function(b){if(this.data){var c=this;a.SF(this.data,function(a){c.worker=a;c.bt();c.Zp=[];c.Vl=!1;c.data=null;b()})}else b()},cancel:function(){for(var b=0;b<this.Yc.length;b++){for(var a=0;a<this.Yc[b].saves;a++)this.Yc[b].restore();this.Yc[b].saves=0}this.Yc=[];this.worker&&this.worker.cancel()},clone:function(){return new g(this.data)},run:function(b,a,c){return this.qq?(c&&this.bt(),-1===this.Yc.indexOf(b)&&
this.Yc.push(b),runEval(this.qq,b,a),!1):this.Vl=!0},bB:function(){var b=this.Zp;this.Zp=this.$x;return h(this.Zp,b)},cB:function(b){var a=this;this.init(function(){function c(){var d=h(a.Zp,a.Vl?[]:a.$x);b(d)}a.cv?c():a.callback=c})},bt:function(){if(this.worker.done)return!1;this.cv=!1;var b=this;this.worker.PG(function(a,c){b.qq=a;b.$x=c;b.cv=!0;var d=b.callback;b.callback=null;d&&d()})},dt:function(b){var a=this;this.init(function(){function c(){if(a.qq){var d=new Function("c","t",a.qq);a.bt();
b(d)}else b()}a.cv?c():a.callback=c})}};c.prototype={clone:function(){var b=new c;b.data=this.data;b.index=0;return b},cancel:function(){for(var b=0;b<this.Yc.length;b++){for(var a=0;a<this.Yc[b].saves;a++)this.Yc[b].restore();this.Yc[b].saves=0}this.Yc=[]},dt:function(b,a){function c(){f.dt(function(b){b?(d.data.functions.push(b),setTimeout(c,0)):(d.data.done=!0,a());b=d.data.$d.length;if(0<b){for(var l=0;l<b;++l)d.data.$d[l]();d.data.$d=[]}})}this.data.done=!1;var d=this,f=new g(b);d.data.functions=
[];c();this.index=0},bB:function(){return[]},cB:function(b){this.data.done||this.index<this.data.functions.length?b([]):this.data.$d.push(function(){b([])})},run:function(b,a,c){var d=this.data.functions[this.index];c&&this.index++;-1===this.Yc.indexOf(b)&&this.Yc.push(b);return d?(d(b,a),!1):!0}};b.prototype={jG:function(){return 0===_(this.Ge).keys().length}};f.prototype={getItem:function(b){return(b=this[b])?b:null},setItem:function(b,a,c){if(b in this)this.queue.splice(this.queue.indexOf(b),1),
this.queue.push(b);else if(this.VE)this[b]={data:a,ac:c},this.queue.push(b);else if(a.length<this.IG/2){for(;this.Km<a.length;){var d=this.queue[0];this.Km+=this[d].data.length;delete this[d];this.queue.shift()}this.Km-=a.length;this[b]={data:a,ac:c};this.queue.push(b)}}};d.prototype={open:function(b,a){var c=this,d=window._indexedDB.open(c.name);if(_.isUndefined(d))a("User declined to increase space");else{d.onsuccess=function(){c.db=d.result;if(c.db.setVersion&&c.db.version!==c.cy){var b=c.db.setVersion(c.cy);
b.onsuccess=function(){c.db.objectStoreNames.contains(c.name)&&c.db.deleteObjectStore(c.name);c.db.createObjectStore(c.name,{keyPath:"partName"});b.result.oncomplete=g}}else g()};d.onupgradeneeded=function(b){c.db=b.target.result;c.db.objectStoreNames.contains(c.name)&&c.db.deleteObjectStore(c.name);c.db.createObjectStore(c.name,{keyPath:"partName"})};d.onerror=function(){a("Error opening database for offline mode")};var g=function(){c.get("NumParts",function(d,g){if(d)c.Jo=!1,b();else{var f=c.db.transaction([c.name]).objectStore(c.name).count();
f.onsuccess=function(){c.Jo=f.result===g;b()};f.onerror=function(){a("Error opening database for offline mode")}}})}}},VA:function(b,a,c,d){var g=this.db.transaction([this.name],window._IDBTransaction.READ_WRITE);g.oncomplete=function(){d&&d()};g.onerror=function(){d&&d();throw Error("Error adding "+b+" to the offline database");};g.objectStore(this.name).put({partName:b,partData:a,compressed:c})},HI:function(b,a,c,d,g){function f(g){b.nf(g,function(b){var l=a.indexOf(b.qa);-1<l&&delete a[l];h()||
e.VA(b.qa,b.data,b.ac,function(){h()||(n++,d(n/m),n===m&&(e.Jo=!0,c()))})},!0)}function h(){e.Xc&&(!B&&(B=!0,g(a),c()));return B}var e=this;e.Xc=!1;c=c||function(){};d=d||function(){};g=g||function(){};var n=0,m=a.length,B=!1;e.VA("NumParts",m+1,!1,function(){for(var b=0;b<m;b++)f(a[b])})},VD:function(){this.Xc=!0},get:function(b,a){var c=this.db.transaction([this.name]).objectStore(this.name).get(b);c.onsuccess=function(){c.result?a(!1,c.result.partData,c.result.compressed):a("Part "+b+" not found in the offline database")};
c.onerror=function(){a("Error getting "+b+" from offline database")}},mk:function(){return this.Jo}};e.prototype={nf:function(b,c,d){function g(b){b=$.extend({},b);c(b)}var f=this.cache.getItem(b);if(null!==f){var h=f.ac;f.ac&&!d?(d=a.Gg.inflate(f.data),h=!1):d=f.data;c({qa:b,data:d,Zf:!0,Xc:!1,error:null,ac:h});return c}this.bind(b,g);this.fs[b]=!0;this.Fs[b]=!d;this.gd.ia([b]);return g},Mp:function(b){if(b.error)console.error("Error reading part "+b.qa+": "+b.error),this.trigger(b.qa,{qa:b.qa,error:b.error}),
this.unbind(b.qa);else{var c=this,d=function(d){c.cache.setItem(b.qa,d,b.ac);if(c.fs[b.qa]){var g=b.ac;b.ac&&(c.Fs[b.qa]&&(d=a.Gg.inflate(d),g=!1));delete c.fs[b.qa];delete c.Fs[b.qa];c.trigger(b.qa,{qa:b.qa,data:d,Zf:!1,Xc:!1,error:null,ac:g});c.unbind(b.qa);delete c._callbacks[b.qa]}};this.gd.gi?this.gd.ay?d(this.gd.gi(b.data,this.gd.Eo,b.qa)):this.gd.gi(b.data,this.gd.Eo,b.qa,d):d(b.data)}},At:function(b){return this.Rt?"Thumbs/"+(b+1)+".jpg":"Thumbs/"+(b+1)+".png"},zt:function(b,a,c){var d=this,
g=!1,f=this.nf(this.At(b),function(b){g=b.Zf;d.oA(a);c(b)});g||(this.sq[a]={ps:f,Lc:b})},dz:function(c,d,g){function f(b){if(b.error)return console.error("Failed to load part for page "+c+": "+b.error);delete y.Ge[A];w.Fl&&0!==w.po.length||(w.po=e.UG(b.qa,b.data).map(function(b){b.PageNumber=c+1;return b}));h()}function h(){if(y.jG()){if(null===D.jf)throw Error("Functions have not been generated yet");y.Xc||(I||(delete e.ng[c],e.trigger(c,!1,D),g(!1,D),I=!0,e.unbind(c+""),e._callbacks&&delete e._callbacks[c+
""]))}}var e=this;this.ng[c]=this.ng[c]||{yk:{}};var m=0<Object.keys(this.ng[c].yk).length;this.ng[c].yk[d]=null;if(m)return a.utils.warn("Duplicate request for page "+c),m=function(b,a){var c=$.extend({},a);c.jf=a.jf.clone();c.zk=$.extend(!0,{},c.zk);g(b,c)},this.ng[c].yk[d]=m,this.bind(c,m);var w=e.J[c],x=w.$p[2],A=w.$p[1],B=w.$p[0],y;y=this.du?new b(c,[B,A,x]):new b(c,[B,x]);this.ng[c].ia=y;var z=y.$d,I=!1,D=new n(c,e);z[x]=e.nf(x,function(b){if(b.error)return console.error("Failed to load part for page "+
c+": "+b.error);b=e.XG(b.qa,b.data);delete y.Ge[x];_(b).each(function(b){y.Ge[b.slice(1)]=!0});_(b).each(function(b){b=b.slice(1);var d=-1!==b.indexOf(".odttf")||-1!==b.indexOf(".otf"),g=-1!==b.indexOf(".png")||-1!==b.indexOf(".jpg");a.Ws&&d?(delete y.Ge[b],D.zk[b]=e.fi(b)):d&&!e.wf.tp(e.fi(b).name)?(y.Zz.push(b),z[b]=e.nf(b,function(a){if(a.error)return console.error("Failed to load part for page "+c+": "+a.error);delete y.Ge[b];D.zk[b]=e.fi(a.qa,a.data);h()})):g&&a.Ws?(delete y.Ge[b],setTimeout(function(){e.nf(b,
function(b){b=e.fi(b.qa,b.data);var a=new Image;a.src=b.data;$(a).css({position:"absolute","z-index":8,height:"100%",width:"100%"}).prependTo("#pageContainer"+c)})},0)):(delete y.Ge[b],D.zk[b]=e.fi(b),h())});h()});this.du&&(z[A]=e.nf(A,f));if(c in e.Ro)return D.jf=e.Ro[c].clone(),D.ZA=e.Wu[c],delete y.Ge[B],h();z[B]=e.nf(B,function(b){if(b.error)return console.error("Failed to load part for page "+c+": "+b.error);e.WE(b.data,y,D,function(){delete y.Ge[B];if(a.aj){if(e.ct.length>=a.aj){var b=e.ct.shift();
delete e.Ro[b];delete e.Wu[b]}e.ct.push(c);e.Ro[c]=D.jf;e.Wu[c]=D.ZA}h()})},!0)},WE:function(b,d,f,h){a.aj?(d=new c,d.dt(b,h),f.jf=d):(f.jf=new g(b),h())},WD:function(b,a){var c=this.ng[b];if(c){this.gd.ns(c.ia.Zz);var d=c.yk[a];d&&this.unbind(b+"",d);delete c.yk[a];if(0===Object.keys(c.yk).length){c.Xc=!0;var c=c.$d,g;for(g in c)c.hasOwnProperty(g)&&this.unbind(g,c[g]);delete this._callbacks[b+""];delete this.ng[b]}}},YD:function(b){var a=this.sq[b];a&&(this.gd.ns([this.At(a.Lc)]),this.oA(b))},oA:function(b){var a=
this.sq[b];a&&(this.unbind(this.At(a.Lc),a.ps),delete this.sq[b])},fi:function(b,c){var d,g=b,f=b.match(/\.([a-zA-Z]+)$/)[1].toLowerCase();switch(f){case "png":case "jpg":b="i"+b.match(/Images\/(\d+)/)[1];if(c){m&&this.gd instanceof m?d=this.gd.path+c:(d=btoa(c),d="data:image/"+("jpg"===f?"jpeg":f)+";base64,"+d);break}break;case "odttf":var h;c&&(h=this.wE(b,c));b="f"+parseInt(b.substr(34,8),16);c&&(d=new a.Ah.FontFace(b,h,"opentype"),this.wf.Bz(b)||d.tf());f="font";break;case "otf":b=b.substr(0,
b.length-4);b="f"+parseInt(b.substr(6),10);if(c){if(m&&this.gd instanceof m)f=this.gd.path;else throw Error("Use an external part retriever for documents with external fonts");d=new a.Ah.FontFace(b,null,"opentype",f+c);this.wf.Bz(b)||d.tf()}f="font";break;default:d=c}return{name:b,type:f,data:d,qa:g}},XG:function(b,c){var d=[],g=new a.oe(c);for(g.ha();g.advance();){var f=g.v("Target");null!==f?d.push(f):a.utils.warn("Corrupt rels part: %s",b)}0<d.length&&(_(d).last().match(/Thumbs/)&&d.pop());return d},
UG:function(b,c){var d=[],g=new a.oe(c);for(g.ha();g.advance();){for(var f=g.ja(),h=g.v("BBox"),h=h.split(","),e=0;4>e;++e)h[e]=parseFloat(h[e]);"Hyperlink"===f?d.push(new a.Annotations.nd({actions:{U:[{name:"URI",uri:g.v("Target")}]},rect:h})):"Link"===f&&d.push(new a.Annotations.nd({actions:{U:[{name:"GoTo",dest:{page:g.v("ID"),fit:"XYZ",top:g.v("Vpos"),left:g.v("Hpos")}}]},rect:h}))}return d},wE:function(b,a){b=b.split("/")[1].split(".")[0];for(var c=b.split("-"),d=[],g=16,f=0;f<c.length;++f)for(var h=
c[f],e=0;e<h.length;e+=2)d[--g]=parseInt(h.slice(e,e+2),16);for(c=0;16>c;++c)g=d[c],d[c]=String.fromCharCode(a.charCodeAt(c)^g),d[c+16]=String.fromCharCode(a.charCodeAt(c+16)^g);return a=d.join("")+a.slice(32)}};_(e.prototype).extend(Backbone.Events);a.k.Q.XB=e;a.k.YB=d;a.k.JJ=g})(window);
(function(a){function e(){this.fonts=[]}function d(b,a,d,f){_.isUndefined(f)?(f=this.LG[d],a=btoa(a),this.url=["data:",f,";base64,",a].join("")):this.url="'"+f+"'";this.url=["url(",this.url,") format('",d,"')"].join("");this.GH=["@font-face { font-family:'",b,"';src:",this.url,"}"].join("");this.name=b}document.head||(document.head=document.getElementsByTagName("head")[0]);a.Bg={};d.prototype={Vu:null,styleSheet:null,LG:{woff:"application/x-font-woff",opentype:"font/opentype"},tf:function(){if(!a.Bg[this.name]){if(!this.styleSheet){var b=
document.createElement("style");document.head.appendChild(b);d.prototype.styleSheet=b.sheet;d.prototype.Vu=b}b=this.styleSheet.cssRules.length;this.styleSheet.insertRule(this.GH,b);a.Bg[this.name]=this.styleSheet.cssRules[b]}},remove:function(){if(!a.utils.ie){var b=a.Bg[this.name];if(!b)throw Error("CSS @font-face rule is not in use");var c,d=this.styleSheet.cssRules.length,f=this.styleSheet.cssRules;for(c=0;c<d;c++)if(f[c]===b){this.styleSheet.deleteRule(c);delete a.Bg[this.name];return}throw Error("CSS @font-face stylesheet has been altered externally");
}}};e.prototype={DG:atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="),
EG:0,AD:function(b){this.fonts.push(b)},XF:function(){return 0!==this.fonts.length},Jz:function(b){function c(b,a){return b.charCodeAt(a)<<24|b.charCodeAt(a+1)<<16|b.charCodeAt(a+2)<<8|b.charCodeAt(a+3)&255}function d(b,a){l++;30<l?(console.warn("Load test font never loaded."),a()):(m.font="30px "+b,m.fillText(".",0,20),0<m.getImageData(0,0,1,1).data[3]?a():setTimeout(_.bind(d,null,b,a)))}var f,e;f=document.createElement("canvas");f.width=1;f.height=1;var m=f.getContext("2d"),l=0,p="lt"+Date.now()+
this.EG++,r=this.DG,r=r.substr(0,976)+p+r.substr(976+p.length),q=c(r,16);f=0;for(e=p.length-3;f<e;f+=4)q=q-1482184792+c(p,f)|0;f<p.length&&(q=q-1482184792+c(p+"XXX",f)|0);var r=r.substr(0,16)+(String.fromCharCode(q>>24&255)+String.fromCharCode(q>>16&255)+String.fromCharCode(q>>8&255)+String.fromCharCode(q&255))+r.substr(20),s=new a.Ah.FontFace(p,r,"opentype");s.tf();r=[];f=0;for(e=this.fonts.length;f<e;f++)r.push(this.fonts[f].name);r.push(p);var u=document.createElement("div");u.setAttribute("style",
"visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");f=0;for(e=r.length;f<e;++f)q=document.createElement("span"),q.textContent="Hi",q.style.fontFamily=r[f],u.appendChild(q);document.body.appendChild(u);var v=this;d(p,function(){document.body.removeChild(u);s.remove();for(var a=0;a<v.fonts.length;a++)b(v.fonts[a].name);v.fonts=[]})},zG:function(b,a,d){var f=document.createElement("div");f.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");
f.innerHTML=""+('<span style="font-family:'+b+'">" + testString +"</span>');document.body.appendChild(f);$.get(a,function(){setTimeout(function(){d();document.body.removeChild(f)},300)})}};if(document.fonts){var f=d,d=function(){f.apply(this,arguments);this.Ys=new window.FontFace(this.name,this.url,{})};d.prototype=f.prototype;$.extend(d.prototype,{tf:function(){document.fonts.add(this.Ys);a.Bg[this.name]=this},remove:function(){document.fonts.delete(this.Ys)}});$.extend(e.prototype,{Jz:function(b){this.fonts.forEach(function(a){a.Ys.load().then(function(){b(a.name)})["catch"](function(){b(a.name);
console.warn("font failed to load"+a.name)})})}})}a.Ah={FontFace:d,EB:e}})(window);
(function(a){function e(a,b,c){this.page=a;this.Ei=b;this.wf=c;this.zy=b.sb.gd.path;this.yi=this.paused=!1}var d={we:0,$c:1,ki:2,Jd:3};a.asc=function(a){var b=0.707106781*a.m_a+0.707106781*a.m_b;a=0.707106781*a.m_c+0.707106781*a.m_d;return Math.sqrt(b*b+a*a)};e.prototype={pause:function(){this.paused=!0;this.ws()},ws:function(){this.Cp=!1;clearTimeout(this.Kz)},gE:function(f,b,c,g,h,e,m){function l(){B=!0;r.cB(function(){if(p.abort){if(A)return v&&(v=!1,g(q)),r=p.qh=null,p.ws(),p.abort&&p.abort(),
c(q);r.bB();p.abort&&(++w,A=r.run(s,u,!0),B=!1,p.Cp=!1,p.paused||p.jq())}})}var p=this;b=b||d.we;c=c||function(){};var r=this.Ei.jf;h&&(0<h&&(h=Math.round(h)));f=a.k.Wa.KA(this.page,f||1,b,e,h,m);var q=f.canvas,s=f.ctx,u=f.t,v=void 0!==g,w=0,x=setTimeout(function(){},a.aj?2E3:6E3);p.abort=function(){B=!1;p.ws();p.Kz=null;p.qh=null;r&&(r.cancel(),r=null);p.Ei.jf=null;clearTimeout(x);p.jq=null;p.abort=null};var A=!1;p.qh=function(){!1!==B||(p.Cp||p.jq());p.paused=!1};p.jq=function(){p.Cp=!0;p.Kz=setTimeout(l,
0)};var B=!1;p.Cp=!1;p.paused||p.jq()},iz:function(a){var b=[];if(a)for(var c=0;c<a.length;++c)b[c]=this.Ei.sb.fi(a[c]);else _(this.Ei.zk).each(function(a){b.push(a)});return b},CG:function(d,b,c){function g(b){var c=m.wf.tp(b.name);h(b);switch(b.type){case "png":case "jpg":if(a.ci[b.name]){if(c){e(b.name);break}a.ci[b.name].Tg.push(function(){e(b.name)});break}var d=new Image;d.onload=function(){for(var b=0;b<this.Tg.length;++b)this.Tg[b]();d.Tg=[];d=d.onload=d.onerror=null};d.onerror=function(){a.utils.warn("img error "+
b.name);for(var c=0;c<this.Tg.length;++c)this.Tg[c]();d.Tg=[];d=d.onload=d.onerror=null};d.hres=b.hres;d.vres=b.vres;a.ci[b.name]=d;d.Tg=[];d.Tg[0]=function(){e(b.name)};d.Lc=m.Ei.Di;d.src=b.data;break;case "font":_.isUndefined(m.zy)?p.AD(b.data):p.zG(b.name,m.zy+b.qa,function(){e(b.name)});break;default:a.utils.warn("unknown resource type: "+b.type),e(b.name)}}function h(b){c&&m.wf.xD(b.name)}function e(a){m.wf.loaded(a);if(m.yi&&1>--l)return m.yi=!1,d(b[0])}if(this.yi)throw Error("Multiple calls to loadResource");
var m=this;b=this.iz(b);var l=b.length;this.yi=!0;var p=new a.Ah.EB,r=!0;_(b).each(function(b){r=!1;m.wf.tp(b.name)?(h(b),e(b.name)):b.data?g(b):m.Ei.sb.nf(b.qa,function(a){m.wf.tp(b.name)?(h(b),e(b.name)):g(m.Ei.sb.fi(a.qa,a.data))})});p.XF()&&p.Jz(_(e).bind(this));r&&(d(),this.yi=!1)},Nx:function(){this.yi&&(this.yi=!1)},Le:function(d){var b=this;b.Nx();d=this.iz(d);_(d).each(function(c){if("font"!==c.type&&b.wf.release(c.name))switch(c.type){case "png":case "jpg":delete a.ci[c.name];break;case "font":c.data&&
c.data.remove()}})}};a.Ue=a.Ue||{};a.Ue.mC=e;a.Ue.Fv=function(){var a={};return{xD:function(b){b in a?a[b].c++:a[b]={c:1,l:!1}},loaded:function(b){b in a&&(a[b].l=!0)},Bz:function(b){return b in a?!0:!1},tp:function(b){return b in a?a[b].l:!1},release:function(b){if(!(b in a))return!1;a[b].c-=1;return a[b].c?!1:(delete a[b],!0)}}};a.k.sa=d;a.Qc=function(f,b,c,g,h,e){g=g||{x:0,y:0};c.width?(c.x1=0,c.y1=0,c.x2=c.width,c.y2=c.height):(c.width=c.x2-c.x1,c.height=c.y2-c.y1);var m=new XODText.Oa;_.isUndefined(h)&&
(h=!0);h&&(h=e||a.utils.getCanvasMultiplier(c.width*f,c.height*f,f),f*=h,g.x*=h,g.y*=h);m.Ya(f,0,0,f,g.x,g.y);f=new XODText.Oa;b===d.we?f.Ya(1,0,0,1,-c.x1,-c.y1):b===d.$c?f.Ya(1,0,0,1,c.y2,-c.x1):b===d.ki?f.Ya(1,0,0,1,c.x2,c.y2):b===d.Jd&&f.Ya(1,0,0,1,-c.y1,c.x2);m.concat(f);m.concat(XODText.Oa.Ji(Math.PI/2*(4-b)));return m}})(window);
(function(a){a.Actions||(a.Actions={});var e=a.Actions;e.Action=function(a){_.isObject(a)&&(_.isString(a.name)&&(this.bf=a.name))};e.Action.prototype={elementName:null,onTriggered:function(){},serialize:function(){return document.createElementNS("",this.elementName)},deserialize:function(){}};Object.defineProperties(e.Action.prototype,{name:{get:function(){return this.elementName}}});e.Te=function(a){e.Action.call(this,a);this.ol=new e.Te.Lq;_.isObject(a)&&this.ol.set(a.dest)};e.Te.prototype={elementName:"GoTo",
onTriggered:function(a,b,c){e.Action.prototype.onTriggered.call(this,a,b,c);this.ol.KD(c)},serialize:function(a){var b=e.Action.prototype.serialize.call(this,a);$(b).append(this.ol.serialize(a));return b},deserialize:function(a,b){e.Action.prototype.deserialize(a,b);this.ol.deserialize(a,b)}};e.Te.prototype=$.extend(Object.create(e.Action.prototype),e.Te.prototype);Object.defineProperties(e.Te.prototype,{dest:{get:function(){return this.ol}}});e.Te.Lq=function(a){this.yl=1;this.ql="Fit";this.rd=this.Ye=
this.cf=this.Gd=this.Ed=null;this.set(a)};e.Te.Lq.prototype={set:function(a){if(_.isObject(a)){_.isUndefined(a.page)||(this.yl=Number(a.page));var b=a.fit;_.isString(b)&&(this.ql=b);switch(b){case "XYZ":_.isUndefined(a.left)||(this.Ed=Number(a.left));_.isUndefined(a.top)||(this.Gd=Number(a.top));_.isUndefined(a.zoom)||(this.rd=Number(a.zoom));break;case "FitBH":case "FitH":_.isUndefined(a.top)||(this.Gd=Number(a.top));break;case "FitBV":case "FitV":_.isUndefined(a.left)||(this.Ed=Number(a.left));
break;case "FitR":_.isUndefined(a.left)||(this.Ed=Number(a.left));_.isUndefined(a.top)||(this.Gd=Number(a.top));_.isUndefined(a.right)||(this.cf=Number(a.right));_.isUndefined(a.bottom)||(this.Ye=Number(a.bottom));a=_.min([this.Ed,this.cf]);var b=_.min([this.Gd,this.Ye]),c=_.max([this.Ed,this.cf]),d=_.max([this.Gd,this.Ye]);this.Gd=b;this.Ed=a;this.Ye=d;this.cf=c}}},serialize:function(a){var b=document.createElementNS("","Dest"),c=document.createElementNS("",this.ql),d=this.Gd||0,h=this.Ed||0,e=this.Ye||
0,m=this.cf||0;a=a.inverse();h=a.O({x:h,y:d});e=a.O({x:m,y:e});d=_.isNull(this.Gd)?null:h.y;h=_.isNull(this.Ed)?null:h.x;m=_.isNull(this.cf)?null:e.x;e=_.isNull(this.Ye)?null:e.y;_.isNull(this.yl)||c.setAttribute("Page",this.yl);_.isNull(this.rd)||c.setAttribute("Zoom",this.rd);d&&c.setAttribute("Top",d);h&&c.setAttribute("Left",h);m&&c.setAttribute("Right",m);e&&c.setAttribute("Bottom",e);switch(this.ql){case "XYZ":_.isNull(h)&&c.setAttribute("Left","");_.isNull(d)&&c.setAttribute("Top","");_.isNull(this.rd)&&
c.setAttribute("Zoom","");break;case "FitBH":case "FitH":_.isNull(d)&&c.setAttribute("Top","");break;case "FitBV":case "FitV":_.isNull(h)&&c.setAttribute("Left","");break;case "FitR":_.isNull(h)&&c.setAttribute("Left",""),_.isNull(d)&&c.setAttribute("Top",""),_.isNull(m)&&c.setAttribute("Right",""),_.isNull(e)&&c.setAttribute("Bottom","")}$(b).append(c);return b},deserialize:function(a,b){var c=Annotations.da,d=c.getAttribute(a,"PageNum"),h,e,m,l,p,r;e=c.getAttribute(a,"Hpos");h=c.getAttribute(a,
"Vpos");var q=a.getElementsByTagName("Dest");if(!d||0<q.length)if(q=q[0],q=c.kt(q))d=c.getAttribute(q,"Page"),r=c.pt(q),h=c.getAttribute(q,"Top"),e=c.getAttribute(q,"Left"),m=c.getAttribute(q,"Right"),l=c.getAttribute(q,"Bottom"),p=c.getAttribute(q,"Zoom");c=b.O({x:e||0,y:h||0});q=b.O({x:m||0,y:l||0});h=_.isNull(h)?void 0:c.y;e=_.isNull(e)?void 0:c.x;m=_.isNull(m)?void 0:q.x;l=_.isNull(l)?void 0:q.y;this.set({page:_.isNull(d)?void 0:d,fit:_.isNull(r)?void 0:r,top:h,left:e,right:m,bottom:l,zoom:_.isNull(p)?
void 0:p})},KD:function(a){var b=this.Gd||0,c=this.Ed||0,d=this.yl||1;switch(this.ql){case "XYZ":this.rd&&a.hv(this.rd);a.Ml(d,b,c);break;case "Fit":case "FitB":case "FitV":case "FitBV":a.wd(d);a.Gu(a.Se.rv);break;case "FitH":case "FitBH":a.wd(d);a.Gu(a.Se.Pq);a.Ml(d,b,0);break;case "FitR":var h=this.cf&&this.Ed?Math.abs(this.cf-this.Ed):null,e=this.Ye&&this.Gd?Math.abs(this.Ye-this.Gd):null,h=h?a.dc().innerWidth()/h:Infinity,e=e?a.dc().innerHeight()/e:Infinity,e=Math.min(h,e);Infinity!==e&&a.hv(e);
a.Ml(d,b,c);break;default:a.wd(d)}}};Object.defineProperties(e.Te.Lq.prototype,{page:{get:function(){return this.yl},set:function(a){this.set({page:a})}},fit:{get:function(){return this.ql}},top:{get:function(){return _.isNull(this.Gd)?void 0:this.Gd}},left:{get:function(){return _.isNull(this.Ed)?void 0:this.Ed}},bottom:{get:function(){return _.isNull(this.Ye)?void 0:this.Ye}},right:{get:function(){return _.isNull(this.cf)?void 0:this.cf}},zoom:{get:function(){return _.isNull(this.rd)?void 0:this.rd}}});
e.pj=function(a){e.Action.call(this,a);this.Cl="";_.isObject(a)&&(_.isString(a.uri)&&(this.Cl=a.uri))};e.pj.prototype={elementName:"URI",onTriggered:function(a,b,c){e.Action.prototype.onTriggered.call(this,a,b,c);a=this.Cl;0!==a.indexOf("http://")&&(0!==a.indexOf("https://")&&(0!==a.indexOf("ftp://")&&(0!==a.indexOf("mailto:")&&(0!==a.indexOf("tel:")&&(a=-1!==a.indexOf("@")?"mailto:"+a:"http://"+a)))));window.open(a)},deserialize:function(a,b){e.Action.prototype.deserialize.call(this,a,b);var c=Annotations.da,
d=c.getAttribute(a,"Target");_.isNull(d)&&(d=c.kt(a),d=c.getAttribute(d,"Name"));this.Cl=d},serialize:function(a){a=e.Action.prototype.serialize.call(this,a);a.setAttribute("Name",this.Cl);return a}};e.pj.prototype=$.extend(Object.create(e.Action.prototype),e.pj.prototype);Object.defineProperties(e.pj.prototype,{uri:{get:function(){return this.Cl}}});e.fj=function(a){e.Action.call(this,a);this.qj="";_.isObject(a)&&(_.isString(a.action)&&(this.qj=a.action))};e.fj.prototype={elementName:"Named",onTriggered:function(a,
b,c){e.Action.prototype.onTriggered.call(this,a,b,c);switch(this.qj){case "NextPage":c.wd(c.mi()+1);break;case "PrevPage":c.wd(c.mi()-1);break;case "FirstPage":c.wd(1);break;case "LastPage":c.wd(c.ud());break;default:console.warn("Invalid named action name: "+this.qj)}},deserialize:function(a,b){e.Action.prototype.deserialize.call(this,a,b);var c=Annotations.da,d=c.getAttribute(a,"N");_.isNull(d)&&(0<a.getElementsByTagName("Named").length&&(d=c.getAttribute(a.getElementsByTagName("Named")[0],"Name")));
this.qj=d},serialize:function(a){a=e.Action.prototype.serialize.call(this,a);a.setAttribute("Name",this.qj);return a}};e.fj.prototype=$.extend(Object.create(e.Action.prototype),e.fj.prototype);Object.defineProperties(e.fj.prototype,{action:{get:function(){return this.qj}}});e.cj=function(a){e.Action.call(this,a);this.qr=this.Qn=null;this.set(a)};e.cj.prototype={elementName:"JavaScript",set:function(a){_.isObject(a)&&(_.isString(a.javascript)&&(this.Qn=a.javascript))},onTriggered:function(a,b,c){e.Action.prototype.onTriggered.call(this,
a,b,c);a=c.getDocument().tl;this.qr||(this.qr=a.Rj(this.Qn,c));a.Ak(this.qr,b,c)},deserialize:function(a,b){e.Action.prototype.deserialize.call(this,a,b);var c=Annotations.da.getAttribute(a,"JavaScript");c||(c=a.getElementsByTagName("JavaScript")[0].textContent);this.set({javascript:c})},serialize:function(a){a=e.Action.prototype.serialize.call(this,a);$(a).text(this.Qn);return a}};e.cj.prototype=$.extend(!0,new e.Action,e.cj.prototype);Object.defineProperties(e.cj.prototype,{javascript:{get:function(){return this.Qn||
""}}});e.Dh=function(a){e.Action.call(this,a);this.Jg=!1;this.$a=null;_.isObject(a)&&(_.isArray(a.fields)&&(this.$a=a.fields.slice()),_.isUndefined(a.exclude)||(this.Jg=!!a.exclude))};e.Dh.prototype={elementName:"ResetForm",onTriggered:function(a,b,c){e.Action.prototype.onTriggered.call(this,a,b,c);var d=this,h=c.ad().ni();this.Jg||_.isNull(this.$a)?h.Wm({Np:function(b,a,c){d.$a&&-1!==d.$a.indexOf(b)||c.pA()}}):this.$a.forEach(function(b){var a=h.kb(b);a?a.pA():console.warn("Missing field during reset:",
b)})},deserialize:function(a,b){e.Action.prototype.deserialize.call(this,a,b);var c=Annotations.da,d=[],h=!0;_.isNull(c.getAttribute(a,"ResetFields"))?_.isNull(c.getAttribute(a,"ResetExcludedFields"))?0<a.getElementsByTagName("ResetForm").length&&(a=a.getElementsByTagName("ResetForm")[0],(d=c.getAttribute(a,"Fields"))&&(d=d.split(",")),c=parseInt(c.getAttribute(a,"Flags"),10),_.isNull(d)||_.isUndefined(d)?(d=[],h=!0):h=1===c?!0:!1):(d=c.getAttribute(a,"ResetExcludedFields").split(","),h=!0):(d=c.getAttribute(a,
"ResetFields").split(","),h=!1);this.$a=d;this.Jg=!!h},serialize:function(a){a=e.Action.prototype.serialize.call(this,a);this.$a&&a.setAttribute("Fields",this.$a.join(","));a.setAttribute("Flags",this.Jg?1:0);return a}};e.Dh.prototype=$.extend(Object.create(e.Action.prototype),e.Dh.prototype);Object.defineProperties(e.Dh.prototype,{fields:{get:function(){return this.$a}},exclude:{get:function(){return this.Jg}}});e.Fh=function(d){e.Action.call(this,d);this.jo="";this.$a=[];this._format="xfdf";this.Kn=
!1;this._method="POST";this.Jg=!1;this.Db=new a.Annotations.Ig({mask:"IncludeNoValueFields IncludeAppendSaves IncludeAnnotations CanonicalFormat WxclNonUserAnnots ExclFKey EmbedForm".split(" ")});this.set(d)};e.Fh.prototype={elementName:"SubmitForm",set:function(a){_.isObject(a)&&(a.url&&(this.jo=String(a.url)),_.isArray(a.fields)&&(this.$a=a.fields.slice()),a.format&&(this._format=a.format),a.includeEmpty&&(this.Kn=!!a.includeEmpty),a.flags&&this.Db.set(a.flags),a.method&&(this._method=String(a.method)),
a.exclude&&(this.Jg=!!a.exclude))},onTriggered:function(a,b,c){e.Action.prototype.onTriggered.call(this,a,b,c);var d=this,h=[];a=c.ad();var n=a.ni();0<this.$a.length?this.$a.forEach(function(b){h.push(n.kb(b))}):n.$s(function(b){_.isNull(b.value)&&!d.Kn||h.push(b)});b="";"xfdf"===this._format?b=a.Yh.vC(h):("fdf"===this._format&&console.warn("FDF Export is not supported. Defaulting to export as HTML Forms"),b=a.Yh.wC(h));$.ajax({type:"POST",url:this.jo,data:b,success:function(b){var a=window.open();
_.isNull(a)||_.isUndefined(a)?console.warn("Form popup blocked"):a.document.write(b)},error:function(){console.warn("Failed to submit form data to server.")}})},deserialize:function(a,b){e.Action.prototype.deserialize.call(this,a,b);var c=Annotations.da,d=a.getElementsByTagName("SubmitForm"),h="SubmitURL",n="SubmitFields",m="SubmitFlag";0<d.length&&(a=d[0],h="URL",n="Fields",m="Flags");d=c.getAttribute(a,h);h=null;_.isNull(c.getAttribute(a,n))||(h=c.getAttribute(a,n).split(","));n=0;_.isNull(c.getAttribute(a,
m))||(n=parseInt(c.getAttribute(a,m),10));c="fdf";n&4&&(c="html");n&32&&(c="xfdf");this.set({url:d,fields:h||void 0,format:c,flags:0!==(n&2)?["IncludeNoValueFields"]:[]})},serialize:function(a){a=e.Action.prototype.serialize.call(this,a);a.setAttribute("Fields",this.$a.join(","));a.setAttribute("Flags",("xfdf"===this._format?32:0)|("html"===this._format?4:0)|(this.Kn?2:0));a.setAttribute("URL",this.jo);return a}};e.Fh.prototype=$.extend(Object.create(e.Action.prototype),e.Fh.prototype);Object.defineProperties(e.Fh.prototype,
{url:{get:function(){return this.jo}},fields:{get:function(){return this.$a}},format:{get:function(){return this._format}},includeEmpty:{get:function(){return this.Kn}},flags:{get:function(){return this.Db},set:function(a){this.Db.set(a)}},method:{get:function(){return this._method}},exclude:{get:function(){return this.Jg}}});e.bj=function(a){e.Action.call(this,a);this.$a=[];this._hide=!0;this.set(a)};e.bj.prototype={elementName:"Hide",set:function(a){_.isObject(a)&&(_.isArray(a.fields)&&(this.$a=
a.fields.slice()),_.isUndefined(a.hide)||(this._hide=!!a.hide))},onTriggered:function(a,b,c){e.Action.prototype.onTriggered.call(this,a,b,c);var d=c.ad().ni(),h=this;this.$a.forEach(function(b){d.kb(b).tg(!h.hide)})},deserialize:function(a,b){e.Action.prototype.deserialize.call(this,a,b);var c=Annotations.da,d=!0,h=[];_.isNull(c.getAttribute(a,"HideField"))?0<a.getElementsByTagName("Hide").length?(a=a.getElementsByTagName("Hide")[0],h=c.getAttribute(a,"Fields").split(","),d="false"===c.getAttribute(a,
"Hide")?!1:!0):(h=[c.getAttribute(a,"ShowField")],d=!1):h=[c.getAttribute(a,"HideField")];this._hide=d;this.$a=h},serialize:function(a){a=e.Action.prototype.serialize.call(this,a);a.setAttribute("Fields",this.IK.join(","));a.setAttribute("Hide",this.hide?"true":"false");return a}};e.bj.prototype=$.extend(Object.create(e.Action.prototype),e.bj.prototype);Object.defineProperties(e.bj.prototype,{fields:{get:function(){return this.$a}},hide:{get:function(){return this._hide}}});e.qv=function(){this.hx=
{GoTo:e.Te,URI:e.pj,Named:e.fj,JavaScript:e.cj,ResetForm:e.Dh,SubmitForm:e.Fh,Hide:e.bj}};e.qv.prototype={gG:function(a){if(_.isObject(a)){var b=this.hx[a.name];return b?new b(a):null}},hG:function(a,b){var c=Annotations.da.YE(a);return(c=this.hx[c])?(c=new c,c.deserialize(a,b),c):null}};var d=new e.qv;e.OK=function(){return d};e.Cf=function(a){this.Mh={};this.vr=null;_.isObject(a)&&(_.isObject(a.actions)&&this.ko(a.actions))};e.Cf.prototype={ko:function(a){if(_.isObject(a))for(var b in a)if(a.hasOwnProperty(b))for(var c=
a[b].length,d=0;d<c;++d)this.Zh(b,a[b][d])},Zh:function(a,b){var c=this.Mh[a]||[];if(b instanceof e.Action)-1===c.indexOf(b)&&c.push(b);else if(_.isObject(b)){var g=d.gG(b);g&&c.push(g)}this.Mh[a]=c},li:function(){return this.Mh},Rd:function(a,b){var c=this.Mh[a];if(c)for(var d=c.length,h=0;h<d;++h)c[h].onTriggered(this,b,this.vr)},zf:function(a){this.vr=a},$j:function(){return this.vr},IH:function(a,b,c){function d(a,c){c.forEach(function(c){var d=document.createElementNS("","Action");d.setAttribute("Trigger",
a);var g=$(d);if(c=c.serialize(b))g.append(c),e=!0;$(h).append(d)})}var h;h=c?c:document.createElementNS("","OnActivation");var e=!1,m;for(m in this.Mh)this.Mh.hasOwnProperty(m)&&d(m,this.Mh[m]);e&&(!c&&$(a).append(h))},vx:function(a,b){for(var c=Annotations.da,g=c.XE(a),h=g.length,e=0;e<h;++e){var m=g[e],l=c.getAttribute(m,"Trigger")||"U";(m=d.hG(m,b))&&this.Zh(l,m)}}}})(window);
(function(a){function e(a,b){return a-b}function d(b,c){a.Actions.Cf.call(this);this.width=b;this.height=c;this.text=null;this.$p=[];this.links=[];this.cd=null}function f(b,c,d,l,g,h){var f={getZoom:function(){return 1},getPageRotation:function(){return a.k.sa.we},finishedLoading:function(){return!0},acquireResources:function(){return!0},resourcesLoaded:function(){return!0},getPageTransform:function(){},drawProgressive:function(){},drawComplete:function(){},onError:function(){}};_.isObject(b)?(f=
$.extend(f,b),f.zoom&&(f.getZoom=function(){return f.zoom}),f.pageRotation&&(f.getPageRotation=function(){return f.pageRotation})):f=$.extend(f,{pageIndex:b,getZoom:function(){return c},getPageRotation:function(){return d},drawProgressive:g,drawComplete:l,canvasNum:h});return f}function b(){console.warn("Function not implemented.")}function c(a){a in this.hk?(clearTimeout(this.hk[a]),delete this.hk[a]):this.Na.ms(a)}var g=window.k,h=a.k.Q.ll,n=a.k.Q.Mq;a.ci=a.ci||{};a.k.pn={VB:0,WB:1,jC:2};d.prototype=
$.extend({$H:function(a){this.height=a.height;this.width=a.width;this.cd=a.matrix;this.rotation=a.rotation;this.id=a.id;this.fb=a.pageNum}},Object.create(a.Actions.Cf.prototype));var m=1E3;a.k.GA=function(a){m=a};a.k.Zq=function(b){a.Xi=524288*b*b;a.mv=524288*b*b;a.aj=3*b;switch(b){case 0:a.aj=0;a.Xi=0;a.mv=0;break;case 1:a.aj=0,a.Xi=0}};a.k.Gv=function(b){a.Ep=1+2*(b-1);a.Fp=b-1;0>a.Ep&&(a.Ep=0);0>a.Fp&&(a.Fp=0)};a.k.Zq(6);a.k.Gv(5);g.me=function(a,b,c,d,l,g,h){this.children=a;this.name=b;this.Di=
c;this.parent=d;this.Ok=l||0;this.gk=g||0;this.url=h};g.me.prototype={Ny:function(){return this.children},getName:function(){return this.name},Ib:function(){return this.Di},ip:function(){return this.url},getParent:function(){return this.parent},RF:function(){return this.Ok},mF:function(){return this.gk},isValid:function(){return!!this.url||_.isNumber(this.Di)}};var l=Backbone.Model.extend({defaults:{title:"",tK:null,LL:null,gL:null,sK:null,Yt:null,description:null,BL:null}});g.ma=function(b,c){a.Actions.Cf.call(this);
this.tl=a.Annotations.N.Bb.kE();_.isUndefined(c)?this.u=new g.kl(b):"pdf"===c&&(this.u=new g.cl);var d=this;this.u.ZH(function(a){d.trigger(a.type,[a.data])})};g.ma.prototype={Pj:function(a){return this.u.Pj.apply(this.u,arguments)},SG:function(a){this.tl.lJ(a)},Wf:function(a){return this.u.Wf.apply(this.u,arguments)},Um:function(a){return this.u.Um.apply(this.u,arguments)},yo:function(){return this.u.yo.apply(this.u,arguments)},Wl:function(){return this.u.Wl.apply(this.u,arguments)},Zo:function(a){this.u.Zo.apply(this.u,
arguments)},bp:function(){return this.u.bp.apply(this.u,arguments)},ud:function(){return this.u.ud.apply(this.u,arguments)},Jc:function(a){var b={};b.width=this.u.J[a].width;b.height=this.u.J[a].height;return b},dp:function(a,b,c){return this.u.dp.apply(this.u,arguments)},yt:function(a,b,c,d){return this.u.yt.apply(this.u,arguments)},lp:function(a,b,c){return this.u.lp.apply(this.u,arguments)},Ct:function(a,b,c){return this.u.Ct.apply(this.u,arguments)},jk:function(){return this.u.jk.apply(this.u,
arguments)},qm:function(a){return this.u.qm.apply(this.u,arguments)},mk:function(){return this.u.mk()},kh:function(a,b,c){var d=this;return this.u.kh.call(this.u,a,function(a){for(var c=d.qb(),l=c.length,g=d.$j(),h=0;h<l;++h)c[h].zf(g);b(a)},c)},lg:function(a,b,c,d,l,g){return this.u.lg.apply(this.u,arguments)},Vt:function(a,b){return this.u.Vt.apply(this.u,arguments)},No:function(a){return this.u.No.apply(this.u,arguments)},xm:function(a){return this.u.xm.apply(this.u,arguments)},pk:function(a,b){return this.u.pk.apply(this.u,
arguments)},Qp:function(a){return this.u.Qp.apply(this.u,arguments)},bq:function(a){return this.u.bq.apply(this.u,arguments)},ck:function(){return this.u.ck.apply(this.u,arguments)},kq:function(a){return this.u.kq.apply(this.u,arguments)},pq:function(a,b){return this.u.pq.apply(this.u,arguments)},Le:function(){this.tl.Ic();return this.u.Le.apply(this.u,arguments)},ok:function(a,b){return this.u.ok.apply(this.u,arguments)},Bp:function(a,b){return this.u.Bp.apply(this.u,arguments)},vp:function(){return this.u.vp.apply(this.u,
arguments)},di:function(a){return this.u.di.apply(this.u,arguments)},fe:function(a,b){return this.u.fe.apply(this.u,arguments)},lf:function(a){return this.u.lf.apply(this.u,arguments)},kk:function(a,b,c){return this.u.kk.apply(this.u,arguments)},ym:function(a,b){return this.u.ym.apply(this.u,arguments)},wk:function(a){return this.u.wk.apply(this.u,arguments)},Wj:function(){return this.u.Wj.apply(this.u,arguments)},Om:function(a,b){return this.u.Om.apply(this.u,arguments)},Xj:function(a,b){return this.u.Xj.apply(this.u,
arguments)},Tj:function(a,b,c,d,l){return this.u.Tj.apply(this.u,arguments)},bk:function(){return this.u.bk.apply(this.u,arguments)},iq:function(a){return this.u.iq.apply(this.u,arguments)},lq:function(a){return this.u.lq.apply(this.u,arguments)},get numPages(){return this.u.J.length},Sb:function(a){return this.u.J[a].width},Rb:function(a){return this.u.J[a].height},mf:function(a){return this.u.J[a].cd},ep:function(a){return this.u.ep.apply(this.u,arguments)},dm:function(){return this.u.dm.apply(this.u,
arguments)},em:function(a){return this.u.J[a].rotation},ez:function(a){return this.u.J[a].text},hI:function(a,b){this.u.J[a].text=b},yF:function(a){return this.u.J[a].po},qb:function(){var a=this;this.u.J.forEach(function(b){b.zf(a.$j())});return this.u.J},rm:function(a,b,c){return this.u.rm.apply(this.u,arguments)},Li:function(a){this.u.Li.apply(this.u,arguments)},print:function(a){this.u.print.apply(this.u,arguments)}};$.extend(g.ma.prototype,Object.create(a.Actions.Cf.prototype),a.utils.eventHandler);
g.bn=function(){throw Error("Cannot initialize BaseDocument");};g.bn.prototype={Pj:b,Wf:b,Um:b,yo:b,Wl:b,Zo:b,bp:b,ud:b,Jc:b,ZH:function(a){this.vy=a},Qo:function(a){this.vy&&this.vy(a)},dp:function(a,b,c){b={x:b,y:c};return this.J[a].cd.inverse().O(b)},yt:function(a,b,c,d){if(c<=b)return console.error("End index must be greater than start index");this.fe(a,function(a){a=a.Md();var l=8*b,g=8*c;if(l>a.length||g>a.length)return console.error("Index out of bounds");for(var h=[];l<g;l+=8)h.push({x1:a[l],
y1:a[l+1],x2:a[l+2],y2:a[l+3],x3:a[l+4],y3:a[l+5],x4:a[l+6],y4:a[l+7]});d(h)})},lp:b,Ct:function(a,b,c){return this.J[a].cd.O({x:b,y:c})},jk:b,qm:b,mk:b,kh:b,lg:b,No:b,xm:b,Vt:function(a,b){this.fe(a,function(a){b(a.eb)})},pk:b,Qp:b,bq:b,kq:b,pq:b,Le:b,ok:b,Bp:b,di:b,vp:function(){return!1},Es:function(b,c){var d=this.J[b],d=a.Qc(1,(4-d.rotation/90)%4,d,{x:0,y:0},!1);c.HD(d)},fe:b,lf:b,kk:b,wk:b,Wj:b,Qm:b,Xj:b,Tj:b,Li:function(){},print:function(){},ep:function(a){return String(a)},dm:function(){return _.range(0,
this.J.length).map(String)},ck:b,bk:b,iq:b,lq:b,ks:function(){for(var b=1,c=this.J.length,d=a.utils.getCanvasMultiplier(),d=d*d,l=0;l<c;++l)var g=this.J[l],b=Math.max(b,g.width*g.height*d);return Math.sqrt(8E6/b)},vo:function(a){return 0===a.m_b&&0===a.m_c?0<a.m_a?0:180:0>a.m_b?270:90},js:function(a,b){var c=this.vo(a),d=b.w,l=b.ee;if(90===c||270===c)var g=d,d=l,l=g;switch(c){case 0:return c=-a.m_h,g=a.m_v,{x1:c,y1:g-l,x2:g-l,y2:g};case 90:return g=-a.m_h,c=-a.m_v,{x1:c,y1:g,x2:c+d,y2:g+l};case 180:return c=
a.m_h,g=-a.m_v,{x1:c-d,y1:g,x2:c,y2:g+l};case 270:return g=a.m_h,c=a.m_v,{x1:c-d,y1:g-l,x2:c,y2:g}}return null}};g.kl=function(b){this.rj=this.xb=null;this.Or=new a.Ue.Fv;this.id=b;this.Lp=!1;this.Pd=null;this.Sg={};this.eu=_.bind(this.eu,this);this.Oo=null;this.xg=1};g.kl.prototype=Object.create(g.bn.prototype);g.kl.prototype.constructor=g.kl;$.extend(g.kl.prototype,{Re:"Document/FixedDocument.fdoc",Af:"Document/DocProps/core.xml",Pe:"Document/Structure/DocStruct.struct",BB:"Struct/font.xml",BC:"Struct/",
AC:"Text/",kh:function(b,c,d){this.xb=b;this.ai=[];this.Gp=new l;this.J=[];this.Ac={};this.Ac[this.Re]=0;this.Ac[this.Af]=0;this.Ac[this.Pe]=0;this.xb.Nm()&&(this.Fm={});var g=this,h;h=d&&d.annotsLoadedCallback?d.annotsLoadedCallback:function(){};b.bind("partReady",this.eu);this.bind("documentReady",function(a){1.2===g.xg?(g.jD(),c(a),h()):g.sb.nf("Annots.xfdf",function(b){b=b.data;var d="",l=0,f=0,e=0,p=0;for(2<=b.length&&("{"===b.charAt(0)&&("}"===b.charAt(1)&&(b=b.substr(2))));l<b.length;)f=b.charCodeAt(l),
9===f?(d+=String.fromCharCode(10),l++):128>f?(d+=String.fromCharCode(f),l++):191<f&&224>f?(e=b.charCodeAt(l+1),d+=String.fromCharCode((f&31)<<6|e&63),l+=2):(e=b.charCodeAt(l+1),p=b.charCodeAt(l+2),d+=String.fromCharCode((f&15)<<12|(e&63)<<6|p&63),l+=3);b=d;g.J[0].po=b;g.kD(b);c(a);h(b)})});b instanceof a.k.Q.il?(this.Lp=!0,this.qm(function(){b.db=g.Pd;b.Yp(c)})):b.Yp(c)},Bp:function(b,c,d){var l=this;if(!this.sb)throw Error("Document is not initialized!");1.2===this.xg&&(this.sb.du=!0);this.sb.dz(b,
c,function(c,g){var h=new a.Ue.mC(l.J[b],g,l.Or);d(c,h)})},ok:function(a,b){if(!this.sb)throw Error("Document is not initialized!");return this.sb.nf(a,b)},AG:function(a){var b=this;null===b.Oo?b.ok(b.BB,function(c){if(c.error)throw Error("SELECT: Error getting part "+c.qa+": "+c.error);var d=new XODText.Qq;d.ru(c.data);b.Oo=d.Zs;a(b.Oo)}):a(b.Oo)},fe:function(a,b){var c=this;1.4>c.xg?null===c.J[a].text?c.ok(c.AC+(a+1)+".xml",function(d){if(d.error)throw Error("SELECT: Error getting part "+d.qa+": "+
d.error);var l=new XODTextOld.Gf;l.eG(d.data);d=new XODText.Gf;d.Yz(l);c.Es(a,d);c.J[a].text=d;b(d)}):b(c.J[a].text):c.AG(function(d){null===c.J[a].text?c.ok(c.BC+(a+1)+".xml",function(l){var g=new XODText.Gf,h=new XODText.Oa;h.Ya(1,0,0,1,0,0);var f=new XODText.Yq(d);c.sb.dz(a,_.uniqueId(),function(d,e){var n=e.jf.clone(),m=!1;try{do m=n.run(f,h,!0);while(!m)}catch(s){console.warn("Custom Canvas has encountered an error: "+s.message);return}g.ru(l.data,f);c.Es(a,g);c.J[a].text=g;b(g)})}):b(c.J[a].text)})},
vp:function(){return 1.2>=this.xg},jk:function(){return this.km},lg:function(a,b,c,d,l,g){var h=this,e=f(a,b,c,d,l,g),n=_.uniqueId();h.Sg[n]={xi:null,paused:!1,Lc:e.pageIndex};h.Bp(e.pageIndex,n,function(a,b){if(a)throw Error("Error loading page %d:",e.pageIndex);_.isUndefined(h.Sg[n])||(h.Sg[n].xi=b,h.Sg[n].paused&&b.pause(),e.finishedLoading(a,b)&&b.CG(function(){e.resourcesLoaded()&&b.gE(e.getZoom(),e.getPageRotation(),function(a){e.drawComplete(a,e.pageIndex)},function(a){e.drawProgressive(a,
e.pageIndex)},e.canvasNum,e.getPageTransform(),e.renderRect)},void 0,e.acquireResources()))});return n},Qp:function(a){if(a=this.Sg[a])a.paused=!0,a.xi&&a.xi.pause()},bq:function(a){if(a=this.Sg[a])a.paused=!1,a.xi&&(a.xi.qh&&a.xi.qh())},Um:function(a){this.Wf(a)},Wf:function(a){var b=this.Sg[a];b&&((this.ms(b.Lc,a),b=b.xi)&&(b.Le(),b.abort&&b.abort()));this.di(a)},di:function(a){delete this.Sg[a]},pk:function(a,b){if(!this.sb)throw Error("Document is not initialized!");var c=this,d;if(this.km)d=
_.uniqueId(),this.sb.zt(a,d,function(a){var d=new Image;a=n&&c.xb instanceof n?c.xb.path+a.data:"data:image/png;base64,"+btoa(a.data);d.onload=function(){b(d);d=d.onload=null};d.src=a},name);else{var l=this.J[a];d=this.lg({pageIndex:a,zoom:l.width>l.height?150/l.width:150/l.height,drawComplete:function(a){a.style.backgroundColor="white";c.Um(d);b(a)}})}return d},qm:function(b){if(null===this.Pd){if(_.isUndefined(this.id)||_.isNull(this.id)){this.id=a.top.location.href;for(var c=a.top.location.hash.substring(1).split("&"),
d=0;d<c.length;d++){var l=c[d].split("=");if("d"===l[0]){this.id=l[1];break}}}var g=this;this.Pd=new a.k.YB(this.id);this.Pd.open(b,function(a){g.Pd=null;console.error(a)})}else console.warn("Offline DB is already initialized!"),b()},pq:function(b,c){function d(a){l.xb.ns(a)}if(!this.sb)throw b(),Error("Document is not initialized!");if(!this.Pd)throw b(),Error("Offline DB is not initialized!");if(this.xb instanceof a.k.Q.il)throw b(),Error("Can't download file while in offline mode!");var l=this;
l.xb.fz(function(a){l.Pd.HI(l.sb,a,b,c,d)})},mk:function(){if(!this.Pd)throw Error("Offline DB is not initialized!");return this.Pd.mk()},yo:function(){if(!this.Pd)throw Error("Offline DB is not initialized!");this.Pd.VD()},bp:function(){return this.Lp},kq:function(b){if(!this.Pd)throw Error("Offline DB is not initialized!");this.Lp!==b&&(!(this.Lp=b)||(this.rj instanceof a.k.Q.il||(this.rj=new a.k.Q.il(this.Pd),this.rj.bind("partReady",this.sb.Mp))),this.KI())},KI:function(){if(null!==this.rj){var a=
this.rj;this.rj=this.xb;this.xb=a;this.sb.gd=this.xb}},ms:function(a,b){if(!this.sb)throw Error("Document is not initialized!");this.sb.WD(a,b)},Pj:function(a){this.km?this.sb.YD(a):this.Wf(a)},jJ:function(a,b){if(!b)return a;for(var c="",d=0,l=0,g=0,h=0;d<a.length;)l=a.charCodeAt(d),128>l?(c+=String.fromCharCode(l),d++):191<l&&224>l?(g=a.charCodeAt(d+1),c+=String.fromCharCode((l&31)<<6|g&63),d+=2):(g=a.charCodeAt(d+1),h=a.charCodeAt(d+2),c+=String.fromCharCode((l&15)<<12|(g&63)<<6|h&63),d+=3);return c},
eu:function(b){if(b.error)return this.Ac[b.qa]=3,this.pw();var c;c=this.xb.gi?this.xb.ay?this.xb.gi(b.data,this.xb.Eo,b.qa):a.k.Zi.rE(b.data,this.xb.Eo,b.qa):b.data;this.xb.Nm()&&(this.Fm[b.qa]={data:c,ac:b.ac});b.ac&&(c=h.inflate(c));switch(b.qa){case this.Re:c=new a.oe(c);c.ha();c.advance();b=c.v("JPGThumbs");this.Rt="true"===b;b=c.v("IncludesThumbs");this.km=null===b||"false"!==b;b=c.v("Version");this.xg=parseFloat(b);if(1.2>this.xg)throw this.Ac[this.Re]=null,Error("The XOD version is out of date. Please re-convert the file with the most recent version of PDFNet or the command line converter.");
if(1.4<this.xg)throw Error("The XOD file version is too new for this client. Please update the WebViewer client version.");for(b=this.Ac[this.Re]=1;c.advance();++b){var d=new a.Av(parseFloat(c.v("Width")),parseFloat(c.v("Height")));d.$p=["Pages/"+b+".xaml","Annot/"+b+".xml","Pages/_rels/"+b+".xaml.rels"];this.J.push(d)}this.Wt=this.ks();break;case this.Af:this.Ac[this.Af]=1;c=new a.oe(c);c.ha();for(this.Gp=new l;c.advance();)b=c.ja().split(":"),this.Gp.attributes[1===b.length?b[0]:b[1]]=c.bd();break;
case this.Pe:this.Ac[this.Pe]=1;this.ai=[];c=new a.oe(c);c.ha();c.advance();c.ha();c.advance();c.ha();for(var g=0,f=null;c.advance();){var d=parseInt(c.v("OutlineLevel"),10),e=new a.CoreControls.Bookmark;e.children=[];e.name=this.jJ(c.v("Description"),b.ac);if(g<d)e.parent=f;else for(e.parent=f.parent;g>d;)e.parent=e.parent.parent,--g;e.Ok=c.v("trn:Vpos");e.Ok=null===e.Ok?0:parseFloat(e.Ok);e.gk=c.v("trn:Hpos");e.gk=null===e.gk?0:parseFloat(e.gk);g=c.v("OutlineTarget").split("#");1===g.length||0===
g[1].length?e.url=g[0]:e.Di=parseInt(g[1],10);null!==e.parent?e.parent.children[e.parent.children.length]=e:this.ai[this.ai.length]=e;g=d;f=e}break;default:if(this.Ac[this.Re])return this.Ac[this.Af]=this.Ac[this.Af]||2,this.Ac[this.Pe]=this.Ac[this.Pe]||2,this.yw(b)}this.pw()},Wl:function(){return Promise.resolve(this.ai)},Zo:function(a){return 1.2===this.xg?this.J[a].po:this.J[a].links},ud:function(){return this.J.length},Jc:function(a){var b={};b.width=this.J[a].width;b.height=this.J[a].height;
return b},dp:function(a,b,c){b={x:b,y:c};return this.J[a].cd.inverse().O(b)},lp:function(a,b,c){return this.J[a].cd.O({x:b,y:c})},Le:function(){if(document.fonts)for(var b in a.Bg)a.Bg[b].remove();a.ci={};a.Bg={};b=a.Ah.FontFace.prototype.Vu;null!==b&&(document.head.removeChild(b),a.Ah.FontFace.prototype.styleSheet=null,a.Ah.FontFace.prototype.Vu=null);this.Or=new a.Ue.Fv;this.xb instanceof a.k.Q.Kv&&this.xb.abort();this.vw()},vw:function(){this.xb.unbind("partReady");this.sb=new a.k.Q.XB(this.xb,
this.J,this.Or);this.sb.Rt=this.Rt},pw:function(){this.Ac[this.Re]&&(this.Ac[this.Af]&&(this.Ac[this.Pe]&&this.yw()))},yw:function(a){this.vw();if(this.xb.Nm()){for(var b in this.Fm)this.sb.cache.setItem(b,this.Fm[b].data,this.Fm[b].ac);delete this.Fm}this.trigger("documentReady",3===this.Ac[this.Re]);a&&this.xb.trigger("partReady",a)},jD:function(){var a=new XODText.Oa;a.Ya(4/3,0,0,-4/3,0,this.J[0].height);for(var b=this.J.length,c=0;c<b;++c)this.J[c].cd=a,this.J[c].rotation=0},kD:function(a){"string"===
typeof a&&(a=(new DOMParser).parseFromString(a,"text/xml"));if(a&&0<a.getElementsByTagName("pages").length){var b=a.getElementsByTagName("pages")[0],c,d,l;for(a=0;a<b.childNodes.length;++a){var g=b.childNodes[a].localName;if(g&&(l=b.childNodes[a],"defmtx"===g&&(d=l.getAttribute("matrix").split(","),c=new XODText.Oa,c.Ya(parseFloat(d[0]),parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3]),parseFloat(d[4]),parseFloat(d[5])),d=this.vo(c)),"pgmtx"===g)){g=parseInt(l.getAttribute("page"),10);l=l.getAttribute("matrix").split(",");
var h=new XODText.Oa;h.Ya(parseFloat(l[0]),parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3]),parseFloat(l[4]),parseFloat(l[5]));var f=this.vo(h);l=this.js(h,{w:this.J[g].width,ee:this.J[g].height});this.J[g].rotation=f;h.Ya(4/3,0,0,-4/3,-l.x1,l.y2);this.J[g].cd=h}}b=this.J.length;for(a=0;a<b;++a)null===this.J[a].cd&&(g=new XODText.Oa,l=this.js(c,{w:this.J[a].width,ee:this.J[a].height}),g.Ya(4/3,0,0,-4/3,-l.x1,l.y2),this.J[a].cd=g,this.J[a].rotation=d)}}});g.cl=function(){this.ai=[];this.Gp=new l;
this.J=[];this.Wz={};this.km=!1;this.hk={};this.Sm={};this.Ra=null;this.iu=2};g.cl.prototype=Object.create(g.bn.prototype);g.cl.prototype.constructor=g.cl;$.extend(g.cl.prototype,{DJ:function(b){var c=new a.Av(b.width,b.height);c.cd=new XODText.Oa;b=b.matrix;c.cd.Ya(b[0],b[1],b[2],b[3],b[4],b[5]);b=this.vo(c.cd);c.cd=this.uA({w:c.width,ee:c.height});c.rotation=b;return c},uA:function(a,b){var c=new XODText.Oa;c.Ya.apply(c,a);var d=this.js(c,b);c.Ya(1,0,0,-1,-d.x1,d.y2);return c},By:function(a,b,c){this.Jx({pageDimensions:a});
this.Wt=this.ks();c&&this.Na.Hz(this.Ra).then(function(a){c(a.xfdfString)});this.np||this.trigger("documentComplete");b()},vF:function(a){var b=createPromiseCapability(),c=new XMLHttpRequest;c.open("GET",a);c.setRequestHeader("Range","bytes=1-150");c.responseType="arraybuffer";c.onreadystatechange=function(){if(this.readyState===this.DONE){var a=c.response.byteLength;200===c.status?b.reject({message:"Byte ranges are not supported by the server.",data:new Uint8Array(c.response)}):206!==c.status?b.reject({message:"Received http error code "+
c.status}):150!==a&&b.reject({message:"Received incorrect number of bytes."});var a=new Uint8Array(c.response),d=[76,105,110,101,97,114,105,122,101,100],l=c.getResponseHeader("Content-Range");if(l){var l=l.split("/")[1],g=0;do{a:{for(var h=a.length;g<h;++g)if(a[g]===d[0])break a;g=-1}g+=1;for(h=1;10>h;++h)if(a[g]===d[h])++g;else break;if(10===h){b.resolve(parseInt(l));return}}while(0!==g);b.reject({message:"The file is not linearized."})}else b.reject({message:"Could not retrieve Content-Range header."})}};
c.onerror=function(){b.reject({message:"Network or Cross Domain Access Error."})};c.send();return b.promise},kh:function(b,c,d){function g(a){D.ai=[];D.Gp=new l;D.J=[];D.km=!1;D.np=!1;D.bind("documentReady",c);var b,d;I.then(function(c){D.Na=c;c=H&&a.url===H;"ems"===D.Na.TF()&&(F&&(a=F));if(c)b="url",d=a,D.np=!0;else if("string"===typeof a)b="filepath",d=a;else if("object"===typeof a&&(null!==a&&void 0!==a.byteLength))b="array",d=a.buffer;else{c=a;var l=Object.prototype.toString.call(c);"object"!==
typeof c||(null===c||"[object File]"!==l&&"[object Blob]"!==l)?console.warn("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object"):(b="file",d=a)}m(b,d,z)})}function h(a,b){console.warn("Could not use incremental download for url "+a+". Reason: "+b)}function f(a){G=a;D.Na.dJ(D.Ra,a).then(function(a){a.success?n(a.pageDimensions):y(f)})}function e(){D.ly=new Promise(function(a){D.bind("documentComplete",function(){D.unbind("documentComplete");a()})});D.Na.addEventListener(D.Ra,
function(a){D.jH(a)})}function n(a){D.np?D.Na.lG(D.Ra).then(function(d){d?D.By(a,c,B):(h(H,"Linearization data is invalid."),D.Le(),b.lf(g))}):D.By(a,c,B)}function m(a,b,d){D.Na.PE(a,b,d).then(function(a){D.Ra=a.docId;e();n(a.pageDimensions)},function(a){"NeedsPassword"===a.type&&y?(D.Ra=a.docId,e(),G?f(G):y(f)):c(a)})}var B=d.annotsLoadedCallback,y=d.getPassword,z=d.extension,I=d.workerTransportPromise,D=this,F=b.getFile(),H=b.ip();(d=a.utils.isNodeJS?a.nodejs:parent.nodejs)?(F=d.getPlatformFormatFilePath(F),
g(F)):H?this.vF(H).then(function(a){g({url:H,size:a})},function(a){h(H,a.message);a.data?g(a.data):b.lf(g)}):F&&!a.utils.isChrome?g(F):b.lf(g);var G=null},Jx:function(a){var b=this;a=a.pageDimensions;var c=Object.keys(a),l=this.J=[],g=this.Wz,h=[],f={};c.forEach(function(c){var e=a[c],e={width:e.width,height:e.height,matrix:b.uA(e.matrix,{w:e.width,ee:e.height}),rotation:90*e.rotation,id:e.id,pageNum:c,contentChanged:!!e.contentChanged};g[e.id]&&h.push({before:g[e.id],after:e});g[e.id]=new d(e.width,
e.height);var q=g[e.id];q.$H(e);l[c-1]=q;f[e.id]=!0});this.Wt=this.ks();Object.keys(g).forEach(function(a){a in f||delete g[a]});return h},jH:function(a){switch(a.type){case "pagesUpdated":a=this.Jx(a.data);this.Qo({type:"pagesDiff",data:a});this.Qo({type:"pagesUpdated",data:a.map(function(a){return a.after})});break;case "bookmarksUpdated":this.Qo({type:"bookmarksUpdated",data:a.data});break;case "documentComplete":this.trigger("documentComplete");this.Qo({type:"documentComplete",data:a.data});break;
default:console.warn("Unknown event type: ",a.type)}},RL:function(){return this.ly},Wl:function(){function a(b){var c=[];b.children.forEach(function(b){c.push(a(b))});return new g.me(c,b.name,b.pageNumber,b.parent,b.verticalOffset,b.horizontalOffset,b.url)}return this.Na.yG(this.Ra).then(function(b){var c=[];b.bookmarks.forEach(function(b){c.push(a(b))});return c})},fe:function(b,c){var d=this;null!==d.J[b].text?c(d.J[b].text):b in d.Sm?d.Sm[b].push(c):(d.Na.fe(d.Ra,b).then(function(a){var c=new XODText.Gf;
c.Yz({Sa:a.struct,eb:a.str,kc:a.offsets,Aa:a.quads,lc:!0});d.Es(b,c);d.J[b].text=c;d.Sm[b].forEach(function(a){a(c)});delete d.Sm[b]},function(b){a.utils.log("Text generation failed: "+b)}),d.Sm[b]=[c])},No:function(a){return this.Na.Hz(this.Ra,a)},xm:function(a){return this.Na.xm(this.Ra,a)},lf:function(a){var b=this,c=!1,d;a&&("finishedWithDocument"in a&&(c=a.finishedWithDocument),"xfdfString"in a&&(d=a.xfdfString));return b.ly.then(function(){return b.Na.JH(b.Ra,d,c)}).then(function(a){return a.fileData})},
ud:function(){return this.J.length},tz:function(b,c,d,l,g){var h=document.createElement("canvas");h.width=b;h.height=c;$(h).css("width",d.ku);$(h).css("height",d.ju);var f=h.getContext("2d"),e=new Image;$(e).css("width",d.ku);$(e).css("height",d.ju);e.onload=function(){f.drawImage(e,0,0);d.oy(h);l&&d.ny(h);var b=a.utils.isNodeJS?a.nodejs:parent.nodejs;b&&b.deleteFile(g)};e.src=g;l||$(e).addClass("progressive")},Ox:function(a,b,c,d,l){function g(){var a=Math.min(m,z),p=c-z,G=a*b*4;I.data.set(e.subarray(D,
D+G));D+=G;n.putImageData(I,0,p,0,0,b,a);z-=a;0===z?(l||$(f).addClass("progressive"),d.oy(f),l&&d.ny(f),l&&delete h.hk[d.id]):(a=setTimeout(g,0),l&&(h.hk[d.id]=a))}var h=this,f=document.createElement("canvas");f.width=b;f.height=c;$(f).css("width",d.ku);$(f).css("height",d.ju);var e=new Uint8ClampedArray(a),n=f.getContext("2d"),m=Math.ceil(1E6/b),z=c,I=n.createImageData(b,Math.min(m,c)),D=0;g()},lg:function(b,c,d,l,g,h){var e=this,n=f(b,c,d,l,g,h);c=n.pageIndex;h=n.getZoom();d=n.getPageRotation();
l=n.renderRect;var A=d===a.k.sa.$c||d===a.k.sa.Jd;g=a.utils.getCanvasMultiplier();"undefined"===typeof l?(b=(A?e.J[c].height:e.J[c].width)*h,h*=A?e.J[c].width:e.J[c].height):(b=(A?l.y2-l.y1:l.x2-l.x1)*h,h*=A?l.x2-l.x1:l.y2-l.y1);b=Math.round(b);h=Math.round(h);var B=Math.floor(b*g),y=Math.floor(h*g);if(!B||!y)return d=e.Na.bm(),this.hk[d]=setTimeout(function(){var a=document.createElement("canvas");a.width=B?B:1;a.height=y?y:1;n.drawComplete(a)},0),d;var z=a.utils.isNodeJS?a.nodejs:parent.nodejs;
if(z&&z.useFilePathForImageRenders){var I=z.generateImageFilePath();d=e.Na.cF(e.Ra,c,B,y,d,e.Tt,e.iu,l,I)}else d=e.Na.bF(e.Ra,c,B,y,d,e.Tt,e.iu,l);var D=d.Mx,F={oy:n.drawProgressive,ny:n.drawComplete,ku:b,ju:h,id:D},H=1,G;n.useProgress&&(G=setInterval(function(){var b;z&&z.useFilePathForImageRenders?(b=z.generateNextImageFilePath(I,H++),b=e.Na.My(D,b)):b=e.Na.My(D);b.then(function(a){"undefined"!==typeof a.filePath?e.tz(a.pageWidth,a.pageHeight,F,!1,a.filePath):e.Ox(a.pageBuf,a.pageWidth,a.pageHeight,
F,!1)},function(b){"type"in b&&"Queued"===b.type||(a.utils.log("Get canvas progressivegeneration failed: "+b.message+" CID "+D),clearInterval(G))})},m));d.promise.then(function(a){clearInterval(G);"undefined"!==typeof a.filePath?e.tz(a.pageWidth,a.pageHeight,F,!0,a.filePath):e.Ox(a.pageBuf,a.pageWidth,a.pageHeight,F,!0)},function(b){"Cancelled"!==b.type&&a.utils.log("Canvas generation failed: "+b.message);clearInterval(G);n.onError(b)});return D},di:function(){},Le:function(){this.Ra&&(this.Na.aE(this.Ra),
this.Na.uE(this.Ra),this.Ra=null)},rm:function(a,b,c){return this.Na.rm(this.Ra,a,b||612,c||792)},kk:function(a,b,c){a instanceof g.ma&&(a=a.u.Ra);return this.Na.kk(this.Ra,a,b,c,!0)},ym:function(a,b){return this.Na.ym(this.Ra,a,b)},wk:function(a){a.sort(e);return this.Na.wk(this.Ra,a)},Wj:function(){return this.Na.Wj(this.Ra,this.Tt)},Om:function(a,b){a.sort(e);return this.Na.Om(this.Ra,a,b)},Xj:function(a,b){return this.Na.Xj(this.Ra,a,b).then(function(a){return a.fileData})},Tj:function(a,b,c,
d,l){a.sort(e);return this.Na.Tj(this.Ra,a,b,c,d,l)},ep:function(a){return this.J[a].id},dm:function(){return Object.keys(this.Wz)},ck:function(){return this.Na.ck(this.Ra).then(function(b){return new a.PDFNet.PDFDoc(b)})},bk:function(){return this.Na.bk(this.Ra).then(function(a){return a})},iq:function(a){this.Tt=a},lq:function(a){this.iu=a},pk:function(b,c,d){var l=this.J[b];d="page"===d?2E3:150;var g=a.utils.getCanvasMultiplier(),h=l.width>l.height?d/l.width:d/l.height,h=h/g;return this.lg({pageIndex:b,
getZoom:function(){return h},getPageRotation:function(){return a.k.sa.we},drawComplete:function(a){c(a)},drawProgressive:function(){},useProgress:!1})},Pj:c,Wf:c,jk:function(){return!1},Li:function(a){this.np&&this.Na.Li(this.Ra,a)},print:function(a){this.Na.gH(this.Ra,a)}});_(g.bn.prototype).extend(Backbone.Events);a.Av=d})(window);
(function(a){a.Annotations=a.Annotations||{};var e=a.Annotations;e.Color=function(a,f,b,c){this.A=this.B=this.G=this.R=0;a instanceof e.Color?(this.R=a.R,this.G=a.G,this.B=a.B,this.A=a.A):_.isArray(a)?1===a.length?(this.B=this.G=this.R=a=Math.round(255*(a[0]||0)),this.A=1):3===a.length?(this.R=Math.round(255*(a[0]||0)),this.G=Math.round(255*(a[1]||0)),this.B=Math.round(255*(a[2]||0)),this.A=1):4===a.length&&(f=a[1]||0,b=a[2]||0,c=a[3]||0,this.R=Math.round(255*(1-(a[0]||0))*(1-c)),this.G=Math.round(255*
(1-f)*(1-c)),this.B=Math.round(255*(1-b)*(1-c)),this.A=1):_.isString(a)&&"#"===a[0]?(a=e.da.ii(a),this.R=a.R,this.G=a.G,this.B=a.B,this.A=1):(_.isUndefined(a)||(this.R=Number(a)),_.isUndefined(f)||(this.G=Number(f)),_.isUndefined(b)||(this.B=Number(b)),_.isUndefined(c)?_.isUndefined(a)&&(_.isUndefined(f)&&_.isUndefined(b))||(this.A=1):this.A=Number(c))};e.Color.prototype={toString:function(){var a=this.R+","+this.G+","+this.B;return"undefined"===typeof this.A?"rgb("+a+")":"rgba("+a+","+this.A+")"},
toHexString:function(){return e.da.Mi(this)},OI:function(){return e.da.toFixed(this.R/255,3)+" "+e.da.toFixed(this.G/255,3)+" "+e.da.toFixed(this.B/255,3)+" rg"},vi:function(){return 0===this.R&&(0===this.G&&(0===this.B&&1===this.A))},Ez:function(){return 0===this.A}};e.Point=function(a,f){this.x=a;this.y=f;"string"===typeof a&&(this.x=parseFloat(a));"string"===typeof f&&(this.y=parseFloat(f))};e.Point.prototype={toString:function(){return"[Point: x="+this.x+" y="+this.y+"]"}};e.gb=function(a,f,b,
c,g,h,e,m){this.x1=a;this.y1=f;this.x2=b;this.y2=c;this.x3=g;this.y3=h;this.x4=e;this.y4=m};e.gb.prototype={normalize:function(){}};e.na=function(a,f,b,c){a instanceof e.na?(this.x1=a.x1,this.y1=a.y1,this.x2=a.x2,this.y2=a.y2):_.isArray(a)?(this.x1=a[0],this.y1=a[1],this.x2=a[2],this.y2=a[3]):_.isObject(a)?(this.x1=a.x1,this.y1=a.y1,this.x2=a.x2,this.y2=a.y2):(this.x1=a,this.y1=f,this.x2=b,this.y2=c)};e.na.prototype={wa:function(){return this.x2-this.x1},va:function(){return this.y2-this.y1},translate:function(a,
f){this.x1+=a;this.y1+=f;this.x2+=a;this.y2+=f},Vs:function(a){var f=0,b=0;if(this.wa()<a.wa()){var c=a.x2-this.x2;0>c&&(f=c);c=a.x1-this.x1;0<c&&(f=c)}this.va()<a.va()&&(c=a.y2-this.y2,0>c&&(b=c),a=a.y1-this.y1,0<a&&(b=a));this.translate(f,b)},normalize:function(){var a;0>this.wa()&&(a=this.x1,this.x1=this.x2,this.x2=a);0>this.va()&&(a=this.y1,this.y1=this.y2,this.y2=a)},xy:function(){var a;this.x1>this.x2&&(a=this.x1,this.x1=this.x2,this.x2=a);this.y2>this.y1&&(a=this.y1,this.y1=this.y2,this.y2=
a)}};e.ra={};e.ra.KG=function(a,f){return a instanceof e.Point&&f instanceof e.Point?new e.Point((a.x+f.x)/2,(a.y+f.y)/2):null};e.ra.distance=function(a,f){if(!(a instanceof e.Point&&f instanceof e.Point))return null;var b=a.x-f.x,c=a.y-f.y;return Math.sqrt(b*b+c*c)};e.ControlHandle=function(a,f,b,c){this.x=a;this.y=f;this.width=b;this.height=c};e.ControlHandle.handleWidth=12;e.ControlHandle.handleHeight=12;e.ControlHandle.selectionAccuracyPadding=1;e.ControlHandle.prototype={testSelection:function(a,
f,b,c,g){a=this.getDimensions(a,f,b);f=0;1<e.ControlHandle.selectionAccuracyPadding&&(f=e.ControlHandle.selectionAccuracyPadding);return c>=a.x1-f&&(c<=a.x1+a.wa()+f&&(g>=a.y1-f&&g<=a.y1+a.va()+f))},draw:function(a,f,b,c){"undefined"===typeof c&&(c=1);this.Cc(a,c);var g=this.getDimensions(f,b,c);f=g.x1;b=g.y1;c=g.wa();g=g.va();a.beginPath();a.arc(f+c/2,b+g/2,c/2,0,2*Math.PI);a.stroke();a.fill()},Cc:function(a,f){a.strokeStyle=e.SelectionModel.defaultSelectionOutlineColor.toString();a.fillStyle="rgb(255, 255, 255)";
a.lineWidth=e.SelectionModel.selectionOutlineThickness/f},move:function(){console.warn("ControlHandle move() not implemented")},getDimensions:function(){console.warn("ControlHandle getDimensions() not implemented");return new e.na(0,0,0,0)}};e.Sd=function(a,f,b,c){this.width=a;this.height=f;this.om=b;this.Vm=c};e.Sd.prototype={getDimensions:function(a,f,b){a=f.x1;var c=f.y1,g=this.width/b;b=this.height/b;this.om===e.xa.zd.left?a+=-(g/2):this.om===e.xa.zd.qs?a+=(f.wa()-g)/2:this.om===e.xa.zd.right?
a+=f.wa()-g/2:console.warn("Invalid HorizonalAlignment");this.Vm===e.xa.Bd.top?c+=-(b/2):this.Vm===e.xa.Bd.Xt?c+=(f.va()-b)/2:this.Vm===e.xa.Bd.bottom?c+=f.va()-b/2:console.warn("Invalid VerticalAlignment");return new e.na(a,c,a+g,c+b)},move:function(a,f,b,c,g){f=!1;b=a.de();this.Vm===e.xa.Bd.bottom&&(f=b.y2!==g.y,b.y2=g.y);this.Vm===e.xa.Bd.top&&(f=b.y1!==g.y,b.y1=g.y);this.om===e.xa.zd.right&&(f=b.x2!==g.x,b.x2=g.x);this.om===e.xa.zd.left&&(f=b.x1!==g.x,b.x1=g.x);f&&a.resize(b);return f}};e.Sd.prototype=
$.extend(!0,new e.ControlHandle,e.Sd.prototype);e.mj=function(a,f,b,c,g){this.x=a;this.y=f;this.width=b;this.height=c;this.wi=g};e.mj.prototype={getDimensions:function(a,f,b){a=this.width/b;b=this.height/b;return this.wi?new e.na(this.x-0.5*a,this.y,this.x+0.5*a,this.y+b):new e.na(this.x-0.5*a,this.y-b,this.x+0.5*a,this.y)},move:function(a,f,b,c,g,h){b=a.Md();f=b[0];if("undefined"===typeof f)return!1;b=b[b.length-1];h=new window.Ca.od(h);h.annotation=a;h.pageCoordinates[0]=g;c=Math.min(f.x1,f.x2,
f.x3,f.x4);a=Math.max(b.x1,b.x2,b.x3,b.x4);f=Math.min(f.y1,f.y2,f.y3,f.y4);b=Math.max(b.y1,b.y2,b.y3,b.y4);this.wi?f={x:c+1,y:f,pageIndex:g.pageIndex}:(f=g,g={x:a-1,y:b,pageIndex:g.pageIndex});if(g.y<f.y)return!1;(f.x<g.x||f.y<g.y)&&h.select(f,g);return!0},draw:function(a,f,b,c){var g,h,n,m;this.Cc(a,c);g=f.Md();this.wi?(m=g[g.length-1],g=m.x2,h=m.y2,n=m.x3,m=m.y3):(m=g[0],g=m.x1,h=m.y1,n=m.x4,m=m.y4);a.beginPath();a.moveTo(g,h);a.lineTo(n,m);a.stroke();e.ControlHandle.prototype.draw.call(this,a,
f,b,c)}};e.mj.prototype=$.extend(!0,new e.ControlHandle,e.mj.prototype);e.Xe=function(a,f,b,c,g){this.x=a;this.y=f;this.width=b;this.height=c;this.Tb=g};e.Xe.prototype={getDimensions:function(a,f,b){a=this.width/b;b=this.height/b;f=this.x-0.5*a;var c=this.y-0.5*b;return new e.na(f,c,f+a,c+b)},move:function(a,f,b){var c=a.fg(this.Tb);a.le(this.Tb,c.x+f,c.y+b);return!0}};e.Xe.prototype=$.extend(!0,new e.ControlHandle,e.Xe.prototype);e.rn=function(a,f,b,c,g){e.Xe.apply(this,arguments)};e.rn.prototype=
{move:function(a,f,b,c,g){e.Xe.prototype.move.apply(this,arguments);if(0===this.Tb){var h=a.fg(0);a.le(a.getPath().length-1,h.x,h.y)}return!0}};e.rn.prototype=$.extend(!0,new e.Xe,e.rn.prototype);e.cn=function(a,f,b,c,g){this.x=a;this.y=f;this.width=b;this.height=c;this.Tb=g};e.cn.prototype={move:function(a,f,b){var c=a.fg(2),g=a.fg(3),h=a.fg(4);if(3===this.Tb){if(h.y<g.y+b||h.x<g.x+f)return}else if(4===this.Tb&&(h.y+b<g.y||h.x+f<g.x))return;f=e.Xe.prototype.move.call(this,a,f,b);3===this.Tb&&(h.y<
g.y&&a.le(3,g.x,h.y),h.x<g.x&&a.le(3,h.x,g.y),a.le(2,g.x,g.y+0.5*(h.y-g.y)),f=!0);4===this.Tb&&(h.y<g.y&&a.le(3,h.x,g.y),h.x<g.x&&a.le(3,g.x,h.y),a.le(2,c.x,g.y+0.5*(h.y-g.y)),f=!0);var n=a.et()/2;b=a.fg(1);var m=e.ra.KG(g,h),g=[new e.Point(g.x+n,m.y),new e.Point(h.x-n,m.y),new e.Point(m.x,g.y+n),new e.Point(m.x,h.y-n)],h=[e.ra.distance(b,g[0]),e.ra.distance(b,g[1]),e.ra.distance(b,g[2]),e.ra.distance(b,g[3])],h=h.indexOf(Math.min.apply(Math,h));if(c.x!==g[h].x||c.y!==g[h].y)a.le(2,g[h].x,g[h].y),
f=!0;return f}};e.cn.prototype=$.extend(!0,new e.Xe,e.cn.prototype);e.dj=function(a,f,b,c,g){this.x=a;this.y=f;this.width=b;this.height=c;this.wi=g};e.dj.prototype={getDimensions:function(a,f,b){a=this.width/b;b=this.height/b;f=this.x-0.5*a;var c=this.y-0.5*b;return new e.na(f,c,f+a,c+b)},move:function(a,f,b){this.wi?(a.End.x+=f,a.End.y+=b):(a.Start.x+=f,a.Start.y+=b);a.adjustRect();return!0}};e.dj.prototype=$.extend(!0,new e.ControlHandle,e.dj.prototype);e.SelectionModel=function(a,f,b){this.Zc=
[];this.mr=f;this.Er=b};e.SelectionModel.selectionOutlineThickness=2;e.SelectionModel.selectionAccuracyPadding=2;e.SelectionModel.defaultSelectionOutlineColor=new e.Color(0,0,255);e.SelectionModel.defaultNoPermissionSelectionOutlineColor=new e.Color(255,0,0);e.SelectionModel.selectionOutlineDashSize=4;e.SelectionModel.prototype={testSelection:function(a,f,b){return e.Xb.Oj(a,f,b)},rq:function(a,f,b,c){for(var g=this.Zc.length-1;0<=g;g--){var h=this.Zc[g];if(h.testSelection(a,this.getDimensions(a),
f,b,c))return h}},eF:function(){return this.Zc},getDimensions:function(a){return new e.na(a.X,a.Y,a.X+a.Width,a.Y+a.Height)},qc:function(){return this.mr},draw:function(a,f,b){a.save();this.drawSelectionOutline(a,f,b);a.restore();for(var c=0;c<this.Zc.length;c++)this.Zc[c]&&this.Zc[c].draw(a,f,this.getDimensions(f),b)},drawSelectionOutline:function(a,f,b){a.save();f=this.getDimensions(f);"undefined"===typeof b&&(b=1);a.lineWidth=e.SelectionModel.selectionOutlineThickness/b;this.qc()?a.strokeStyle=
e.SelectionModel.defaultSelectionOutlineColor.toString():a.strokeStyle=e.SelectionModel.defaultNoPermissionSelectionOutlineColor.toString();a.beginPath();a.moveTo(f.x1,f.y1);a.lineTo(f.x2,f.y1);a.lineTo(f.x2,f.y2);a.lineTo(f.x1,f.y2);a.closePath();a.stroke();"undefined"!==typeof a.setLineDash||"undefined"!==typeof a.mozDash?(b=e.SelectionModel.selectionOutlineDashSize/b,b=[b,b],a.setLineDash?a.setLineDash(b):a.mozDash=b):a.lineWidth/=2;a.strokeStyle="rgb(255, 255, 255)";a.beginPath();a.moveTo(f.x1,
f.y1);a.lineTo(f.x2,f.y1);a.lineTo(f.x2,f.y2);a.lineTo(f.x1,f.y2);a.closePath();a.stroke();a.restore()},drawPopupTail:function(d,f,b,c,g){var h=b=f=0;b=Math.abs(c.x1-c.x2);h=Math.abs(c.y1-c.y2);g.x>=c.x1+0.5*b&&g.y<c.y1+0.5*h?f={x:c.x1+b,y:c.y1}:g.x<c.x1+0.5*b&&g.y<c.y1+0.5*h?f={x:c.x1,y:c.y1}:g.x<c.x1+0.5*b&&g.y>=c.y1+0.5*h?f={x:c.x1,y:c.y1+h}:g.x>=c.x1+0.5*b&&(g.y>=c.y1+0.5*h&&(f={x:c.x1+b,y:c.y1+h}));c=a.Fa.ra.So(f,g);g=a.Fa.ra.qt(f,g);b={x:f.x+g,y:f.y-5};h={x:f.x+g,y:f.y+5};b=a.Fa.ra.rh(b,c,f);
h=a.Fa.ra.rh(h,c,f);d.save();d.strokeStyle="rgba(0,0,0,0.8)";d.beginPath();d.moveTo(f.x,f.y);d.lineTo(b.x,b.y);d.lineTo(h.x,h.y);d.closePath();d.shadowColor="#bbb";d.shadowBlur=10;d.shadowOffsetX=5;d.shadowOffsetY=5;d.stroke();d.fillStyle="rgba(255, 255, 0, 0.7)";d.beginPath();d.moveTo(f.x,f.y);d.lineTo(b.x,b.y);d.lineTo(h.x,h.y);d.closePath();d.fill();d.restore()}};e.nn=function(){e.SelectionModel.call(this,0,!1,!1)};e.nn.prototype={testSelection:function(){return!1},getDimensions:function(){return new e.na(0,
0,0,0)},draw:function(){},drawSelectionOutline:function(){},drawPopupTail:function(){}};e.nn.prototype=$.extend(!0,new e.SelectionModel,e.nn.prototype);e.xa=function(a,f,b){e.SelectionModel.call(this,0,f,b);a=e.ControlHandle.handleWidth;b=e.ControlHandle.handleHeight;this.Zc=(this.mr=f)?[new e.Sd(a,b,e.xa.zd.left,e.xa.Bd.top),new e.Sd(a,b,e.xa.zd.left,e.xa.Bd.Xt),new e.Sd(a,b,e.xa.zd.left,e.xa.Bd.bottom),new e.Sd(a,b,e.xa.zd.qs,e.xa.Bd.top),new e.Sd(a,b,e.xa.zd.qs,e.xa.Bd.bottom),new e.Sd(a,b,e.xa.zd.right,
e.xa.Bd.top),new e.Sd(a,b,e.xa.zd.right,e.xa.Bd.Xt),new e.Sd(a,b,e.xa.zd.right,e.xa.Bd.bottom)]:[]};e.xa.zd={left:1,qs:2,right:4};e.xa.Bd={top:16,Xt:32,bottom:64};e.xa.prototype={testSelection:function(a,f,b){return this.Er?e.Xb.Oj(a,f,b):e.Xb.Kl(a,f,b)},getDimensions:function(a){return new e.na(a.X,a.Y,a.X+a.Width,a.Y+a.Height)}};e.xa.prototype=$.extend(!0,new e.SelectionModel,e.xa.prototype);e.gj=function(a,f,b){e.SelectionModel.call(this,0,f,b);if(f)for(a=a.getPath(),f=0;f<a.length;f++)b=a[f],
this.Zc.push(new e.Xe(b.x,b.y,e.ControlHandle.handleWidth,e.ControlHandle.handleHeight,f))};e.gj.prototype={testSelection:function(a,f,b){return this.Er?e.Xb.Oj(a,f,b):e.Xb.Kl(a,f,b)},draw:function(a,f,b){e.SelectionModel.prototype.draw.call(this,a,f,b)}};e.gj.prototype=$.extend(!0,new e.SelectionModel,e.gj.prototype);e.Vq=function(a,f,b){e.SelectionModel.call(this,0,f,b);if(f)for(a=a.getPath(),f=0;f<a.length-1;f++)b=a[f],this.Zc.push(new e.rn(b.x,b.y,e.ControlHandle.handleWidth,e.ControlHandle.handleHeight,
f))};e.Vq.prototype=$.extend(!0,new e.SelectionModel,e.Vq.prototype);e.bl=function(a,f,b){e.SelectionModel.call(this,0,f,b);this.Zc=f?[new e.dj(a.Start.x,a.Start.y,e.ControlHandle.handleWidth,e.ControlHandle.handleHeight,0),new e.dj(a.End.x,a.End.y,e.ControlHandle.handleWidth,e.ControlHandle.handleHeight,1)]:[]};e.bl.prototype={testSelection:function(a,f,b){return e.Xb.Kl(a,f,b)},drawSelectionOutline:function(a,f,b){"undefined"===typeof b&&(b=1);a.lineWidth=e.SelectionModel.selectionOutlineThickness/
b;var c=Math.atan((f.End.y-f.Start.y)/(f.End.x-f.Start.x)),g=Math.max(0.5*f.StrokeThickness,1)*Math.sin(c),c=Math.max(0.5*f.StrokeThickness,1)*Math.cos(c);this.qc()?a.strokeStyle=e.SelectionModel.defaultSelectionOutlineColor.toString():a.strokeStyle=e.SelectionModel.defaultNoPermissionSelectionOutlineColor.toString();a.beginPath();a.moveTo(f.Start.x+g,f.Start.y-c);a.lineTo(f.End.x+g,f.End.y-c);a.stroke();a.beginPath();a.moveTo(f.Start.x-g,f.Start.y+c);a.lineTo(f.End.x-g,f.End.y+c);a.stroke();"undefined"!==
typeof a.setLineDash||"undefined"!==typeof a.mozDash?(b=e.SelectionModel.selectionOutlineDashSize/b,b=[b,b],a.setLineDash?a.setLineDash(b):a.mozDash=b):a.lineWidth/=2;a.strokeStyle="rgb(255, 255, 255)";a.beginPath();a.moveTo(f.Start.x+g,f.Start.y-c);a.lineTo(f.End.x+g,f.End.y-c);a.stroke();a.beginPath();a.moveTo(f.Start.x-g,f.Start.y+c);a.lineTo(f.End.x-g,f.End.y+c);a.stroke()},drawPopupTail:function(d,f,b,c,g){var h=c=b=0;b=e.ra.distance(f.Start,g);c=e.ra.distance(f.End,g);f=b>c?f.End:f.Start;b=
{x:f.x,y:f.y};f=a.Fa.ra.So(b,g);g=a.Fa.ra.qt(b,g);c={x:b.x+g,y:b.y-5};h={x:b.x+g,y:b.y+5};c=a.Fa.ra.rh(c,f,b);h=a.Fa.ra.rh(h,f,b);d.strokeStyle="rgba(0,0,0,0.8)";d.beginPath();d.moveTo(b.x,b.y);d.lineTo(c.x,c.y);d.lineTo(h.x,h.y);d.closePath();d.stroke();d.fillStyle="rgba(255, 255, 0, 0.7)";d.beginPath();d.moveTo(b.x,b.y);d.lineTo(c.x,c.y);d.lineTo(h.x,h.y);d.closePath();d.fill()}};e.bl.prototype=$.extend(!0,new e.xa,e.bl.prototype);e.Yk=function(a,f,b){e.xa.apply(this,arguments)};e.Yk.prototype=
{getDimensions:function(a){return e.SelectionModel.prototype.getDimensions.apply(this,arguments)},testSelection:function(a,f,b){return e.Xb.Oj(a,f,b)}};e.Yk.prototype=$.extend(!0,new e.xa,e.Yk.prototype);e.dn=function(a,f,b){e.SelectionModel.call(this,0,f,b);if(f)for(a=a.getPath(),f=0;f<a.length;f++)2!==f&&(b=a[f],this.Zc.push(new e.cn(b.x,b.y,e.ControlHandle.handleWidth,e.ControlHandle.handleHeight,f)))};e.dn.prototype={testSelection:function(a,f,b){if(this.Er)return e.Xb.Oj(a,f,b);var c=a.getPath(),
g=c[3],c=c[4];return f<g.x||(f>c.x||(b<g.y||b>c.y))?e.Xb.Kl(a,f,b):!0}};e.dn.prototype=$.extend(!0,new e.SelectionModel,e.dn.prototype);e.Gh=function(a,f,b,c,g){e.SelectionModel.call(this,0,f,b);this.mr=f;if(a=a.Md())_.isUndefined(c)&&(c=!0),_.isUndefined(g)&&(g=!0),this.Zc=[],f&&(f=a[0],a=a[a.length-1],f&&(this.Zc=[],c&&this.Zc.push(new e.mj(f.x1,f.y3,e.ControlHandle.handleWidth,e.ControlHandle.handleHeight,!1)),g&&this.Zc.push(new e.mj(a.x3,a.y1,e.ControlHandle.handleWidth,e.ControlHandle.handleHeight,
!0))))};e.Gh.prototype={testSelection:function(a,f,b){return e.Xb.$A(a,f,b)},getDimensions:function(a){var f=a.X-2,b=a.Y-2;return new e.na(f,b,f+(a.Width+4),b+(a.Height+4))}};e.Gh.prototype=$.extend(!0,new e.SelectionModel,e.Gh.prototype);e.un=function(a,f,b){e.SelectionModel.call(this,0,f,b)};e.un.prototype={testSelection:function(a,f,b,c){c=a.NoZoom?c:1;a=new e.na(a.ah(),a.eh(),a.ah()+a.wa()/c,a.eh()+a.va()/c);return f>=a.x1&&(f<=a.x2&&(b>=a.y1&&b<=a.y2))}};e.un.prototype=$.extend(!0,new e.SelectionModel,
e.un.prototype);e.Xb={Oj:function(a,f,b){a=a.de();return f>=a.x1&&(f<=a.x2&&(b>=a.y1&&b<=a.y2))},Kl:function(a,f,b){var c;e.Xb.sz?c=e.Xb.sz:(c=document.createElement("canvas"),e.Xb.sz=c);var g=c.getContext("2d");c.width=100;c.height=100;g.setTransform(1,0,0,1,-(f-a.ri()),-(b-a.si()));f=a.StrokeThickness;a.Lh=f+e.Xb.canvasVisibilityPadding;g.translate(-1*a.ri(),-1*a.si());a.draw(g);b=1<g.getImageData(0,0,1,1).data[3];g.setTransform(1,0,0,1,0,0);g.clearRect(0,0,2,2);a.Lh=f;return b},$A:function(a,f,
b){a=a.Quads;for(var c=0;c<a.length;c++){var g=a[c],h=Math.min(g.y1,g.y2,g.y3,g.y4),e=Math.max(g.y1,g.y2,g.y3,g.y4),m=Math.min(g.x1,g.x2,g.x3,g.x4),g=Math.max(g.x1,g.x2,g.x3,g.x4);if(f>=m&&(f<=g&&(b>=h&&b<=e)))return!0}return!1}};e.Xb.canvasVisibilityPadding=5})(window);
(function(a){var e=XODText;a.Ca=function(){};var d=a.Ca;d.TJ={};d.Tool=function(a){this.tb=this.Kc=null;this.o=this.docViewer=a;this.pageCoordinates=[]};d.Tool.prototype={bh:function(a){var c={},d=this.o.dc();a.originalEvent&&a.originalEvent.touches?(a=0===a.originalEvent.touches.length?a.originalEvent.changedTouches[0]:a.originalEvent.touches[0],c.x=d.scrollLeft()+a.clientX,c.y=d.scrollTop()+a.clientY):(c.x=d.scrollLeft()+a.pageX,c.y=d.scrollTop()+a.pageY);return c},mouseLeftDown:function(a){var c=
this.bh(a);this.Kc={x:c.x,y:c.y};this.tb={x:c.x,y:c.y};this.pageCoordinates[0]=this.ce(this.Kc);this.pageCoordinates[1]=this.pageCoordinates[0];a.data={mouseCoordinate:{x:c.x,y:c.y},pageCoordinate:this.pageCoordinates[0]}},mouseLeftUp:function(a){var c=this.bh(a);this.tb=c;this.pageCoordinates[1]=this.ce(this.tb);a.data={mouseCoordinate:{x:c.x,y:c.y},pageCoordinate:this.pageCoordinates[1]}},mouseMove:function(a){var c=this.bh(a);this.tb=c;if(null!==this.Kc){var d=this.ce(this.Kc);if(null===d)return;
var h=d.pageIndex,d=this.o.Sb(h),f=this.o.Rb(h),h=this.ce(this.tb,h);0>h.x&&(h.x=0);0>h.y&&(h.y=0);h.x>d&&(h.x=d);h.y>f&&(h.y=f);this.pageCoordinates[1]=h}else this.pageCoordinates[1]=this.ce(this.tb);a.data={mouseCoordinate:{x:c.x,y:c.y},pageCoordinate:this.pageCoordinates[1]}},mouseDoubleClick:function(a){var c=this.bh(a);this.Kc={x:c.x,y:c.y};this.tb={x:c.x,y:c.y};var c=this.o.oa,d=this.ce(this.tb);d&&(this.Ij=d.x,this.Jj=d.y,!(a=c.ht(a))||(a.Fe()||(a.Hidden||(d=c.tq(a),c.trigger("annotationDoubleClicked",
a),d&&c.Xs(a)))))},mouseLeave:function(){},tap:function(){},keyDown:function(){},contextMenu:function(){},switchIn:function(){},switchOut:function(){this.o.el.css("cursor","default");this.o.oa.ae()},$j:function(){return this.o},ce:function(a,c){var d=this.docViewer.Yl().gp(a,a);if("undefined"===typeof c){if(d=null===d.first?d.last:d.first,null===d)return null}else d=c;d=this.docViewer.Yl().Ui(a,d);return{pageIndex:d.pageIndex,x:d.x,y:d.y}}};var f=d.Tool;d.AnnotationSelectTool=function(a){f.call(this,
a);this.Jj=this.Ij=0;this.Og={x:0,y:0};this.Ug=this.Nb=null;this.state=d.AnnotationSelectTool.ob.NONE;this.Hd=NaN;this.mousedown=!1;this.cursor="default";this.overrideSelection=!1};d.AnnotationSelectTool.ob={NONE:0,Kq:1,Dv:2,mn:3,Jq:4};d.AnnotationSelectTool.PAGE_PADDING=new Annotations.na(2,2,2,2);d.AnnotationSelectTool.prototype=$.extend(new f,{mouseLeftDown:function(a){f.prototype.mouseLeftDown.call(this,a);if(this.overrideSelection)this.state=d.AnnotationSelectTool.ob.NONE;else{this.mousedown=
!0;this.state=d.AnnotationSelectTool.ob.NONE;var c=this.o.oa,g=this.ce(this.tb);if(g){this.Hd=g.pageIndex;this.Ij=g.x;this.Jj=g.y;this.Og.x=this.Ij;this.Og.y=this.Jj;for(var h=c.rf(),e=0;e<h.length;e++){var m=h[e];if("undefined"!==typeof m.selectionModel){var l=(new m.selectionModel(m,c.qc(m))).rq(m,this.o.lb(m.Va()),g.x,g.y);if(l){this.Nb=m;this.Ug=l;!this.Nb.NoResize&&c.qc(this.Nb)?this.state=d.AnnotationSelectTool.ob.Jq:(this.state=d.AnnotationSelectTool.ob.NONE,c.ae());return}}else if(console.warn("no selection model for annotation"),
this.Ug=c.Oy(this.Hd,g)){this.Nb=this.Ug.jb;!this.Nb.NoResize&&c.qc(this.Nb)?this.state=d.AnnotationSelectTool.ob.Dv:(this.state=d.AnnotationSelectTool.ob.NONE,c.ae());return}}g=c.Iy(a);if(0<g.length){this.Nb=null;for(h=0;h<g.length;++h)if(c.lk(g[h])){this.Nb=g[h];break}this.Nb||(this.Nb=g[0]);g=c.lk(this.Nb);!this.Nb.NoMove&&(c.qc(this.Nb)&&g)?this.state=d.AnnotationSelectTool.ob.Kq:a.ctrlKey?this.state=d.AnnotationSelectTool.ob.mn:(this.state=d.AnnotationSelectTool.ob.NONE,c.ae())}else c.ae()}}},
mouseMove:function(a){f.prototype.mouseMove.call(this,a);!this.isSelecting()&&this instanceof d.Uq||a.preventDefault();if(!this.overrideSelection&&this.state!==d.AnnotationSelectTool.ob.NONE){a=this.o.oa;var c=this.pageCoordinates[1];if(c&&this.Hd===c.pageIndex){var g=c.x-this.Og.x,h=c.y-this.Og.y;if(this.state===d.AnnotationSelectTool.ob.Kq&&this.Nb){"move"!==this.o.el.css("cursor")&&this.o.el.css("cursor","move");var e=a.rf(),m,l,p,r,q,s,u,v=!1;for(m=0;m<e.length;m++)p=e[m],a.qc(p)&&(!p.NoMove&&
(l=p.de(),v?(l.x1<r&&(r=l.x1),l.y1<q&&(q=l.y1),l.x2>s&&(s=l.x2),l.y2>u&&(u=l.y2)):(r=l.x1,q=l.y1,s=l.x2,u=l.y2,v=!0)));l=this.o.Sb(this.Hd);p=this.o.Rb(this.Hd);m=new Annotations.na;var w=this.o.lb(this.Nb.Va()),w=1;m.x1=d.AnnotationSelectTool.PAGE_PADDING.x1*w;m.y1=d.AnnotationSelectTool.PAGE_PADDING.y1*w;m.x2=l-d.AnnotationSelectTool.PAGE_PADDING.x2*w;m.y2=p-d.AnnotationSelectTool.PAGE_PADDING.y2*w;r=Math.max(0+d.AnnotationSelectTool.PAGE_PADDING.x1,r);q=Math.max(0+d.AnnotationSelectTool.PAGE_PADDING.y1,
q);s=Math.min(s,l-d.AnnotationSelectTool.PAGE_PADDING.x2);u=Math.min(u,p-d.AnnotationSelectTool.PAGE_PADDING.y2);if(v){r=r+g>=m.x1?g:m.x1-r;q=q+h>=m.y1?h:m.y1-q;s=s+g<=m.x2?g:m.x2-s;u=u+h<=m.y2?h:m.y2-u;g=0<=g?Math.min(r,s):Math.max(r,s);h=0<=h?Math.min(q,u):Math.max(q,u);this.Og.x=c.x;this.Og.y=c.y;c={};for(m=0;m<e.length;m++)if(p=e[m],a.qc(p)&&(!p.NoMove&&(l=p.de(),l.x1+=g,l.y1+=h,l.x2+=g,l.y2+=h,0!==g||0!==h)))p.resize(l),p.Gx=!0,c[p.Ib()]=!0;for(var x in c)this.o.oa.bc(x)}}else this.state===d.AnnotationSelectTool.ob.Jq&&
(this.Ug&&(this.Nb&&(x=this.Ug.move(this.Nb,g,h,this.ce(new Annotations.Point(this.Kc.x,this.Kc.y)),c,this.o),this.Og.x=c.x,this.Og.y=c.y,x&&this.o.oa.Bc(this.Nb))))}}},mouseLeftUp:function(){if(!this.overrideSelection){this.mousedown=!1;var a=this.o.oa,c=a.rf();if(this.state===d.AnnotationSelectTool.ob.Kq)for(var g=0;g<c.length;g++){var h=c[g];h.Gx&&(h.Gx=void 0,a.trigger("annotationChanged",[[h],"modify"]))}else this.state===d.AnnotationSelectTool.ob.Dv?(g=this.Ug.jb,this.Ug&&a.trigger("annotationChanged",
[[g],"modify"])):this.state===d.AnnotationSelectTool.ob.Jq&&(this.Nb&&a.trigger("annotationChanged",[[this.Nb],"modify"]));0<c.length?this.o.el.css("cursor","default"):this.o.el.css("cursor",this.cursor);this.state=d.AnnotationSelectTool.ob.NONE}},yu:function(){this.o.oa.hi(this.annotation);this.annotation=null},keyDown:function(b){27===b.which&&(void 0!==this.annotation&&(null!==this.annotation&&this.yu()));46!==b.which&&8!==b.which||(a.utils.isEditableElement($(b.target))||(b=this.o.ad().rf(),this.o.ad().Js(b)))},
tap:function(a){if(!this.overrideSelection){var c=this.o.ad(),d=c.ht(a);if(d){var h=c.lk(d);a.originalEvent.ctrlKey?h?c.Ll(d):c.Ck(d):h||(c.ae(),c.Ck(d));a.preventDefault()}}},isSelecting:function(){return this.state!==d.AnnotationSelectTool.ob.NONE}});d.Uq=function(a){d.AnnotationSelectTool.call(this,a);this.Ur={x:0,y:0};this.On=!1;this.cursor="url(Resources/hand.png), url(Resources/hand.cur), pointer"};d.Uq.prototype=$.extend(new d.AnnotationSelectTool,{switchIn:function(){this.o.el.css("cursor",
this.cursor)},mouseLeftDown:function(a){d.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);this.isSelecting()||(this.Ur=this.bh(a),this.On=!0,this.o.el.css("cursor","url(Resources/dragginghand.png),url(Resources/dragginghand.cur), pointer"))},mouseLeftUp:function(a){d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);this.isSelecting()||(this.On=!1)},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(!this.isSelecting()&&this.On){var c=this.o.dc(),g=this.bh(a);
a=this.Ur.x-g.x;g=this.Ur.y-g.y;this.o.scrollTo(c.scrollLeft()+a,c.scrollTop()+g)}},mouseLeave:function(){this.On=!1;this.o.el.css("cursor",this.cursor)}});d.Cb=function(a){f.call(this,a);this.ge=!1;this.cursor="text"};d.Cb.SELECTION_MODE="structural";d.Cb.prototype={switchIn:function(){this.Px(null,this.o.kf());this.o.on("rotationUpdated.textTool",_.bind(this.Px,this))},switchOut:function(a){f.prototype.switchOut.call(this,a);this.o.off("rotationUpdated.textTool")},Px:function(b,c){this.cursor=c===
a.k.sa.$c||c===a.k.sa.Jd?"vertical-text":"text";this.o.el.css("cursor",this.cursor)},mouseLeftDown:function(a){d.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);this.isSelecting()||(a.altKey&&(d.Cb.SELECTION_MODE="rectangular"),this.ge=!0,this.o.As())},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,a);this.isSelecting()||(!0!==this.ge||(1!==a.which&&0!==a.which?this.ge=!1:(a.data&&(this.pageCoordinates[1]=this.ce(a.data.mouseCoordinate)),this.select(this.pageCoordinates[0],
this.pageCoordinates[1]))))},select:function(a,c){var d=this.o;if(a&&c){var h,f;c.pageIndex>=a.pageIndex?(h=a,f=c):(h=c,f=a);var m=h.pageIndex,l=f.pageIndex;if(null!==m&&null!==l){var p=new e.Ba,r=d.u.Jc(m);1<=l-m?p.Ya(h.x,h.y,r.width,r.height):p.Ya(h.x,h.y,f.x,f.y);this.o.Dk(m,p,_.bind(this.textSelected,this));for(h=m+1;h<l;h++)r=d.u.Jc(h),p=new e.Ba,p.Ya(0,0,r.width,r.height),d.Dk(h,p,_.bind(this.textSelected,this));m!==l&&(p=new e.Ba,p.Ya(0,0,f.x,f.y),d.Dk(l,p,_.bind(this.textSelected,this)))}}},
textSelected:function(){},mouseLeftUp:function(a){d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);this.isSelecting()||(a.altKey&&("rectangular"===d.Cb.SELECTION_MODE&&(d.Cb.SELECTION_MODE="structural")),this.ge=!1)}};d.Cb.prototype=$.extend(new d.AnnotationSelectTool,d.Cb.prototype);d.Nv=function(a){d.Cb.call(this,a);this.ue={};this.Cw=this.px=this.tj=null};d.Nv.prototype=$.extend(new d.Cb,{select:function(){this.o.Rx();this.ue={};d.Cb.prototype.select.apply(this,arguments)},mouseLeftDown:function(a){this.tj=
null;var c=this.ce(this.bh(a));if(c){var g=c.pageIndex,h=this.bD(g),f=this;h.Md=function(){return f.ue[g]};var e=!1,l=!1,p=this.yr();0<p.length&&(g===p[0]&&(e=!0),g===p[p.length-1]&&(l=!0));if(c=(new Annotations.Gh(h,!0,!1,e,l)).rq(h,this.o.lb(g),c.x,c.y))this.tj=c,this.tj.wi?this.px=this.dD():this.Cw=this.cD()}this.tj||(d.Cb.prototype.mouseLeftDown.apply(this,arguments),this.ue={});this.ge=!0},mouseMove:function(a){if(this.ge&&this.tj){var c=this.ce(this.bh(a));if(c){var g;this.tj.wi?g=this.px:(g=
c,c=this.Cw);this.ue={};this.select(g,c)}}else d.Cb.prototype.mouseMove.apply(this,arguments)},mouseLeftUp:function(){d.Cb.prototype.mouseLeftUp.apply(this,arguments);0<Object.keys(this.ue).length?(this.o.el.css("cursor","default"),this.Xr()):0===this.o.ad().rf().length&&this.o.el.css("cursor",this.cursor)},textSelected:function(a,c,d){this.o.Sp(a,c,d);0<c.length&&(this.o.el.css("cursor","default"),this.ue[a]=c.map(function(a){return a.pf()}));this.ge||this.Xr()},mouseDoubleClick:function(){var a=
this.pageCoordinates[0];if(a){var c=this;this.o.OH(a.pageIndex,a,function(){c.textSelected.apply(c,arguments);c.Xr()})}},Xr:function(){var a=this.Mw();a.quad&&this.trigger("selectionComplete",[a,this.ue])},yr:function(){return Object.keys(this.ue).map(function(a){return parseInt(a,10)}).sort(function(a,c){return a-c})},Mw:function(){var a=this.yr()[0],c=this.ue[a];return{quad:c?c[0]:null,pageIndex:a}},dD:function(){var a=this.Mw(),c=a.quad;return{x:c.x1,y:(c.y1+c.y3)/2,pageIndex:a.pageIndex}},cD:function(){var a=
this.yr(),a=a[a.length-1],c=this.ue[a],c=c[c.length-1];return{x:c.x3,y:(c.y1+c.y3)/2,pageIndex:a}},bD:function(a){var c=Infinity,d=Infinity,h=0,f=0;if(a=this.ue[a])for(var e=0;e<a.length;++e)var l=a[e],c=Math.min(c,l.x1,l.x2,l.x3,l.x4),d=Math.min(d,l.y1,l.y2,l.y3,l.y4),h=Math.max(h,l.x1,l.x2,l.x3,l.x4),f=Math.max(f,l.y1,l.y2,l.y3,l.y4);return{X:c,Y:d,Width:h-c,Height:f-d}}},a.utils.eventHandler);d.nb=function(a,c,g){d.AnnotationSelectTool.call(this,a);this.annotation=null;this.cs=c;this.hE=g;this.cursor=
"crosshair";this.defaults={StrokeColor:new Annotations.Color(0,0,0),FillColor:new Annotations.Color(0,0,0,0),StrokeThickness:1,Opacity:1}};d.nb.prototype=$.extend(new d.AnnotationSelectTool,{switchIn:function(){this.o.el.css("cursor",this.cursor);this.o.hd({annotMode:!0})},switchOut:function(a){null!==this.annotation&&(void 0!==this.annotation&&(this.o.oa.hi(this.annotation),this.annotation=null));d.AnnotationSelectTool.prototype.switchOut.call(this,a);this.o.hd({annotMode:!1})},mouseLeftDown:function(a){d.AnnotationSelectTool.prototype.mouseLeftDown.call(this,
a);if(!this.isSelecting()&&(!this.annotation&&(a=this.pageCoordinates[0]))){var c=this.o.oa;this.annotation=new this.cs(this.hE);this.annotation.X=a.x;this.annotation.Y=a.y;this.annotation.PageNumber=a.pageIndex+1;this.annotation.Author=c.Zj();null!==this.annotation.StrokeColor&&(a=this.defaults.StrokeColor,this.annotation.StrokeColor=new Annotations.Color(a.R,a.G,a.B,a.A));null!==this.annotation.StrokeThickness&&(this.annotation.StrokeThickness=this.defaults.StrokeThickness);null!==this.annotation.FillColor&&
(a=this.defaults.FillColor,this.annotation.FillColor=new Annotations.Color(a.R,a.G,a.B,a.A));this.annotation.Opacity=this.defaults.Opacity;this.trigger("annotationCreated",[this.annotation])}},mouseLeftUp:function(a){d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);this.isSelecting()||this.finish()},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(!this.isSelecting()&&(this.annotation&&"undefined"!==typeof this.pageCoordinates)){a=this.pageCoordinates[0];var c=
this.pageCoordinates[1];null!==c&&(null!==a&&(a.pageIndex===c.pageIndex&&(a=new Annotations.na(a.x,a.y,c.x,c.y),a.normalize(),this.annotation.sg(a),this.o.oa.Bc(this.annotation))))}},finish:function(){if(this.annotation){var a=this.annotation.wa(),c=this.annotation.va(),d=2*(this.annotation.getRectPadding()+1);a<=d&&c<=d?this.o.oa.hi(this.annotation):(this.o.oa.Pg(this.annotation),this.trigger("annotationAdded",[this.annotation]));this.annotation=null}}},a.utils.eventHandler);new d.nb;d.iv=function(a){d.AnnotationSelectTool.call(this,
a);this.lh=this.Zt=null};d.iv.prototype=$.extend(new d.AnnotationSelectTool,{switchIn:function(){this.o.el.css("cursor","default")},switchOut:function(a){f.prototype.switchOut.call(this,a)},mouseLeftDown:function(a){d.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);if(!this.isSelecting()){this.mousedown=!0;this.state=d.AnnotationSelectTool.ob.NONE;a=this.o.oa;var c=this.ce(this.tb);c&&(this.Hd=c.pageIndex,a.ae(),this.state=(this.Zt=this.o.Yg(this.Hd))?d.AnnotationSelectTool.ob.mn:d.AnnotationSelectTool.ob.NONE)}},
mouseMove:function(b){d.AnnotationSelectTool.prototype.mouseMove.call(this,b);if(this.state===d.AnnotationSelectTool.ob.mn&&((b=this.pageCoordinates[1])&&this.Hd===b.pageIndex)){var c=b.x,g=b.y;b=0>c-this.Ij?c:this.Ij;var h=0>g-this.Jj?g:this.Jj,c=Math.abs(c-this.Ij),g=Math.abs(g-this.Jj),f=$("#annoteditselectrect");0===f.length&&(f=$("<div id='annoteditselectrect' class='ui-selectable-helper'></div>").appendTo(this.o.el));var e=this.tb.x-this.Kc.x,l=this.tb.y-this.Kc.y,p=this.o.dc(),r=this.Kc.x-
p.scrollLeft(),q=this.Kc.y-p.scrollTop(),s=this.tb.x-p.scrollLeft(),u=this.tb.y-p.scrollTop(),v=this.o.Sb(this.Hd),w=this.o.Rb(this.Hd),q=Math.min(u,q),r=Math.min(s,r),s=this.docViewer.Yl().ed({x:0,y:0},this.Hd),x=this.docViewer.Yl().ed({x:v,y:w},this.Hd),v=Math.min(s.x,x.x),w=Math.min(s.y,x.y),u=Math.max(s.x,x.x),s=Math.max(s.y,x.y),v=v-p.scrollLeft(),w=w-p.scrollTop();w>q&&(l+=w-q,q=w);v>r&&(e+=v-r,r=v);u-=p.scrollLeft();s-=p.scrollTop();e=a.Fa.ra.Ao(Math.abs(e),0,u-r);l=a.Fa.ra.Ao(Math.abs(l),
0,s-q);f.css({width:e,height:l,top:q,left:r,"z-index":"44",position:"absolute",border:"1px dotted black",display:"inline"});this.lh=a.Fa.Mz(b,h,c,g)}},mouseLeftUp:function(a){this.state!==d.AnnotationSelectTool.ob.mn?d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a):(this.mousedown=!1,this.lh&&(this.lh.x1===this.lh.x2&&this.lh.y1===this.lh.y2?d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a):(a=this.$C(this.Hd,this.lh),this.o.ad().Au(a))),this.lh=this.Zt=null,this.state=d.AnnotationSelectTool.ob.NONE,
$("#annoteditselectrect").css("display","none"))},$C:function(b,c){for(var d,h=[],f=this.o.ad().Hb.filter(function(a){return a.Va()===b&&(!a.Fe()&&!a.Hidden)}),e=0;e<f.length;e++){d=f[e];var l=1;!0===d.NoZoom&&(l=this.o.lb(d.Va()));a.Fa.sH(c,a.Fa.Mz(d.ah(),d.eh(),d.wa()/l,d.va()/l))&&h.push(d)}return h}});d.al=function(b){d.nb.call(this,b,a.Annotations.md)};d.al.prototype=$.extend(new d.nb,{mouseLeftDown:function(a){d.nb.prototype.mouseLeftDown.call(this,a);this.isSelecting()||this.annotation&&(this.annotation.Start=
{x:this.pageCoordinates[0].x,y:this.pageCoordinates[0].y})},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(!this.isSelecting()&&(this.annotation&&"undefined"!==typeof this.pageCoordinates)){a=this.pageCoordinates[0];var c=this.pageCoordinates[1];null!==c&&(null!==a&&(a.pageIndex===c.pageIndex&&(this.annotation.End={x:c.x,y:c.y},this.annotation.adjustRect(),this.o.oa.Bc(this.annotation))))}}});d.jv=function(a){d.al.call(this,a)};d.jv.prototype=$.extend(new d.al,{mouseLeftDown:function(a){d.al.prototype.mouseLeftDown.call(this,
a);this.annotation&&this.annotation.Pi("OpenArrow")}});d.Ev=function(b){d.nb.call(this,b,a.Annotations.jj)};d.Ev.prototype=new d.nb;d.ov=function(b){d.nb.call(this,b,a.Annotations.Yi)};d.ov.prototype=new d.nb;d.FreeHandCreateTool=function(b){d.nb.call(this,b,a.Annotations.FreeHandAnnotation);this.Tb=0;this.Co=null;this.ge=!1;this.pointerType=null};d.FreeHandCreateTool.prototype=$.extend(new d.nb,{createDelay:1500,simplifyPen:!1,mouseLeftDown:function(a){d.AnnotationSelectTool.prototype.mouseLeftDown.call(this,
a);if(!this.isSelecting()&&this.pageCoordinates[0]){this.ge=!0;if(this.annotation)if(this.pageCoordinates[0].pageIndex===this.annotation.PageNumber-1){a=this.pageCoordinates[0].x;var c=this.pageCoordinates[0].y,g=!1,h=this.annotation.getPath(this.Tb);h&&(0<h.length&&(h=h[h.length-1],h.x===a&&(h.y===c&&(g=!0))));g||this.annotation.Fb(a,c,this.Tb)}else this.complete(),d.FreeHandCreateTool.prototype.mouseLeftDown.call(this,a);else d.nb.prototype.mouseLeftDown.call(this,a);clearTimeout(this.Co)}},complete:function(){this.annotation&&
0<this.annotation.qi().length?(this.o.oa.Bc(this.annotation),this.annotation.finish(),d.nb.prototype.mouseLeftUp.call(this,null),this.ix()):this.annotation=null},Hp:function(){this.complete()},switchOut:function(a){this.complete();d.nb.prototype.switchOut.call(this,a)},mouseLeftUp:function(){d.AnnotationSelectTool.prototype.mouseLeftUp.apply(this,arguments);if(!this.isSelecting()&&(this.ge=!1,this.annotation)){var a=this.o.oa,c=this.annotation.getPath(this.Tb);if(c){if(4>c.length)this.annotation.qi().pop(),
this.annotation.adjustRect(),a.Bc(this.annotation);else{if("pen"!==this.pointerType||this.simplifyPen)this.annotation.CI(0.75),a.Bc(this.annotation);this.Tb++}this.Co=setTimeout(_.bind(this.complete,this),this.createDelay)}0===this.annotation.qi().length&&(this.complete(),clearTimeout(this.Co))}},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,a);!this.isSelecting()&&(!1!==this.ge&&(this.annotation&&(null!==this.pageCoordinates&&(null!==this.pageCoordinates[1]&&(this.pageCoordinates[0].pageIndex===
this.pageCoordinates[1].pageIndex&&(this.annotation.Fb(this.pageCoordinates[1].x,this.pageCoordinates[1].y,this.Tb),this.o.oa.Bc(this.annotation)))))))},ix:function(){this.Tb=0;this.ge=!1;clearTimeout(this.Co)},yu:function(){this.ix();d.AnnotationSelectTool.prototype.yu.call(this)},contextMenu:function(a){a.preventDefault()},cA:function(a){this.pointerType=a.originalEvent.pointerType}});d.SignatureCreateTool=function(a){d.Tool.call(this,a);this.Hg=100;this.location=null;this.Ol=!1;this.uq=this.Tb=
0;this.visible=!1;this.Hs=null;var c=this;$(document).on("mouseup",function(){c.Ol&&(c.visible=!0);c.Fw()})};d.SignatureCreateTool.prototype={switchIn:function(){this.o.el.css("cursor","crosshair");this.initAnnot()},Jw:function(a){var c,d=this.canvas[0].getBoundingClientRect();a.originalEvent&&(a.originalEvent.touches&&(a=0===a.originalEvent.touches.length?a.originalEvent.changedTouches[0]:a.originalEvent.touches[0]));c=a.clientX;a=a.clientY;return{x:c-d.left,y:a-d.top}},qw:function(){this.ctx.setTransform(1,
0,0,1,0,0);this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)},dE:function(){this.qw();this.drawBackground();this.freeHandAnnot.JE();this.uq=this.Tb=0},Fw:function(){this.Ol&&(this.Tb++,this.visible&&(this.uq++,this.visible=!1));this.Ol=!1},drawBackground:function(){var a=window.utils.getCanvasMultiplier();this.ctx.scale(a,a);this.ctx.save();var c=2/3*this.ctx.canvas.height/a;this.ctx.strokeStyle="#000";this.ctx.lineCap="square";this.ctx.lineWidth=1;this.ctx.beginPath();this.ctx.moveTo(10,
c);this.ctx.lineTo(this.ctx.canvas.width/a-10,c);this.ctx.stroke();this.ctx.fillStyle="#000";var d=i18n.t("signatureDialog.signHere");this.ctx.textAlign="center";this.ctx.textBaseline="top";this.ctx.font="15px Verdana,Arial,sans-serif";this.ctx.fillText(d,this.ctx.canvas.width/a/2,c-20);this.ctx.restore()},zw:function(){this.qw();this.drawBackground();this.freeHandAnnot.draw(this.ctx)},initAnnot:function(){var a=this.o.ad();this.freeHandAnnot=new Annotations.FreeHandAnnotation;this.freeHandAnnot.Author=
a.Zj();this.freeHandAnnot.StrokeColor=new Annotations.Color(0,0,0);this.freeHandAnnot.StrokeThickness=3;this.freeHandAnnot.Subject=i18n.t("annotations.types.signature")},uz:function(a){this.Hs=a},tD:function(a){this.uz(a);this.trigger("saveDefault",[a])},VF:function(){return this.Hs?!0:!1},TG:function(){this.drawBackground()},yD:function(){var a=this.Hs;if(a){for(var a=$.extend(!0,[],a),c=0;c<a.length;++c)this.freeHandAnnot.setPath(a[c],c);this.uq=a.length;this.Dx()}},Dx:function(b){if(this.zz())return!1;
b&&this.tD(this.freeHandAnnot.qi());b=this.o.ad();var c=this.location.pageIndex+1;this.freeHandAnnot.PageNumber=c;this.freeHandAnnot.StrokeThickness=1;c=this.o.kf(c);c!==a.k.sa.we&&this.freeHandAnnot.rotate(c*-Math.PI/2,this.location);var d=this.freeHandAnnot.Width,h=this.freeHandAnnot.Height,f,e;d>h?(c=this.location.x-this.Hg,f=this.location.y-h/d*this.Hg,e=this.location.x+this.Hg,h=this.location.y+h/d*this.Hg):(c=this.location.x-d/h*this.Hg,f=this.location.y-this.Hg,e=this.location.x+d/h*this.Hg,
h=this.location.y+this.Hg);d=this.o.getDocument().Jc(this.location.pageIndex);c=new Annotations.na(c,f,e,h);c.Vs(new Annotations.na(0,0,d.width,d.height));this.freeHandAnnot.resize(c);b.Pg(this.freeHandAnnot);b.Bc(this.freeHandAnnot);this.trigger("annotationAdded",[this.freeHandAnnot]);this.initAnnot();return!0},zz:function(){return 0===this.uq},oI:function(a){var c=this;this.canvas=a;this.ctx=a[0].getContext("2d");this.canvas.on("mousedown touchstart",function(a){if(1===a.which||0===a.which)a=c.Jw(a),
c.freeHandAnnot.Fb(a.x,a.y,c.Tb),c.zw(),c.Ol=!0});this.canvas.on("touchmove",function(a){a.preventDefault()});this.canvas.on("mousemove touchmove",_.throttle(function(a){c.Ol&&(a=c.Jw(a),c.freeHandAnnot.Fb(a.x,a.y,c.Tb),c.zw(),c.visible=!0)},20));this.canvas.on("mouseup touchend",function(){c.Fw()})},mouseLeftUp:function(a){a.preventDefault();d.Tool.prototype.mouseLeftUp.apply(this,arguments);var c=this.pageCoordinates[1];c&&(this.location=c,this.trigger("locationSelected",c))}};d.SignatureCreateTool.prototype=
$.extend(new d.Tool,d.SignatureCreateTool.prototype,a.utils.eventHandler);d.od=function(a,c){d.Cb.call(this,a);this.text=this.annotation=null;this.cs=c;this.defaults={StrokeColor:new Annotations.Color(255,0,0)}};d.od.AUTO_SET_TEXT=!0;d.od.prototype=$.extend(new d.Cb,{switchIn:function(a){d.Cb.prototype.switchIn.call(this,a);this.o.hd({annotMode:!0})},switchOut:function(a){d.Cb.prototype.switchOut.call(this,a);this.o.hd({annotMode:!1})},mouseLeftDown:function(a){d.Cb.prototype.mouseLeftDown.call(this,
a);this.isSelecting()||(this.annotation||(!this.pageCoordinates||(a=this.o.oa,this.annotation=new this.cs,this.annotation.Author=a.Zj(),a=this.defaults.StrokeColor,this.annotation.StrokeColor=new Annotations.Color(a.R,a.G,a.B,a.A),this.trigger("annotationCreated",[this.annotation]))))},textSelected:function(a,c,g){this.annotation&&(this.pageCoordinates[0].pageIndex===a&&(0<c.length&&(this.annotation.Nu(c.map(function(a){return a.pf()})),this.annotation.PageNumber=a+1,this.text=g,d.od.AUTO_SET_TEXT&&
this.annotation.Ni(this.text),this.o.oa.Bc(this.annotation))))},mouseLeftUp:function(a){d.Cb.prototype.mouseLeftUp.call(this,a);!this.isSelecting()&&(this.annotation&&(a=this.o.oa,!this.text||1>this.text.length?a.hi(this.annotation):(a.Pg(this.annotation),this.trigger("annotationAdded",[this.annotation])),this.annotation=this.text=null))}},a.utils.eventHandler);d.Mv=function(b){d.od.call(this,b,a.Annotations.If);this.defaults.StrokeColor=new Annotations.Color(255,255,0)};d.Mv.prototype=new d.od;d.Qv=
function(b){d.od.call(this,b,a.Annotations.oj)};d.Qv.prototype=new d.od;d.Pv=function(b){d.od.call(this,b,a.Annotations.Hh)};d.Pv.prototype=$.extend(new d.od,{mouseLeftUp:function(){d.od.prototype.mouseLeftUp.apply(this,arguments);if(!this.isSelecting()){var a=this.annotation,c=this.o.oa;a&&(c.fh(a)&&(c.Xs(a),c.Bc(a)))}}});d.Ov=function(b){d.od.call(this,b,a.Annotations.nj)};d.Ov.prototype=new d.od;d.Iv=function(a){f.call(this,a);this.annotation=null;this.defaults={StrokeColor:new Annotations.Color(255,
255,0),Opacity:1}};d.Iv.prototype=$.extend(new d.Tool,{switchIn:function(){this.o.el.css("cursor","crosshair")},mouseLeftDown:function(a){if(!this.annotation){f.prototype.mouseLeftDown.call(this,a);var c=this.pageCoordinates[0];if(c){var d=this.o.oa;this.annotation=new Annotations.Hf;this.annotation.X=c.x;this.annotation.Y=c.y;this.annotation.PageNumber=c.pageIndex+1;this.annotation.Author=d.Zj();c=this.defaults.StrokeColor;this.annotation.StrokeColor=new Annotations.Color(c.R,c.G,c.B,c.A);this.annotation.Opacity=
this.defaults.Opacity;this.trigger("annotationCreated",[this.annotation]);d.Pg(this.annotation);this.trigger("annotationAdded",[this.annotation]);d.Bc(this.annotation);var h=this.annotation;setTimeout(function(){d.Xs(h)},500);this.annotation=null;a.preventDefault()}}}},a.utils.eventHandler);d.gl=function(b){d.nb.call(this,b,a.Annotations.ij);this.annotation=null;this.Hi=!1};d.gl.prototype=$.extend(new d.nb,{mouseLeftDown:function(a){var c;d.nb.prototype.mouseLeftDown.call(this,a);!this.isSelecting()&&
(this.annotation&&((c=a.data.pageCoordinate,c&&c.pageIndex===this.annotation.Va())?null!==c.x&&(null!==c.y&&(0===this.annotation.V.length?this.annotation.Fb(c.x,c.y):this.Hi||(this.annotation.uk(),this.annotation.Fb(c.x,c.y)),this.Hi=!0)):this.mouseDoubleClick(a)))},mouseLeftUp:function(a){d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a)},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(this.annotation&&(!this.isSelecting()&&(a.data&&(a=a.data.pageCoordinate,
null!==a&&(null!==a.x&&(null!==a.y&&a.pageIndex===this.annotation.Va())))))){this.Hi||this.annotation.uk();var c=this.annotation.getPath();0===c.length?(this.annotation.Fb(a.x,a.y),this.Hi=!1):0<c.length&&((c[c.length-1].x!==a.x||c[c.length-1].y!==a.y)&&(this.annotation.Fb(a.x,a.y),this.Hi=!1));this.annotation.X=this.annotation.La.x;this.annotation.Y=this.annotation.La.y;this.o.oa.Bc(this.annotation)}},mouseDoubleClick:function(){this.annotation&&(this.annotation.finish(),this.finish())},Hp:function(a){this.annotation&&
this.mouseDoubleClick(a)},contextMenu:function(a){a.preventDefault()},tap:function(){}});d.hj=function(b){d.nb.call(this,b,a.Annotations.Eg);this.annotation=null;this.Hi=!1};d.hj.prototype={};d.hj.prototype=$.extend(new d.gl,d.hj.prototype);d.qn=function(b){d.nb.call(this,b,a.Annotations.Eg);this.annotation=null;this.Hi=!1};d.qn.prototype={mouseLeftDown:function(){d.hj.prototype.mouseLeftDown.apply(this,arguments);this.annotation&&(this.annotation.Style="cloudy",this.annotation.Intent="PolygonCloud")}};
d.qn.prototype=$.extend(new d.hj,d.qn.prototype);d.Gq=function(b){d.nb.call(this,b,a.Annotations.Ja,Annotations.Ja.Ad.FreeTextCallout);this.defaults.TextColor=new Annotations.Color(255,0,0);this.defaults.FontSize="9pt"};d.Gq.prototype={};$.extend(d.Gq.prototype,d.gl.prototype,{mouseLeftDown:function(a){d.gl.prototype.mouseLeftDown.call(this,a);if(null!==this.annotation&&3<=this.annotation.getPath().length){4===this.annotation.getPath().length&&this.annotation.uk();var c=this.annotation.getPath()[2],
g=90*this.o.kf(this.annotation.PageNumber),h=this.o.Sb(this.annotation.Va()),f=this.o.Rb(this.annotation.Va());c.x+150>h&&(c.x-=150);c.y+15>f?c.y-=15:0>c.y-15&&(c.y+=15);90===g||270===g?(this.annotation.Fb(c.x-15,c.y),this.annotation.Fb(c.x+15,c.y+150)):(this.annotation.Fb(c.x,c.y-15),this.annotation.Fb(c.x+150,c.y+15));this.annotation.Rotation=g;c=this.defaults.TextColor;this.annotation.TextColor=new Annotations.Color(c.R,c.G,c.B,c.A);this.annotation.FontSize=this.defaults.FontSize;this.o.oa.Bc(this.annotation);
this.finish();a.preventDefault()}},mouseDoubleClick:function(a){this.annotation||d.Tool.prototype.mouseDoubleClick.call(this,a)},Hp:function(){if(null!==this.annotation){var a=this.annotation.Ib();this.annotation=null;this.o.oa.bc(a)}},contextMenu:function(a){a.preventDefault()}});d.sv=function(b){d.nb.call(this,b,a.Annotations.Ja);this.defaults.StrokeThickness=0;this.defaults.TextColor=new Annotations.Color(255,0,0);this.defaults.FontSize="9pt"};d.sv.prototype=$.extend(new d.nb,{initialText:"Insert text here",
mouseLeftDown:function(a){d.nb.prototype.mouseLeftDown.call(this,a);!this.isSelecting()&&(this.annotation&&(this.annotation.StrokeThickness=Math.max(this.annotation.StrokeThickness,1),this.annotation.FillColor=new Annotations.Color(200,220,250,0.2),this.annotation.Fk(Annotations.Ja.Ad.FreeText),this.annotation.Ni(this.initialText),this.annotation.Rotation=90*this.o.kf(this.annotation.PageNumber),a=this.defaults.TextColor,this.annotation.TextColor=new Annotations.Color(a.R,a.G,a.B,a.A),this.annotation.FontSize=
this.defaults.FontSize))},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(!this.isSelecting()&&(this.annotation&&"undefined"!==typeof this.pageCoordinates)){a=this.pageCoordinates[0];var c=this.pageCoordinates[1];null!==c&&(null!==a&&(a.pageIndex===c.pageIndex&&(a=new Annotations.na(a.x,a.y,c.x,c.y),a.normalize(),this.annotation.sg(a),this.annotation.Hk(new Annotations.na(0,0,0,0)),this.o.oa.Bc(this.annotation))))}},mouseLeftUp:function(a){d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,
a);!this.isSelecting()&&(this.annotation&&(this.annotation.StrokeThickness=this.defaults.StrokeThickness,a=this.defaults.FillColor,this.annotation.FillColor=new Annotations.Color(a.R,a.G,a.B,a.A),a=this.annotation.getRectPadding(),this.annotation.Hk(new Annotations.na(a,a,a,a)),this.o.oa.Bc(this.annotation),this.finish()))}})})(window);
(function(a){function e(){function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function d(b,c,d){if(a.utils.disableFormCharacterProcessing)b.on("change",function(){c({change:this.value,Nt:!0})});else b.on("paste",function(a){var d;d=a.originalEvent.clipboardData?(a.originalEvent||a).clipboardData.getData("text/plain"):window.clipboardData?window.clipboardData.getData("Text"):void 0;d&&(a.change=d,a.selectionStart=b.prop("selectionStart"),
a.selectionEnd=b.prop("selectionEnd"),c(a))}),b.on("cut",function(a){a.change={type:"backspace"};a.selectionStart=b.prop("selectionStart");a.selectionEnd=b.prop("selectionEnd");c(a)}),b.on("keypress",function(a){var g;if(g=!d||10!==a.which&&13!==a.which){g="undefined"===typeof a.key;var h=!a.ctrlKey&&!a.metaKey;g=("string"===typeof a.key&&(1===a.key.length||("Spacebar"===a.key||("Enter"===a.key||("Add"===a.key||("Subtract"===a.key||("Multiply"===a.key||("Divide"===a.key||"Del"===a.key)))))))||g)&&
h}g&&(a.change=String.fromCharCode(a.which),a.selectionStart=b.prop("selectionStart"),a.selectionEnd=b.prop("selectionEnd"),c(a))}),b.on("keydown",function(a){a.selectionStart=b.prop("selectionStart");a.selectionEnd=b.prop("selectionEnd");8===a.which?(a.change={type:"backspace"},c(a)):46===a.which&&(a.change={type:"delete"},c(a))})}var f;if(!(f=!Object.defineProperty)){var b;try{Object.defineProperty({},"x",{}),b=!0}catch(c){b=!1}f=!b}f&&(Object.defineProperty=function(a,b,c){if(a!==Object(a))throw new TypeError("Object.defineProperty called on non-object");
Object.prototype.__defineGetter__&&("get"in c&&Object.prototype.__defineGetter__.call(a,b,c.get));Object.prototype.__defineSetter__&&("set"in c&&Object.prototype.__defineSetter__.call(a,b,c.set));"value"in c&&(a[b]=c.value);return a});"function"!==typeof Object.defineProperties&&(Object.defineProperties=function(a,b){if(a!==Object(a))throw new TypeError("Object.defineProperties called on non-object");for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&Object.defineProperty(a,c,b[c]);return a});
a.Annotations=a.Annotations||{};var g=a.Annotations,h=1;g.Annotation=function(){this.Subject="Annotation";this.cw=1;this.dr=this.gr=this.ir=this.hr=0;this.Vv=void 0;this.SJ=this.RJ=!1;this.kw=void 0;this.sr=new Date;this.Ow=e();this.Br=!0;this.xj=this.Tw=this.Th=!1;this.Vw=this.Pr=!0;this.$n=[]};g.Annotation.prototype={elementName:"annotation",selectionModel:g.nn,gh:!1,qf:function(){return null},draw:function(){},render:function(){},av:function(){},ih:function(){return!1},Az:function(){return!1},
sg:function(a){var b=this.de();a=new g.na(a.x1,a.y1,a.x2,a.y2);0>a.wa()&&(a.x1=b.x1,a.x2=b.x2);0>a.va()&&(a.y1=b.y1,a.y2=b.y2);this.X=a.x1;this.Y=a.y1;this.Width=a.wa();this.Height=a.va()},adjustRect:function(){},resize:function(a){this.sg(a)},ri:function(){return this.X},uI:function(a){this.X=parseFloat(a)},si:function(){return this.Y},vI:function(a){this.Y=parseFloat(a)},wa:function(){return this.Width},sI:function(a){this.Width=parseFloat(a)},va:function(){return this.Height},Iu:function(a){this.Height=
parseFloat(a)},de:function(){return new g.na(this.X,this.Y,this.X+this.Width,this.Y+this.Height)},getRectPadding:function(){return 0},Ib:function(){return this.PageNumber},Va:function(){return"undefined"===typeof this.PageNumber?void 0:this.PageNumber-1},CA:function(a){this.PageNumber=parseInt(a,10)},ah:function(){return this.ri()},jz:function(){return this.ah()+this.Width},eh:function(){return this.si()},Ky:function(){return this.eh()+this.Height},fF:function(){return this.Custom},VH:function(a){this.Custom=
a},Zg:function(){return this.dH},Ni:function(a){this.dH=a;this.Jb()},$h:function(a){this.$n.push(a)},Ks:function(a){a=this.$n.indexOf(a);-1<a&&this.$n.splice(a,1)},fm:function(){return this.$n},Fe:function(){return!(_.isUndefined(this.InReplyTo)||_.isNull(this.InReplyTo))},DH:function(){return this.Pr},Jb:function(){this.isImporting||(this.sr=new Date);this.Br||(this.Th=!0)},serialize:function(b,c){var d=$(b),h=g.da,f=this.de();f.xy();f={subject:this.Subject,page:this.Va(),rect:h.gq(f,c),flags:"print"};
this.Hidden&&(f.flags+=",hidden");this.Id&&(f.name=this.Id);this.Author&&(f.title=this.Author);this.Rotation&&(f.rotation=this.Rotation);this.DateModified&&(f.date=h.Yu(this.DateModified));d.attr(f);if(h=this.Zg()){var f=document.createElementNS("","contents-richtext"),e;if(a.utils.xmlSerializerNamespaceSupported){e=document.createElementNS("http://www.w3.org/1999/xhtml","body");var n=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:spec");n.nodeValue="2.0.2";e.setAttributeNodeNS(n);
n=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion");n.nodeValue="Acrobat:10.1.3";e.setAttributeNodeNS(n);e=$(e)}else e=$("<body>").attr({xmlns:"http://www.w3.org/1999/xhtml","xmlns:xfa":"http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion":"Acrobat:10.1.3","xfa:spec":"2.0.2"});e.appendTo($(f));e=$('<p dir="ltr"></p>').appendTo(e);n=";font-weight:normal;font-style:normal";n=this instanceof g.Ja?g.da.QH(this,c)+n:"font-size:10.0pt;text-align:left;color:#000000"+
n;$('<span dir="ltr"></span>').attr("style",n).text(h).appendTo(e);d.append(f);h=$(document.createElementNS("","contents")).text(h);d.append(h)}return b},Vf:function(a){return(a=$(a).prop("nodeName"))&&this.elementName?a.toLowerCase()===this.elementName.toLowerCase():!1},deserialize:function(a,b){var c=$(a),d=g.da,h=$(a).attr("page"),h=parseInt(h,10);this.PageNumber=h+1;h=c.attr("rect")||"0,0,100,100";h=d.Ns(h,b);h.normalize();this.sg(h);this.Id=c.attr("name");this.Author=c.attr("title");"undefined"!==
typeof c.attr("subject")&&(this.Subject=c.attr("subject"));h=c.attr("flags");"undefined"!==typeof h&&(this.NoZoom=-1!==h.indexOf("nozoom"),this.NoRotate=-1!==h.indexOf("norotate"),this.Hidden=-1!==h.indexOf("hidden"));(h=c.attr("rotation"))&&(this.Rotation=h);(c=c.attr("date"))&&(this.DateModified=d.Ms(c));d="";h=a.getElementsByTagName("contents-richtext");if(0<h.length)if(c=h[0].getElementsByTagName("body"),0<c.length)if(h=c[0].getElementsByTagName("span"),0<h.length)for(c=0;c<h.length;++c)d+=$(h[c]).text();
else d=$(c[0]).text();else d=$(h[0]).text();else c=a.getElementsByTagName("contents"),0<c.length&&(d=$(c[0]).text());this.Ni(d)}};g.Annotation.prototype=$.extend(Object.create(a.utils.eventHandler),g.Annotation.prototype);Object.defineProperties(g.Annotation.prototype,{X:{get:function(){return this.hr},set:function(a){this.hr=parseFloat(a);this.Jb()}},Y:{get:function(){return this.ir},set:function(a){this.ir=parseFloat(a);this.Jb()}},Width:{get:function(){return this.gr},set:function(a){this.gr=parseFloat(a);
this.Jb()}},Height:{get:function(){return this.dr},set:function(a){this.dr=parseFloat(a);this.Jb()}},NoMove:{get:function(){return this.aw},set:function(a){this.aw=!0===a||"true"===a}},NoResize:{get:function(){return this.bw},set:function(a){this.bw=!0===a||"true"===a}},PageNumber:{get:function(){return this.cw},set:function(a){this.cw=parseInt(a,10)}},DateModified:{get:function(){return this.sr},set:function(a){this.sr=a instanceof Date?a:new Date(a)}},Id:{get:function(){return this.Ow},set:function(a){this.Ow=
a}},Author:{get:function(){return this.kw},set:function(a){this.kw=a}},IsAdded:{get:function(){return this.Br},set:function(a){this.Br=a}},IsModified:{get:function(){return this.Th},set:function(a){this.Th=a}},IsDeleted:{get:function(){return this.Tw},set:function(a){this.Tw=a}},Filtered:{get:function(){return this.xj},set:function(a){this.xj=a}},Custom:{get:function(){return this.Vv},set:function(a){this.Vv=a}},Listable:{get:function(){return this.Vw},set:function(a){this.Vw=a?!0:!1}}});g.Tk=function(a){this.Kf=
new g.Color;this.Xh=this.Qh=this.Kj=0;this.Yd=null;this.set(a)};g.Tk.prototype={set:function(a){a instanceof g.Tk?(this.Kf=new g.Color(a.Kf),this.Kj=a.Kj,this.Qh=a.Qh,this.Xh=a.Xh,this.Yd=a.Yd):_.isArray(a)?3===a.length||4===a.length?(_.isUndefined(a[0])||(this.Qh=Number(a[0])),_.isUndefined(a[1])||(this.Xh=Number(a[1])),_.isUndefined(a[2])||(this.Kj=Number(a[2])),4===a.length&&(_.isArray(a[3])&&console.warn("dashed borders are currently unsupported"))):console.warn("Invalid border specification ",
a," should be 3 or 4 elements long"):_.isObject(a)&&(_.isArray(a.border)&&this.set(a.border),_.isUndefined(a.color)||(this.Kf=new g.Color(a.color)),_.isUndefined(a.width)||(this.Kj=Number(a.width)),_.isUndefined(a.cornerRadius)?_.isArray(a.cornerRadius)&&(this.Qh=a.cornerRadius[0]||0,this.Xh=a.cornerRadius[1]||0):this.Xh=this.Qh=Number(a.cornerRadius),_.isString(a.style)&&(this.Yd=a.style))},serialize:function(a){var b=$(a),c=g.da;this.PC&&b.attr("width",this.PC);this.Yd&&b.attr("style",this.Yd);
b=this.color;a.setAttribute("BC",[b.R/255,b.G/255,b.B/255].map(c.toFixed).join(","))},deserialize:function(a){var b=g.da,c={};b.getAttribute(a,"width")?c.width=parseInt(b.getAttribute(a,"width"),10):c.width=1;b.getAttribute(a,"style")&&(c.style=b.getAttribute(a,"style"),"bevelled"===c.style&&(c.style="beveled"));b.getAttribute(a,"BC")&&(c.color=b.getAttribute(a,"BC").split(",").map(Number));this.set(c)},Xu:function(){var a=_.isNull(this.Yd)?"solid":this.Yd,b=this.Kj,c=this.Qh.toFixed(6)+"px "+this.Xh.toFixed(6)+
"px",d={};"underline"===a?(d["border-bottom-style"]="solid",d["border-top-style"]="hidden",d["border-left-style"]="hidden",d["border-right-style"]="hidden"):(a={solid:"solid",beveled:"outset",inset:"inset"}[a],_.isUndefined(a)&&(a="solid"),d["border-style"]=a);d["border-color"]=this.Kf.toString();d["border-width"]=b;d["border-top-left-radius"]=c;d["border-top-right-radius"]=c;d["border-bottom-left-radius"]=c;d["border-bottom-right-radius"]=c;return d}};Object.defineProperties(g.Tk.prototype,{color:{get:function(){return this.Kf},
set:function(a){this.set({color:a})}},width:{get:function(){return this.Kj},set:function(a){this.set({width:a})}},style:{get:function(){return this.Yd},set:function(a){this.set({style:a})}},cornerRadius:{get:function(){return[this.Qh,this.Xh]},set:function(a){this.set({cornerRadius:a})}}});g.Ta=function(b){g.Annotation.call(this);a.Actions.Cf.call(this,b);this.Kf=new g.Color(0,0,0,1);this.An=new g.Color;this.Bn=new g.Tk;this.In=!1;this.Sf=0;this.Rh=this.Dd=null;this.on("contentRemoved",function(){this.Rh=
this.Dd=null;this.ml=!1});this.ho=!0;_.isObject(b)&&(_.isUndefined(b.border)||this.Bn.set(b.border),_.isUndefined(b.backgroundColor)||(this.An=new g.Color(b.backgroundColor)),_.isUndefined(b.color)||(this.Kf=new g.Color(b.color)),_.isUndefined(b.rect)||(this.rect=new g.na(b.rect)));var c=this.im(),d=this;Object.keys(c).forEach(function(a){var b=c[a];$(d).on(b.internal_name,function(c){d.Rd(a,b.getEvent(d,c))})})};g.Ta.prototype={Uj:"",Bt:function(a){return(this.wa()-(this.ho?2*this.border.width:0))*
a},jp:function(a){return(this.va()-(this.ho?2*this.border.width:0))*a},RA:function(a){this.ho=!!a},serialize:function(){this.Hidden=this.hidden;g.Annotation.prototype.serialize.apply(this,arguments)},deserialize:function(){g.Annotation.prototype.deserialize.apply(this,arguments);this.Hidden&&(this.hidden=!0,this.Hidden=!1)},im:function(){return{}},Nj:function(){},Be:function(b){var c=this.Sf,d=a.utils.getRotationOffsets(c,this.wa(),this.va()),g=d.dx*b,d=d.dy*b;return $.extend({left:this.X*b,top:this.Y*
b,width:this.Bt(b),height:this.jp(b),position:"absolute",padding:"0",margin:"0","background-color":this.An.toString(),"z-index":"35",display:this.In?"none":"",transform:"translate("+g+"px,"+d+"px) rotate("+-c+"deg)","transform-origin":"top left","-webkit-transform":"translate("+g+"px,"+d+"px) rotate("+-c+"deg)","-webkit-transform-origin":"top left","-ms-transform":"translate("+g+"px,"+d+"px) rotate("+-c+"deg)","-ms-transform-origin":"top left","-moz-transform":"translate("+g+"px,"+d+"px) rotate("+
-c+"deg)","-moz-transform-origin":"top left","-webkit-appearance":"none"},this.ho?this.Bn.Xu(b):{})},Qb:function(a){if(!a)throw"no zoom?";return{position:"absolute","font-size":"inherit","font-family":"inherit",color:"inherit",width:this.Bt(a),height:this.jp(a),border:0,padding:0,margin:0,"background-color":"transparent","vertical-align":"top"}},tg:function(a){this.In=!a;this.Dd&&this.Dd.css("display",this.In?"none":"")},$f:function(){console.warn("missing inner element");return null},Yy:function(){return this.Rh},
Ry:function(){return this.Dd},render:function(a,b,c){this.Dd||(this.Dd=$('<div class="'+this.Uj+'" />'));this.Dd.css(this.Be(c));a.append(this.Dd);if(this.Rh)this.Rh.css(this.Qb(c)),this.Dd.append(this.Rh),this.ml||(this.Nj(b),this.ml=!0);else if(a=this.$f())this.Rh=a,this.Dd.css(this.Be(c)),a.css(this.Qb(c)),this.Dd.append(this.Rh),this.ml||(this.Nj(b),this.ml=!0)},av:function(){this.Dd&&(this.Dd.remove(),this.ml=!1)}};g.Ta.prototype=$.extend(Object.create(g.Annotation.prototype),g.Ta.prototype,
a.Actions.Cf.prototype);Object.defineProperties(g.Ta.prototype,{rect:{get:function(){return this.de()},set:function(a){this.sg(a)}},element:{get:function(){return this.Ry()}},innerElement:{get:function(){return this.Yy()}},hidden:{get:function(){return this.In},set:function(a){this.tg(!a)}},color:{get:function(){return this.Kf},set:function(a){this.Kf=new g.Color(a)}},border:{get:function(){return this.Bn},set:function(a){this.Bn.set(a)}},backgroundColor:{get:function(){return this.An},set:function(a){this.An=
new g.Color(a)}},actions:{get:function(){return this.li()}},rotation:{get:function(){return this.Sf},set:function(a){this.Sf=Number(a)}}});g.Df=function(a){this.Ph=this.bf="";this._size=0;this.Dn=new g.Color([0,0,0]);this.Wr=new g.Color([0,0,0]);this.io="Type1";this.Nh=0;this.set(a)};g.Df.prototype={set:function(a){_.isObject(a)?(a.name&&(this.bf=String(a.name),this.Ph=g.da.Em(this.bf)),a.size&&(this._size=Number(a.size)),a.fillColor&&(this.Dn=new g.Color(a.fillColor)),a.strokeColor&&(this.Wr=new g.Color(a.strokeColor)),
a.type&&(this.io=a.type)):_.isString(a)&&(this.bf=a,this.Ph=g.da.Em(this.bf))},TE:function(a,b){var c,d;if(0===this._size){var g=20,h=b.jp(1);if(0===a.replace(/\s/g,"").length)return this.Nh=h/2;var f=0.95*b.Bt(1),h=0.95*h;c=a;d=g;var e=this.Ph?this.Ph:void 0,n=$("#text-width-tester");c=c.replaceAll("\n","<br>&nbsp;");n.length?n.css({font:e}).html(c):(n="display:none;",_.isString(e)&&(n+="font-family:"+e+";"),_.isUndefined(d)||(n+="font-size:"+d+";"),n=$('<span id="text-width-tester" style="'+n+'">'+
c+"</span>"),$("body").append(n));c=n.width();d=n.height();f=Math.min(f/c,h/d);return this.Nh=Math.min(g*f,12)}},deserialize:function(a,b){var c=g.da;if(c.getAttribute(a,"FontName")){var d=c.getAttribute(a,"FontName");this.bf=d;this.Ph=g.da.Em(d)}if(c.getAttribute(a,"FontSize")){var d=parseFloat(c.getAttribute(a,"FontSize")),c=b.O({x:0,y:0}),h=b.O({x:d,y:0}),d=c.x-h.x,c=c.y-h.y;this._size=Math.sqrt(d*d+c*c)}},vi:function(){return this.Dn.vi()&&this.Wr.vi()},Xu:function(a){var b={};""!==this.Ph&&(b["font-family"]=
this.Ph);b["font-size"]=0===this._size&&0!==this.Nh?String(this.Nh*a)+"px":String(this._size*a)+"px";b.color=this.Dn.toString();return b}};Object.defineProperties(g.Df.prototype,{name:{get:function(){return this.bf},set:function(a){this.set({name:a})}},size:{get:function(){return this._size},set:function(a){this.set({size:a})}},type:{get:function(){return this.io}},strokeColor:{get:function(){return this.Wr},set:function(a){this.set({strokeColor:a})}},fillColor:{get:function(){return this.Dn},set:function(a){this.set({fillColor:a})}},
calculatedSize:{get:function(){return 0===this._size?this.Nh:this._size}}});g.Ig=function(a){this.Uf={};this.Fj=null;this.Al=0;_.isObject(a)&&(_.isArray(a.mask)&&this.Tl(a.mask))};g.Ig.prototype={Ag:{ReadOnly:1,Required:2,NoExport:4,Multiline:4096,Password:8192,NoToggleToOff:16384,Radio:32768,PushButton:65536,Combo:131072,Edit:262144,DoNotScroll:8388608,RadiosInUnison:33554432},clear:function(){this.Uf={}},Tl:function(a){_.isNull(this.Fj)&&(this.Fj={});for(var b=a.length,c=0;c<b;++c){var d=a[c];this.Fj[d]=
this.Ag[d]||0}},oE:function(a){var b=[],c=this.Fj||this.Ag;Object.keys(c).forEach(function(d){0!==(a&c[d])&&(a&=~c[d],b.push(d))});return{result:b,XI:a}},get:function(a){return!!this.Uf[a]},QI:function(){var a=0,b;for(b in this.Uf)this.Uf.hasOwnProperty(b)&&(!0===this.Uf[b]&&(a|=this.Ag[b]));return a|this.Al},toArray:function(){var a=this;return Object.keys(this.Uf).filter(function(b){return a.Uf[b]})},deserialize:function(a){a=g.da.getAttribute(a,"Ff");this.set(parseInt(a,10))},serialize:function(a){a.setAttribute("Ff",
String(this.QI()))},set:function(a,b){if(_.isArray(a))for(var c=a.length,d=0;d<c;++d)this.set(a[d]);else _.isNumber(a)?(c=this.oE(a),this.Al|=c.XI,this.set(c.result)):_.isString(a)&&(c=!0,_.isUndefined(b)||(c=!!b),this.Fj?_.isUndefined(this.Fj[a])?this.Al|=this.Ag[a]||0:this.Uf[a]=c:this.Uf[a]=c)}};g.ta=function(b,c){g.Ta.call(this,c);if(!b)throw Error("Please set the field properly in the widget constructor");this._value=null;this.Ka=b;this.yj=null;b.CD(this,c?c.index:void 0);this.OJ=!1;this.FJ=
new Date;this.gx="Left-justified";this.Listable=!1;this.iw="";this.lr={};this.lw={Normal:"",Rollover:"",Down:""};this.wj=!1;this.Db=new g.Ig({mask:"Invisible Hidden NoPrint NoZoom NoRotate NoView ReadOnly Locked ToggleNoView LockedContents".split(" ")});this["_xsi:type"]="Widget";this.Subject=this["_xsi:type"];this.set(c);var d=a.Annotations.N.Bb,h=this;this.on("commit",_.bind(this.Cs,this));this.on("validate",function(a,b){if(null!==b&&!h.fieldFlags.get("ReadOnly")){var c=d.Events.aa.create("Keystroke",
h.kb(),{value:b,change:"",willCommit:!0,selStart:-1,selEnd:-1});h.Ka.Rd("K",c);c.rc&&(h.Je(d.Events.Xo(c)),h.trigger("commit"))}});this.on("change",function(a,b){h.yA();h.Je(b);h.trigger("validate",[b])});this.on("blur",function(){h.fieldFlags.get("ReadOnly")||(h.wj&&(h.wj=!1,h.trigger("validate",[h.Ma()])),h.mb(h.Ka.value));h.refresh()});this.on("focus",function(){h.fieldFlags.get("ReadOnly")||h.Je(h.Ka.value);h.refresh()})};g.ta.prototype={elementName:"widget",Ti:null,Vf:function(a){if(!g.Annotation.prototype.Vf.call(this,
a)||!this.Ti)return!1;a=g.da.getAttribute(a,"FT");return this.Ti===a},cg:function(){var a="";Object.keys(this.appearances).forEach(function(b){"Off"!==b&&(a=b)});return a},De:function(a){this.Je(a)},yA:function(){this.wj=!0},set:function(a){if(_.isObject(a)){_.isUndefined(a.value)||(this.value=String(a.value));_.isUndefined(a.flags)||(this.Db.set(a.flags),this.Db.get("Hidden")&&this.tg(!1),this.Db.get("NoView")&&this.tg(!1));if(!_.isUndefined(a.captions)){var b=a.captions,c=this.lw;Object.keys(b).forEach(function(a){c[a]=
b[a]})}_.isUndefined(a.page)||(this.PageNumber=a.page);_.isUndefined(a.quadding)||(this.quadding=a.quadding);_.isUndefined(a.appearances)||(this.lr=a.appearances);_.isUndefined(a.appearance)||(this.appearance=a.appearance);_.isUndefined(a.rotation)||(this.rotation=a.rotation);_.isUndefined(a.font)||(this.font=a.font)}},Be:function(a){var b=g.Ta.prototype.Be.apply(this,arguments);return $.extend(b,this.font.Xu(a))},Qb:function(){var a=g.Ta.prototype.Qb.apply(this,arguments);return $.extend(a,{"text-align":{"Left-justified":"left",
Centered:"center","Right-justified":"right"}[this.quadding]})},ih:function(){return!0},Ma:function(){return this._value},mb:function(b){b=a.Annotations.N.Bb.Events.aa.create("Format",this.Ka,{value:b});this.Ka.Rd("F",b);this.Je(b.value)},tg:function(a){this.Db.set("Hidden",!a);g.Ta.prototype.tg.call(this,a)},render:function(a,b,c){h=c;var d=!1;this.innerElement&&this.element||(d=!0);g.Ta.prototype.render.apply(this,arguments);d&&(this.element.attr("id",this.aK),this.refresh())},Je:function(a){this._value=
a;this.refresh()},refresh:function(){this.font.TE(this._value?String(this._value):"",this);var a=this.element;a&&(a.attr("id",this.Ka.name),a.css(this.Be(h)))},gg:function(){return null},deserialize:function(a,b){g.Ta.prototype.deserialize.call(this,a,b);var c=g.da;this.Ka.JA(c.getAttribute(a,"FT"));c.getAttribute(a,"creationdate")&&(this.DateCreated=c.Ms(c.getAttribute(a,"creationdate")));this.border.deserialize(a);this.fieldFlags.deserialize(a);this.font.deserialize(a,b);var d=c.To(a,"V","value");
this.De(d);this.Ka.De(d);this.defaultValue=c.To(a,"DV","defaultvalue");d=c.Xz(a);c.getAttribute(a,"color")?this.color=c.getAttribute(a,"color").split(","):d.color&&(this.color=d.color);c.getAttribute(a,"BG")&&(this.backgroundColor=c.getAttribute(a,"BG").split(","));this.rotation=c=(c=c.getAttribute(a,"rotation"))?parseInt(c,10):0;if(90===c||270===c)c=this.Width,this.Width=this.Height,this.Height=c;this.vx(a,b)},serialize:function(){},kb:function(){return this.Ka},BA:function(a){this.Ka=a},zf:function(a){g.Ta.prototype.zf.call(this,
a);this.Ka&&this.Ka.zf(a)},zD:function(a,b){this.Ka.Zh(a,b)},Zh:function(a,b){-1!==["K","V","F","C"].indexOf(a)?this.zD(a,b):g.Ta.prototype.Zh.call(this,a,b)},Cs:function(){this.Ka.trigger("commit",this.Ma(),this)},im:function(){var b=a.Annotations.N.Bb.Events,c=this;return $.extend(g.Ta.prototype.im.call(this),{E:{triggers:"mouseenter",internal_name:"mouseenter",getEvent:function(){return b.aa.create("Mouse Enter",c.kb())}},X:{triggers:"mouseleave",internal_name:"mouseleave",getEvent:function(){return b.aa.create("Mouse Leave",
c.kb())}},D:{triggers:"mousedown",internal_name:"mousedown",getEvent:function(){return b.aa.create("Mouse Down",c.kb())}},U:{triggers:a.utils.mouseUpEventBug?"touchend":"mouseup",internal_name:"mouseup",getEvent:function(){return b.aa.create("Mouse Up",c.kb())}},Bl:{triggers:"focusout",internal_name:"blur",getEvent:function(){var a=c.kb();return b.aa.create("Blur",a,{value:a.value})}},Fo:{triggers:"focusin",internal_name:"focus",getEvent:function(){return b.aa.create("Focus",c.kb())}}})},WF:function(){return!!this.yj},
Nj:function(){g.Ta.prototype.Nj.apply(this,arguments);var b=this,c=this.innerElement;c&&(c.on("focusout",function(){b.wj&&(b.wj=!1,b.trigger("commit"));b.trigger("blur")}),c.on("focusin",function(){b.trigger("focus")}),c.on("mouseenter",function(){b.trigger("mouseleave")}),c.on("mouseleave",function(){b.trigger("mouseleave")}),c.on("mousedown",function(){b.trigger("mousedown")}),c.on(a.utils.mouseUpEventBug?"touchend":"mouseup",function(){b.trigger("mouseup")}))}};g.ta.prototype=$.extend(!0,Object.create(g.Ta.prototype),
g.ta.prototype);Object.defineProperties(g.ta.prototype,{fieldName:{get:function(){return this.Ka.name}},value:{get:function(){return this.Ma()},set:function(a){this.mb(a)}},defaultValue:{get:function(){return this.Ka.defaultValue},set:function(a){this.Ka.defaultValue=a}},fieldFlags:{get:function(){return this.Ka.flags}},flags:{get:function(){return this.Db}},font:{get:function(){return this.yj||this.Ka.font},set:function(b){this.yj=new a.Annotations.Df(b)}},fieldActions:{get:function(){return this.Ka.actions}},
appearance:{get:function(){return this.iw},set:function(a){this.lr[a]?this.iw=a:console.log("Unknown appearance: "+a)}},quadding:{get:function(){return this.gx},set:function(a){this.gx=a}},appearances:{get:function(){return this.lr}},captions:{get:function(){return this.lw}}});g.nd=function(a){g.Ta.call(this,a);this.Listable=!1};g.nd.prototype=Object.create(g.Ta.prototype);g.nd.prototype.elementName="link";g.nd.prototype.$f=function(){return $('<span class="link" tabindex="0" />')};g.nd.prototype.Nj=
function(){g.Ta.prototype.Nj.apply(this,arguments);var a=this;this.innerElement.on("tap",function(){a.trigger("mouseup")})};g.nd.prototype.Az=function(){return!0};g.nd.prototype.im=function(){var b=a.Annotations.N.Bb.Events;return $.extend(g.Ta.prototype.im.call(this),{U:{triggers:"tap",internal_name:"mouseup",getEvent:function(){return b.nd.create("Mouse Up")}}})};g.nd.prototype.deserialize=function(a,b,c){g.Ta.prototype.deserialize.call(this,a,b,c);(c=g.da.getAttribute(a,"color"))&&(this.color=
c);this.vx(a,b)};g.nd.prototype.serialize=function(a,b){g.Ta.prototype.serialize.call(this,a,b);a.setAttribute("color",this.color.toHexString());this.IH(a,b)};g.Ih=function(a,b){g.ta.call(this,a,b);this.fieldFlags.Tl(["Multiline","DoNotScroll","Password"]);this.wj=!1;this.Pf=this.Ka.maxLen};g.Ih.prototype={Ti:"Tx",Uj:"text",refresh:function(){g.ta.prototype.refresh.call(this);var a=this.innerElement;a&&(this.fieldFlags.get("ReadOnly")?a.text(this.value):this.innerElement.val(this.value))},Be:function(){var a=
g.ta.prototype.Be.apply(this,arguments);return $.extend(a,{})},Qb:function(){var a=g.ta.prototype.Qb.apply(this,arguments);return $.extend(a,{"word-wrap":"break-word",resize:"none","background-color":"transparent","overflow-y":this.fieldFlags.get("Multiline")?"auto":"hidden","overflow-x":"hidden"})},gg:function(){var a=this.innerElement;if(a)return this.fieldFlags.get("ReadOnly")?a.text():a.val()},$f:function(){var b=this,c=this.fieldFlags,g=c.get("Multiline");c.get("ReadOnly")?c=$('<div class="text" />'):
(c=g?$("<textarea />"):$('<input type="text" />'),-1!==this.Pf&&c.attr("maxlength",this.Pf));d(c,function(c){var d=a.Annotations.N.Bb.Events,g=d.aa.create("Keystroke",b.kb(),{value:c.Nt?"":b.Ma()||"",change:c.change,selStart:c.Nt?0:c.selectionStart,selEnd:c.Nt?0:c.selectionEnd,willCommit:!1});b.Ka.Rd("K",g);g.rc?(b._value=d.Xo(g),b.yA()):c.preventDefault()},!g);return c}};g.Ih.prototype=$.extend(Object.create(g.ta.prototype),g.Ih.prototype);g.zg=function(a,b){g.ta.call(this,a,b)};g.zg.prototype={Ti:"Ch",
Vf:function(a){if(g.ta.prototype.Vf.call(this,a)){var b=new g.Ig({mask:["Combo"]});b.deserialize(a);if(b.get("Combo"))return!0}return!1},deserialize:function(a,b,c){g.ta.prototype.deserialize.call(this,a,b,c);b=g.da;b.getAttribute(a,"Opt")&&(a=b.getAttribute(a,"Opt"),this.Ka.options=a.split(",").map(function(a){return{value:a,displayValue:a}}),this.kb().De(this.Ma()),this.De(this.kb().Ma()))},Be:function(){return $.extend(g.ta.prototype.Be.apply(this,arguments),{"overflow-y":"visible","overflow-x":"hide",
"z-index":"36"})},Qb:function(a){return $.extend(g.ta.prototype.Qb.apply(this,arguments),{resize:"none","min-height":"",height:this.jp(a)})},refresh:function(){g.ta.prototype.refresh.apply(this,arguments);var a=this.innerElement,b=this.Ma();a&&a.val(b)},gg:function(){var a=this.innerElement;if(a)return a.val()},$f:function(){var a,b;this.fieldFlags.get("IsEdit")?(b='<input list="'+this.CB+'_list" /><datalist id="'+this.CB+'_list">',this.options.forEach(function(a){var c=_.isUndefined(a.displayValue)?
a.value:a.displayValue;b+='<option value="'+a.value+'">'+c+"</option>"}),b+="</datalist>",a=$(b)):(a=$("<select />"),b="",this.options.forEach(function(a){var c=_.isUndefined(a.displayValue)?a.value:a.displayValue;b+='<option value="'+a.value+'">'+c+"</option>"}),a.append(b));var c=this;a.on("change",function(){c.trigger("change",[c.gg()])});return a}};g.zg.prototype=$.extend(Object.create(g.ta.prototype),g.zg.prototype);Object.defineProperties(g.zg.prototype,{options:{get:function(){return this.Ka.options}}});
g.Cg=function(a,b){g.ta.call(this,a,b)};g.Cg.prototype={Ti:"Ch",refresh:function(){g.ta.prototype.refresh.apply(this,arguments);var a=this.innerElement;a&&a.val(this.Ma())},Vf:function(a){if(g.ta.prototype.Vf.call(this,a)){var b=new g.Ig({mask:"Combo"});b.deserialize(a);if(!b.get("Combo"))return!0}return!1},deserialize:function(a,b,c){g.ta.prototype.deserialize.call(this,a,b,c);b=g.da;b.getAttribute(a,"Opt")&&(a=b.getAttribute(a,"Opt"),this.Ka.options=a.split(",").map(function(a){return{value:a,displayValue:a}}),
this.kb().De(this.Ma()),this.De(this.kb().Ma()))},Be:function(){return $.extend(g.ta.prototype.Be.apply(this,arguments),{"overflow-y":"auto","overflow-x":"hidden"})},gg:function(){var a=this.innerElement;return a?a.val():null},Qb:function(){return $.extend(g.ta.prototype.Qb.apply(this,arguments),{"overflow-y":"scroll","overflow-x":"hidden"})},$f:function(){var a=$('<select name="'+this.fieldName.replace(/\.|\s/g,"_")+'" size="'+this.options.length+'" />'),b="";this.options.forEach(function(a){var c=
_.isUndefined(a.displayValue)?a.value:a.displayValue;b+='<option value="'+a.value+'">'+c+"</option>"});a.append(b);var c=this;a.on("change",function(){c.trigger("change",[c.gg()])});return a}};g.Cg.prototype=$.extend(Object.create(g.ta.prototype),g.Cg.prototype);Object.defineProperties(g.Cg.prototype,{options:{get:function(){return this.Ka.options}}});g.Lb=function(a,b){g.ta.call(this,a,b)};g.Lb.prototype={Ti:"Btn",so:null,Vf:function(a){if(g.ta.prototype.Vf.call(this,a)){var b=new g.Ig({mask:["PushButton",
"Radio"]}),c="C";b.deserialize(a);b.get("PushButton")?c="P":b.get("Radio")&&(c="R");return c===this.so}return!1}};g.Lb.prototype=$.extend(Object.create(g.ta.prototype),g.Lb.prototype);g.Bh=function(a,b){g.Lb.call(this,a,b)};g.Bh.prototype={so:"P",Uj:"pButton",Qb:function(){return $.extend(g.Lb.prototype.Qb.apply(this,arguments),{"background-color":"transparent"})},deserialize:function(a,b,c){var d=g.da;g.Lb.prototype.deserialize.call(this,a,b,c);(a=d.getAttribute(a,"ButtonLabel"))&&(this.captions.Normal=
a)},gg:function(){return null},$f:function(){var a=$('<button tabindex="0" />');a.append(this.captions.Normal);return a}};g.Bh.prototype=$.extend(!0,Object.create(g.Lb.prototype),g.Bh.prototype);g.yg=function(a,b){g.Lb.call(this,a,b);this.RA(!1);var c=this;this.on("click",function(){"Off"===this.Ma()?c.trigger("change",c.cg()):c.trigger("change","Off")})};g.yg.prototype={so:"C",Uj:"checkBox",refresh:function(){g.ta.prototype.refresh.call(this);var a=this.innerElement;a&&(a.prop("checked",this.Ma()===
this.cg()),a.css(this.Qb(h)))},Je:function(a){a===this.cg()?(this.appearance=a,g.Lb.prototype.Je.call(this,a)):(this.appearance="Off",g.Lb.prototype.Je.call(this,"Off"))},Qb:function(){var a=g.Lb.prototype.Qb.apply(this,arguments);a.left=Math.round(a.left);a.top=Math.round(a.top);return $.extend(a,{border:"none","-moz-appearance":"none",margin:0})},gg:function(){var a=this.innerElement;if(a)return a.prop("checked")?this.cg():"Off"},$f:function(){var a=$('<input type="checkbox" tabindex="0" />'),b=
this;a.on("click",function(){b.trigger("click")});return a},deserialize:function(a,b,c){var d=g.da.getAttribute(a,"N");d&&(this.appearances.Off={},this.appearances[d]={});g.Lb.prototype.deserialize.call(this,a,b,c)}};g.yg.prototype=$.extend(!0,Object.create(g.Lb.prototype),g.yg.prototype);Object.defineProperties(g.yg.prototype,{buttonName:{set:function(a){this.QC=a},get:function(){return this.QC}}});g.Ch=function(a,b){g.Lb.call(this,a,b);this.RA(!1);var c=this;this.on("click",function(){"Off"===this.Ma()?
c.trigger("change",c.cg()):c.trigger("change","Off")})};g.Ch.prototype={so:"R",Uj:"radioButton",gg:function(){return this.cg()},refresh:function(){var a=this.innerElement;a&&(a.prop("checked",this.Ka.Ma()===this.gg()),a.css(this.Qb(h)))},Qb:function(){var a=g.Lb.prototype.Qb.apply(this,arguments);a.left=Math.round(a.left);a.top=Math.round(a.top);return $.extend(a,{border:"none","-moz-appearance":"none",margin:0})},Je:function(a){"Off"!==a&&-1!==Object.keys(this.appearances).indexOf(a)?(this.appearance=
a,g.Lb.prototype.Je.call(this,a)):(this.appearance="Off",g.Lb.prototype.Je.call(this,"Off"))},$f:function(){var a=$('<input type="radio" tabindex="0" />'),b=this;a.on("click",function(){b.trigger("click")});return a},deserialize:function(a,b,c){var d=g.da.getAttribute(a,"N");d&&(this.appearances.Off={},this.appearances[d]={});g.Lb.prototype.deserialize.call(this,a,b,c)}};g.Ch.prototype=$.extend(!0,Object.create(g.Lb.prototype),g.Ch.prototype);g.Eh=function(a,b){g.ta.call(this,a,b)};g.Eh.prototype=
{Ti:"Sig",Uj:"signature",deserialize:function(a,b,c){g.ta.prototype.deserialize.call(this,a,b,c);if(a=a.querySelector("imagedata"))this.appearances._DEFAULT={Normal:a.textContent},this.appearance="_DEFAULT"},Qb:function(){var b=g.ta.prototype.Qb.apply(this,arguments),c=b.width,d=b.height,h=this.rotation;if(90===h||270===h)var f=c,c=d,d=f;var e=a.utils.getRotationOffsets((360-h)%360,c,d),f=e.dx,e=e.dy;return $.extend(b,{transform:"translate("+f+"px,"+e+"px) rotate("+h+"deg)","transform-origin":"top left",
"-webkit-transform":"translate("+f+"px,"+e+"px) rotate("+h+"deg)","-webkit-transform-origin":"top left","-ms-transform":"translate("+f+"px,"+e+"px) rotate("+h+"deg)","-ms-transform-origin":"top left","-moz-transform":"translate("+f+"px,"+e+"px) rotate("+h+"deg)","-moz-transform-origin":"top left",width:c,height:d})},$f:function(){var a=new Image,b=this.appearances[this.appearance];b&&(a.src=b.Normal||"");return $(a)}};g.Eh.prototype=$.extend(Object.create(g.ta.prototype),g.Eh.prototype);g.Fg=function(){g.Annotation.call(this);
this._isOpen=!1};g.Fg.prototype={isOpen:function(){return this._isOpen},Gk:function(a){this._isOpen=a},deserialize:function(a,b){g.Annotation.prototype.deserialize.apply(this,arguments);var c=a.getAttribute("open");this.Gk(c&&"yes"===c)}};g.Fg.prototype=$.extend(new g.Annotation,g.Fg.prototype);g.ka=function(){g.Annotation.call(this);this.Uc=new g.Color(0,0,0,0);this.Kh=new g.Color(0,0,0);this._opacity=this.Lh=1;this.ww=new Date;this.zl=null};g.ka.prototype={Cc:function(a){null!==this.Opacity&&(a.globalAlpha=
this.Opacity);null!==this.FillColor&&(a.fillStyle=this.FillColor.toString());null!==this.StrokeColor&&(a.strokeStyle=this.StrokeColor.toString());a.lineWidth=0===this.StrokeThickness?0.001:this.et()},qf:function(){return this.zl},Mu:function(a){this.zl=a},et:function(){return this.StrokeThickness},serialize:function(a,b){var c=g.Annotation.prototype.serialize.apply(this,arguments),d=g.da,h={},f=d.Mi(this.StrokeColor);null!==f&&(h.color=f);d=d.Mi(this.FillColor);null!==d&&(h["interior-color"]=d);_.isUndefined(this.StrokeThickness)||
(_.isNull(this.StrokeThickness)||(h.width=g.Jf.Mj(b,this.StrokeThickness)));_.isUndefined(this.Opacity)||(_.isNull(this.Opacity)||(h.opacity=this.Opacity));this.fringe&&(h.fringe=g.da.Cu(this.fringe,b));this.DateCreated&&(h.creationdate=g.da.Yu(this.DateCreated));$(c).attr(h);this.zl&&(h=this.zl.isOpen()?"yes":"no",d=$(document.createElementNS("","popup")),f=this.zl.de(),f.xy(),d.attr({flags:"print,nozoom,norotate",page:this.Va(),rect:g.da.gq(f,b)}).appendTo($(c)),d[0].setAttribute("open",h));return c},
deserialize:function(a,b){g.Annotation.prototype.deserialize.apply(this,arguments);var c=$(a),d=g.da,h=c.attr("opacity");"undefined"!==typeof h&&(this.Opacity=parseFloat(h));h=c.attr("width");"undefined"!==typeof h&&(this.Lh=g.Jf.Mj(b,parseFloat(h)));h=c.attr("fringe");"undefined"!==typeof h&&(this.fringe=d.gy(h,b));h=d.ii(c.attr("color"));null!==h&&(this.StrokeColor=h);h=d.ii(c.attr("interior-color"));this.FillColor=null!==h?h:new g.Color(0,0,0,0);(h=c.attr("creationdate"))&&(this.DateCreated=d.Ms(h));
c=c.find("popup");d=this.qf()||new g.Fg;0<c.length?d.deserialize(c[0],b):(d.PageNumber=this.PageNumber,d.sg(new g.na(0,0,150,100)));this.Mu(d)},selectionModel:g.xa,gh:!0};g.ka.prototype=$.extend(!0,new g.Annotation,g.ka.prototype);Object.defineProperties(g.ka.prototype,{FillColor:{get:function(){return this.Uc},set:function(a){a instanceof g.Color&&(this.Uc=a,this.Jb())}},StrokeColor:{get:function(){return this.Kh},set:function(a){a instanceof g.Color&&(this.Kh=a,this.Jb())}},StrokeThickness:{get:function(){return this.Lh},
set:function(a){this.Lh=parseFloat(a);this.Jb();this.adjustRect()}},Opacity:{get:function(){return this._opacity},set:function(a){this._opacity=parseFloat(a);this.Jb()}},DateCreated:{get:function(){return this.ww},set:function(a){this.ww=a instanceof Date?a:new Date(a)}}});g.md=function(){g.ka.call(this);this["_xsi:type"]="Line";this.Subject=i18n.t("annotations.types.line");this.Hj=this.Cn=this.End=this.Start=this.Uc=null};g.md.prototype={elementName:"line",resize:function(a){var b=a.x1;a=a.y1;var c=
b-this.X,d=a-this.Y;if(0!==c||0!==d)this.Start.x+=c,this.Start.y+=d,this.End.x+=c,this.End.y+=d,this.X=b,this.Y=a},adjustRect:function(){if(!_.isNull(this.Start)||!_.isNull(this.End)){var a=this.getRectPadding();this.X=Math.min(this.Start.x,this.End.x)-a;this.Y=Math.min(this.Start.y,this.End.y)-a;this.Width=Math.abs(this.Start.x-this.End.x)+2*a;this.Height=Math.abs(this.Start.y-this.End.y)+2*a}},getRectPadding:function(){return this.StrokeThickness},IA:function(a,b){this.Start=new g.Point(a,b)},MF:function(){return this.Start},
setEndPoint:function(a,b){this.End=new g.Point(a,b)},hF:function(){return this.End},Pi:function(a){this.Hj=a},hm:function(){return this.Hj||"None"},AA:function(a){this.Cn=a},Uy:function(){return this.Cn||"None"},draw:function(a){this.Cc(a);if(this.Start&&this.End){a.beginPath();a.moveTo(this.Start.x,this.Start.y);a.lineTo(this.End.x,this.End.y);var b=!1;_.isNull(this.Hj)||("None"===this.Hj||(g.Jf.Ps(a,this.Start,this.End,this.StrokeThickness),b=!0));_.isNull(this.Cn)||("None"===this.Cn||(g.Jf.Ps(a,
this.End,this.Start,this.StrokeThickness),b=!0));b||a.stroke()}else a.beginPath(),a.moveTo(0,0),a.lineTo(this.wa(),this.va()),a.stroke()},serialize:function(a,b){a=g.ka.prototype.serialize.apply(this,arguments);var c=new g.Point(this.Start.x,this.Start.y),d=new g.Point(this.End.x,this.End.y),h=g.da;$(a).attr({start:h.fq(c,b),end:h.fq(d,b),head:this.hm(),tail:this.Uy()});return a},deserialize:function(a,b){g.ka.prototype.deserialize.apply(this,arguments);var c=g.da,d=$(a),h=c.hy(d.attr("start"),b);
null!==h&&this.IA(h.x,h.y);c=c.hy(d.attr("end"),b);null!==c&&this.setEndPoint(c.x,c.y);this.Pi(d.attr("head")||"None");this.AA(d.attr("tail")||"None");this.adjustRect();this.Uc=null},selectionModel:g.bl};g.md.prototype=$.extend(new g.ka,g.md.prototype);g.jj=function(){g.ka.call(this);this["_xsi:type"]="Rectangle";this.Subject=i18n.t("annotations.types.rectangle");var a=this.getRectPadding();this.fringe=new g.na(a,a,a,a)};g.jj.prototype={elementName:"square",draw:function(a){this.Cc(a);a.lineWidth*=
2;a.beginPath();var b=this.de();b.x1+=this.fringe.x1;b.y1+=this.fringe.y1;b.x2-=this.fringe.x2;b.y2-=this.fringe.y2;a.moveTo(b.x1,b.y1);a.lineTo(b.x2,b.y1);a.lineTo(b.x2,b.y2);a.lineTo(b.x1,b.y2);a.closePath();a.clip();a.fill();a.stroke()},getRectPadding:function(){return 0}};g.jj.prototype=$.extend(new g.ka,g.jj.prototype);g.Uk=function(){g.ka.call(this);this["_xsi:type"]="Caret";this.Subject=i18n.t("annotations.types.caret");this.StrokeThickness=0;this.Uc=null};g.Uk.prototype={elementName:"caret",
draw:function(b){this.Cc(b);var c=this.Width,d=this.Height,h=Number(this.Rotation);if(90===h||270===h)h=c,c=d,d=h;b.translate(this.X,this.Y);b.rotate(-this.Rotation*Math.PI/180);h=a.utils.getRotationOffsets((360-this.Rotation)%360,this.Width,this.Height);b.translate(-h.dx,-h.dy);b.translate(-this.X,-this.Y);b.beginPath();b.fillStyle=this.StrokeColor.toString();c=new g.na(this.X,this.Y,this.X+c,this.Y+d);h=(c.x1+c.x2)/2;d=c.y1+3*d/4;b.moveTo(h,c.y1);b.quadraticCurveTo(h,d,c.x1,c.y2);b.lineTo(c.x2,
c.y2);b.quadraticCurveTo(h,d,h,c.y1);b.closePath();b.fill();b.stroke()},selectionModel:g.xa,deserialize:function(a,b){g.ka.prototype.deserialize.apply(this,arguments);var c=Number(this.Rotation);if(90===c||270===c)c=this.Width,this.Width=this.Height,this.Height=c},serialize:function(a,b){var c=Number(this.Rotation),d;if(90===c||270===c)d=this.Width,this.Width=this.Height,this.Height=d;g.ka.prototype.serialize.apply(this,arguments);if(90===c||270===c)d=this.Width,this.Width=this.Height,this.Height=
d}};g.Uk.prototype=$.extend(new g.ka,g.Uk.prototype);g.Yi=function(){g.ka.call(this);this["_xsi:type"]="Ellipse";this.Subject=i18n.t("annotations.types.ellipse");var a=this.getRectPadding();this.fringe=new g.na(a,a,a,a)};g.Yi.prototype={elementName:"circle",draw:function(a){this.Cc(a);var b=this.X+this.fringe.x1,c=this.Y+this.fringe.y1,d=this.wa()-this.fringe.x1-this.fringe.x2,g=this.va()-this.fringe.y1-this.fringe.y2,h=Math.min(d,g);a.lineWidth>=h&&(a.lineWidth=h-1);h=(d-a.lineWidth)/(g-a.lineWidth);
isNaN(h)||(Infinity===h||(a.save(),a.translate(b+(1-h)*d/2,c),a.scale(h,1),a.beginPath(),a.arc(0.5*d,0.5*g,Math.max(0.5*g-a.lineWidth/2,0),0,2*Math.PI,!1),a.restore(),a.fill(),a.stroke()))},getRectPadding:function(){return 0},selectionModel:g.xa};g.Yi.prototype=$.extend(new g.ka,g.Yi.prototype);g.lj=function(){g.ka.call(this);this["_xsi:type"]="Stamp";this.Subject=i18n.t("annotations.types.stamp");this.Icon="Draft";this.Kh=this.Uc=null;this.tE="bold italic "+this.XA+"px Verdana"};g.lj.prototype={elementName:"stamp",
padding:20,XA:30,Gs:10,draw:function(b){this.Cc(b);b.translate(this.X,this.Y);b.rotate(-this.Rotation*Math.PI/180);var c=a.utils.getRotationOffsets((360-this.Rotation)%360,this.Width,this.Height);b.translate(-c.dx,-c.dy);if(this.image){var c=this.Width,d=this.Height;if(this.Rotation&&(90===Number(this.Rotation)||270===Number(this.Rotation)))var g=c,c=d,d=g;b.drawImage(this.image,0,0,c,d)}else if("SHAccepted"===this.Icon)b.lineWidth=0.2*Math.min(this.Width,this.Height),b.strokeStyle="#426922",b.beginPath(),
b.moveTo(0.05*this.Width,0.5*this.Height),b.lineTo(0.4*this.Width,0.85*this.Height),b.lineTo(0.95*this.Width,0.05*this.Height),b.stroke();else if("SBRejected"===this.Icon)b.lineWidth=0.2*Math.min(this.Width,this.Height),b.strokeStyle="#8F110F",b.beginPath(),b.moveTo(0.05*this.Width,0.05*this.Height),b.lineTo(0.95*this.Width,0.95*this.Height),b.moveTo(0.95*this.Width,0.05*this.Height),b.lineTo(0.05*this.Width,0.95*this.Height),b.stroke();else{c=this.dF();b.fillStyle=c.fill;b.strokeStyle=c.Dp;b.lineWidth=
1;d=this.Gs;if(this.wa()<=2*this.Gs||this.va()<=2*this.Gs)d=Math.min(this.wa()/2,this.va()/2);this.HE(b,0,0,this.wa(),this.va(),d);b.font=this.tE;b.fillStyle=c.Dp;c=this.UA.toUpperCase();d=b.measureText(c).width+2*this.padding;b.save();d=this.wa()/d;g=this.va()/(1.5*this.XA);b.scale(d,g);b.textBaseline="middle";b.textAlign="center";b.fillText(c,this.wa()/(2*d),this.va()/(2*g));b.restore()}},QF:function(){var a=this.Icon;if(this.ec[a])return this.ec[a];if(0===a.indexOf("SB")||0===a.indexOf("SH")){var b=
this.ec[a.substring(2)];if(b)return b}return a},dF:function(){var a=_.isUndefined(this.opacity)?1:parseFloat(this.opacity),b={Dp:"rgba(145, 15, 5, "+a+")",fill:"rgba(242, 230, 227, "+0.7*a+")"},c={Dp:"rgba(65, 106, 28, "+a+")",fill:"rgba(215, 226, 207, "+0.7*a+")"},a={Dp:"rgba(24, 37, 100, "+a+")",fill:"rgba(224, 235, 246, "+0.7*a+")"};switch(this.UA){case this.ec.Approved:case this.ec.Completed:case this.ec.Final:return c;case this.ec.Asis:case this.ec.Confidential:case this.ec.Departmental:case this.ec.Draft:case this.ec.Experimental:case this.ec.ForComment:case this.ec.ForPublicRelease:case this.ec.NotForPublicRelease:case this.ec.Sold:case this.ec.TopSecret:return a;
case this.ec.Expired:case this.ec.NotApproved:case this.ec.Void:return b;default:return a}},ec:{Approved:"Approved",AsIs:"As Is",Completed:"Completed",Confidential:"Confidential",Departmental:"Departmental",Draft:"Draft",Experimental:"Experimental",Expired:"Expired",Final:"Final",ForComment:"For Comment",ForPublicRelease:"For Public Release",InformationOnly:"Information Only",NotApproved:"Not Approved",NotForPublicRelease:"Not For Public Release",PreliminaryResults:"Preliminary Results",Sold:"Sold",
TopSecret:"Top Secret",Void:"Void"},HE:function(a,b,c,d,g,h){a.beginPath();a.moveTo(b+h,c);a.lineTo(b+d-h,c);a.quadraticCurveTo(b+d,c,b+d,c+h);a.lineTo(b+d,c+g-h);a.quadraticCurveTo(b+d,c+g,b+d-h,c+g);a.lineTo(b+h,c+g);a.quadraticCurveTo(b,c+g,b,c+g-h);a.lineTo(b,c+h);a.quadraticCurveTo(b,c,b+h,c);a.closePath();a.fill();a.stroke()},serialize:function(a,b){var c=g.ka.prototype.serialize.apply(this,arguments),d=$(c);d.attr("icon",this.Icon);this.image&&$(document.createElementNS("","imagedata")).text(this.image.src).appendTo(d);
return c},deserialize:function(a,b){g.ka.prototype.deserialize.apply(this,arguments);var c=$(a),d=c.attr("icon");d?this.Icon=d:this.Subject&&(this.Icon=this.Subject);c=c.find("imagedata");0<c.length&&(this.ImageData=c.text())}};g.lj.prototype=$.extend(new g.ka,g.lj.prototype,a.utils.eventHandler);Object.defineProperties(g.lj.prototype,{Icon:{get:function(){return this.MC},set:function(a){this.MC=a;this.UA=this.QF();this.Jb()}},ImageData:{get:function(){return this.image.src},set:function(a){this.image||
(this.image=new Image);this.Pr=!1;this.image.src=a;var b=this;this.image.onload=function(){b.Pr=!0;b.trigger("resourcesLoaded")};this.Jb()}},FillColor:{get:function(){return this.Uc},set:function(){}},StrokeColor:{get:function(){return this.Kh},set:function(){}}});g.Rc=function(){g.ka.call(this);this.V=[];this.La={x:0,y:0};this.ib={x:0,y:0}};g.Rc.prototype={Fb:function(a,b){var c=this.getRectPadding();this.V.push(new g.Point(a,b));1===this.V.length?(this.La={x:a,y:b},this.ib={x:a,y:b},this.X=a-c,
this.Y=b-c):(a>this.ib.x&&(this.Width=a-this.La.x+2*c,this.ib.x=a),b>this.ib.y&&(this.Height=b-this.La.y+2*c,this.ib.y=b),a<this.La.x&&(this.Width=this.ib.x-a+2*c,this.X=a-c,this.La.x=a),b<this.La.y&&(this.Height=this.ib.y-b+2*c,this.Y=b-c,this.La.y=b))},le:function(a,b,c){this.V&&this.V.length>a?(this.V[a].x=b,this.V[a].y=c,this.adjustRect()):this.V&&(this.V.length===a&&this.Fb(b,c))},fg:function(a){return this.V&&this.V.length>a?this.V[a]:null},uk:function(){var a=this.V.pop();this.adjustRect();
return a},getPath:function(){return this.V},setPath:function(a){this.V=a;this.adjustRect()},getRectPadding:function(){return this.StrokeThickness},adjustRect:function(){if(0!==this.V.length){this.La={x:Number.MAX_VALUE,y:Number.MAX_VALUE};this.ib={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};for(var a=0;a<this.V.length;a++)if(null!==this.V[a]){var b=this.V[a].x,c=this.V[a].y;b>this.ib.x&&(this.ib.x=b);c>this.ib.y&&(this.ib.y=c);b<this.La.x&&(this.La.x=b);c<this.La.y&&(this.La.y=c)}a=this.getRectPadding();
this.X=this.La.x-a;this.Y=this.La.y-a;this.Width=Math.max(0,this.ib.x-this.La.x)+2*a;this.Height=Math.max(0,this.ib.y-this.La.y)+2*a}},selectionModel:g.gj};g.Rc.prototype=$.extend(new g.ka,g.Rc.prototype);g.FreeHandAnnotation=function(){g.ka.call(this);this.za=[];this.LeftMost=Infinity;this.RightMost=0;this.TopMost=Infinity;this.BottomMost=0;this.La={x:0,y:0};this.ib={x:0,y:0};this.Nn=!1;this["_xsi:type"]="Free Hand";this.Subject=i18n.t("annotations.types.freeHand");this.Uc=null};g.FreeHandAnnotation.prototype=
{elementName:"ink",shouldSimplifyPath:!0,Fb:function(a,b,c){"undefined"===typeof c&&(c=0);if(c===this.za.length)this.za.push([]);else if(c>this.za.length){console.warn("FreeHandAnnotation addPathPoint: pathIndex out of bounds.");return}this.LeftMost=Math.min(this.LeftMost,a);this.RightMost=Math.max(this.RightMost,a);this.TopMost=Math.min(this.TopMost,b);this.BottomMost=Math.max(this.BottomMost,b);var d=this.getRectPadding();this.hr=this.LeftMost-d;this.ir=this.TopMost-d;this.gr=this.RightMost-this.LeftMost+
2*d;this.dr=this.BottomMost-this.TopMost+2*d;this.za[c].push(new g.Point(a,b))},le:function(a,b,c,d){"undefined"===typeof d&&(d=0);var g=null;this.za.length>d?(g=this.za[d],g.length>a?(g[a].x=b,g[a].y=c,this.adjustRect()):g.length===a&&this.Fb(b,c,d)):this.za.length===d?this.Fb(b,c,d):console.warn("FreeHandAnnotation setPathPoint: pathIndex out of bounds.")},fg:function(a,b){"undefined"===typeof b&&(b=0);return this.za&&(this.za.length>b&&this.za[b].length>a)?this.za[b][a]:null},uk:function(a){"undefined"===
typeof a&&(a=0);var b=null;this.za.length>a&&(b=this.za[a].pop(),this.adjustRect());return b},getPath:function(a){"undefined"===typeof a&&(a=0);return this.za.length>a?this.za[a]:null},setPath:function(a,b){"undefined"===typeof b&&(b=0);this.za.length<b?console.warn("FreeHandAnnotation setPath: pathIndex out of bounds."):this.za.length>b?this.za[b]=a:this.za.length===b&&this.za.push(a);this.adjustRect()},JE:function(){this.za=[]},finish:function(){this.Nn||(this.Jb(),this.Nn=!0)},resize:function(a){var b=
a.x1,c=a.y1,d=a.wa(),g=a.va();a=c-this.Y;if(!(0===b-this.X&&(0===a&&(d===this.Width&&g===this.Height))||(1>d||1>g))){var h=a=1;"undefined"!==typeof d&&("undefined"!==typeof g&&(a=g/this.Height,h=d/this.Width,Math.min(a,h),this.Width=d,this.Height=g));for(d=0;d<this.za.length;d++)for(g=0;g<this.za[d].length;g++)this.za[d][g].x=(this.za[d][g].x-this.X)*h+b,this.za[d][g].y=(this.za[d][g].y-this.Y)*a+c;this.X=b;this.Y=c}},draw:function(a){this.Cc(a);a.beginPath();for(var b=this.qi(),c=0;c<b.length;c++)this.GE(a,
b[c]);a.lineCap="round";a.lineJoin="round";a.stroke()},qi:function(){return this.za},CI:function(a,b){if(this.shouldSimplifyPath)for(var c=0;c<this.za.length;c++){var d=window.simplify(this.getPath(c),a,b);this.setPath(d,c)}},GE:function(a,b){var c="undefined"===typeof b?0:b.length;if(3<=c){a.moveTo(b[0].x,b[0].y);for(c=1;c<b.length-2;c++)a.quadraticCurveTo(b[c].x,b[c].y,(b[c].x+b[c+1].x)/2,(b[c].y+b[c+1].y)/2);c+1<b.length&&a.quadraticCurveTo(b[c].x,b[c].y,b[c+1].x,b[c+1].y)}else 2===c&&(a.moveTo(b[0].x,
b[0].y),a.lineTo(b[1].x,b[1].y))},rotate:function(b,c){this.za.forEach(function(d){for(var g=0;g<d.length;++g)d[g]=a.Fa.ra.rh(d[g],b,c)});this.adjustRect()},adjustRect:function(){if(0!==this.za.length){this.La={x:Number.MAX_VALUE,y:Number.MAX_VALUE};this.ib={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};var a,b;for(a=0;a<this.za.length;a++)for(b=0;b<this.za[a].length;b++)if(null!==this.za[a][b]){var c=this.za[a][b].x,d=this.za[a][b].y;c>this.ib.x&&(this.ib.x=c);d>this.ib.y&&(this.ib.y=d);c<this.La.x&&
(this.La.x=c);d<this.La.y&&(this.La.y=d)}a=this.getRectPadding();this.X=this.La.x-a;this.Y=this.La.y-a;this.Width=Math.max(0,this.ib.x-this.La.x)+2*a;this.Height=Math.max(0,this.ib.y-this.La.y)+2*a}},getRectPadding:function(){return this.StrokeThickness},serialize:function(a,b){for(var c=g.ka.prototype.serialize.apply(this,arguments),d=$(document.createElementNS("","inklist")),h=this.qi(),f=0;f<h.length;f++)if(!(1>h[f].length)){var e=g.da.Ek(h[f],b);$(document.createElementNS("","gesture")).text(e).appendTo(d)}$(c).append(d);
return c},deserialize:function(a,b){g.ka.prototype.deserialize.apply(this,arguments);var c=this;c.za=[];$(a).find("inklist gesture").each(function(){var a=$(this).text(),a=g.da.ji(a,b),a=this.shouldSimplifyPath?window.simplify(a,0.5):a;c.za.push(a)});this.adjustRect();this.Uc=null},selectionModel:g.xa};g.FreeHandAnnotation.prototype=$.extend(new g.ka,g.FreeHandAnnotation.prototype);g.Eg=function(){g.ka.call(this);this.V=[];this.Nn=!1;this.Yd="solid";this.Mn=2;this["_xsi:type"]="Polygon";this.Subject=
i18n.t("annotations.types.polygon");this.La={x:0,y:0};this.ib={x:0,y:0}};g.Eg.prototype={elementName:"polygon",resize:function(a){var b=a.x1;a=a.y1;var c=b-this.X,d=a-this.Y;if(0!==c||0!==d){for(var g=0;g<this.V.length;g++)this.V[g].x+=c,this.V[g].y+=d;this.X=b;this.Y=a}},finish:function(){a.Fa.ra.ou(this.V)&&(this.V[this.V.length]={x:this.V[0].x,y:this.V[0].y});this.adjustRect()},draw:function(a){this.Cc(a);if("cloudy"===this.Style&&"PolygonCloud"===this.Intent)this.FE(a);else for(var b=0;b<this.V.length;b++){var c=
this.V[b];0===b?(a.beginPath(),a.moveTo(c.x,c.y)):a.lineTo(c.x,c.y)}1<this.V.length&&(a.closePath(),a.lineJoin="round",a.fill(),a.stroke())},FE:function(b){b.beginPath();var c=a.Fa.ra.eE(this.V);a.Fa.ra.ou(this.V)&&(c[c.length]={x:c[0].x,y:c[0].y});if(!(2>=c.length)){var d=this.Mn;0===d&&(d=2);for(var g=1/8092,h=a.Fa.ra.DF(c),f=1!==Math.round(h),e=0,n=6.5*d,m=c[0],A=n,B=n,y={x:c[1].x-c[0].x,y:c[1].y-c[0].y},z={x:c[0].x-c[c.length-2].x,y:c[0].y-c[c.length-2].y},d=!0,I=!1,D=0,F,H=0;H<c.length-1;++H){var G=
c[H],K=c[H+1],K={x:K.x-G.x,y:K.y-G.y},J=Math.sqrt(K.x*K.x+K.y*K.y);if(!(J<=g)){var L={x:K.x/J,y:K.y/J},P=Math.max(Math.floor(J/n),1),J=J/P,e=a.Fa.ra.ZE(L.x,L.y);if(0===H&&3>=c.length){var N=Math.sqrt(y.x*y.x+y.y*y.y);if(N<n){b.arc(c[0].x,c[0].y,N,0,2*Math.PI);return}if(N<2*J){f=N/2;b.arc(c[0].x,c[0].y,f,0,2*Math.PI);b.moveTo(c[1].x+f,c[1].y);b.arc(c[1].x,c[1].y,f,0,2*Math.PI);b.moveTo(c[0].x+f,c[0].y);return}b.arc(c[0].x,c[0].y,J/2,0,2*Math.PI);b.moveTo(c[1].x+J/2,c[1].y);b.arc(c[1].x,c[1].y,J/2,
0,2*Math.PI);b.moveTo(c[0].x+J/2,c[0].y)}0===H&&(D=J,F={x:L.x,y:L.y});G.x-=L.x*J*0.5;G.y-=L.y*J*0.5;z=a.Fa.ra.mE(z,K);N=0;I||(++N,B=J,d=0>z*h,G.x+=L.x*J,G.y+=L.y*J,m=G,b.moveTo(m.x,m.y),this.nq=m.x,this.oq=m.y,I=!0);for(A=0.25*(A+J);N<P;++N)1===N&&(A=0.5*J),G.x+=L.x*J,G.y+=L.y*J,this.arcTo(b,A,A,e,0===N&&0>z*h,f,G.x,G.y);z=K;A=J}}I||(b.moveTo(m.x,m.y),this.nq=m.x,this.oq=m.y);g=0.25*(B+A);this.arcTo(b,g,g,e,d,f,c[c.length-1].x+0.5*D*F.x,c[c.length-1].y+0.5*D*F.y)}},arcTo:function(b,c,d,g,h,f,e,n){var m=
[],A=[];a.Fa.ra.LD(this.nq,this.oq,m,A,c,d,g,h,f,e,n);for(d=c=0;d<A.length;++d)"c"===A[d]?(b.bezierCurveTo(m[c],m[c+1],m[c+2],m[c+3],m[c+4],m[c+5]),this.nq=m[c+4],this.oq=m[c+5],c+=6):(b.lineTo(m[c],m[c+1]),this.nq=m[c],this.oq=m[c+1],c+=2)},Fk:function(a){this.Intent=a},oi:function(){return this.Intent},serialize:function(a,b){var c=g.ka.prototype.serialize.apply(this,arguments);"cloudy"===this.Style&&("PolygonCloud"===this.Intent&&(c.setAttribute("intensity",this.Intensity),c.setAttribute("style",
this.Style),c.setAttribute("IT",this.Intent)));var d=this.getPath();d&&(0<d.length&&$(document.createElementNS("","vertices")).text(g.da.Ek(d,b)).appendTo($(c)));return c},deserialize:function(b,c){g.ka.prototype.deserialize.apply(this,arguments);var d=$(b),h=d.find("vertices");0<h.length&&(h=h.text(),this.V=g.da.ji(h,c));a.Fa.ra.ou(this.V)&&(this.V[this.V.length]={x:this.V[0].x,y:this.V[0].y});this.Yd=d.attr("style");this.Mn=d.attr("intensity");this.Qw=d.attr("IT");this.adjustRect()},selectionModel:g.Vq};
g.Eg.prototype=$.extend(new g.Rc,g.Eg.prototype);Object.defineProperties(g.Eg.prototype,{Intensity:{get:function(){return this.Mn},set:function(a){this.Mn=a;this.Jb()}},Style:{get:function(){return this.Yd},set:function(a){this.Yd=a;this.Jb()}},Intent:{get:function(){return this.Qw},set:function(a){this.Qw=a;this.Jb()}}});g.ij=function(){g.ka.call(this);this.V=[];this.Nn=!1;this["_xsi:type"]="Polyline";this.Subject=i18n.t("annotations.types.polyline");this.La={x:0,y:0};this.ib={x:0,y:0};this.Uc=null};
g.ij.prototype={elementName:"polyline",resize:function(a){var b=a.x1;a=a.y1;var c=b-this.X,d=a-this.Y;if(0!==c||0!==d){for(var g=0;g<this.V.length;g++)this.V[g].x+=c,this.V[g].y+=d;this.X=b;this.Y=a}},finish:function(){this.adjustRect()},draw:function(a){this.Cc(a);for(var b=0;b<this.V.length;b++){var c=this.V[b];0===b?(a.beginPath(),a.moveTo(c.x,c.y)):a.lineTo(c.x,c.y)}1<this.V.length&&(a.lineJoin="round",a.stroke())},serialize:function(a,b){var c=g.ka.prototype.serialize.apply(this,arguments),d=
this.getPath();d&&(0<d.length&&$(document.createElementNS("","vertices")).text(g.da.Ek(d,b)).appendTo($(c)));return c},deserialize:function(a,b){g.ka.prototype.deserialize.apply(this,arguments);var c=$(a).find("vertices");0<c.length&&(c=c.text(),this.V=g.da.ji(c,b));this.adjustRect();this.Uc=null},selectionModel:g.gj};g.ij.prototype=$.extend(new g.Rc,g.ij.prototype);var n=$("<span>Hg</span>"),m=$('<div style="display: inline-block; width: 1px; height: 0px;"></div>');f=$("<div></div>").css({visibility:"hidden",
position:"absolute",top:"-9001px"});f.append(n,m);$("body").append(f);g.Ja=function(a){g.Rc.call(this);this.V=[];this.La={x:0,y:0};this.ib={x:0,y:0};this["_xsi:type"]="FreeText";this.Subject=i18n.t("annotations.types.freetext");this.StrokeThickness=1;this.Fk(a);this.yp="left";this.hw=new g.Color(255,0,0);this.Xv="Verdana";this.Yv="9pt";this.gw="left";this.ew=0};g.Ja.Ad={FreeText:"FreeText",FreeTextCallout:"FreeTextCallout",FreeTextTypeWriter:"FreeTextTypeWriter"};g.Ja.prototype={elementName:"freetext",
oi:function(){return this.intent},Fk:function(a){this.intent=a||g.Ja.Ad.FreeText;a!==g.Ja.Ad.FreeTextCallout?(this.selectionModel=g.Yk,this.Subject=i18n.t("annotations.types.freetext")):(this.Pi("OpenArrow"),this.selectionModel=g.dn,this.Subject=i18n.t("annotations.types.callout"))},Pi:function(a){this.Hj=a},hm:function(){return this.Hj},Fb:function(a,b){5>this.V.length&&g.Rc.prototype.Fb.call(this,a,b)},adjustRect:function(){this.oi()===g.Ja.Ad.FreeTextCallout&&g.Rc.prototype.adjustRect.apply(this,
arguments)},resize:function(a){if(this.oi()===g.Ja.Ad.FreeTextCallout){var b=a.y1-this.Y,c=a.wa()/this.Width,d=a.va()/this.Height;if(0!==a.x1-this.X||(0!==b||(1!==c||1!==d))){for(b=0;b<this.V.length;b++)null!==this.V[b]&&(this.V[b].x=(this.V[b].x-this.X)*c+a.x1,this.V[b].y=(this.V[b].y-this.Y)*d+a.y1);this.adjustRect()}}else this.sg(a),a=this.getRectPadding(),this.Hk(new g.na(a,a,a,a))},getRectPadding:function(){return this.oi()===g.Ja.Ad.FreeTextCallout?this.StrokeThickness/2:0},Hk:function(a){for(var b=
this.getPath();5>b.length;)b.push(null);5<=b.length&&(b[3]=new g.Point(this.X+a.x1,this.Y+a.y2),b[4]=new g.Point(this.X+this.Width-a.x2,this.Y+this.Height-a.y1))},cz:function(){var a=this.V[3],b=this.V[4];return new g.na(a.x-this.X,this.Y+this.Height-b.y,this.X+this.Width-b.x,a.y-this.Y)},nt:function(){return this.FontSize.slice(-2)||"px"},mt:function(){var a=parseFloat(this.FontSize);"px"===this.nt(a)&&(a*=0.75);return a},pJ:function(a,b,c,d,g,h,f){for(var e,n=d,m=a.measureText(".").width,m=2*Math.ceil(g/
m),B=b.split("\n"),y=0;y<B.length;y++){for(var z=B[y].split(" "),I="",D=0;D<z.length;D++){b=z[D];e=a.measureText(b);if(e.width>g){for(var F=1,H=m,G;F<=H;)if(G=Math.floor((H+F)/2),e=a.measureText(b.slice(0,G),a),e.width<g)F=G+1;else if(e.width>g)H=G-1;else break;b=b.slice(0,Math.max(1,H))}z[D]!==b&&(z.splice(D+1,0,z[D].substr(b.length)),z[D]=b);b=I+z[D];e=a.measureText(b);if(e.width>g&&0<D){a.fillText(I,c,d);I=z[D]+" ";if(d-n>=h)return;d+=f}else I=b+" "}a.fillText(I.slice(0,-1),c,d);if(d-n>=h)break;
d+=f}},draw:function(b){var c;this.Cc(b);if(this.oi()===g.Ja.Ad.FreeTextCallout){b.lineJoin="miter";for(var d=Math.min(3,this.V.length),h=0;h<d;h++)c=this.V[h],0===h?(b.beginPath(),b.moveTo(c.x,c.y)):b.lineTo(c.x,c.y);2<=this.V.length&&g.Jf.Ps(b,this.V[0],this.V[1],this.StrokeThickness)}if(5===this.V.length){c=this.V[3];var f=this.V[4],d=c.x,h=c.y,e=f.x-c.x,v=f.y-c.y;b.save();b.beginPath();b.rect(d,h,e,v);b.closePath();b.fill();0<this.StrokeThickness&&(b.clip(),b.lineWidth*=2,b.strokeRect(d,h,e,v));
b.restore();c=this.Zg();if("undefined"!==typeof c){b.textBaseline="top";b.fillStyle=this.TextColor.toString();var w=b.lineWidth,f=0+w;b.save();b.beginPath();b.rect(d+w,h+w,Math.max(e-2*w,0),Math.max(v-2*w));b.closePath();b.clip();b.textAlign=this.TextAlign;if(this.Rotation){b.translate(d,h);b.rotate(-(Math.PI/180*this.Rotation));b.translate(-d,-h);if(90===this.Rotation||270===this.Rotation)w=e,e=v,v=w;90===this.Rotation?b.translate(-e,0):270===this.Rotation?b.translate(0,-v):180===this.Rotation&&
b.translate(-e,-v)}var w=e-2*f,v=v-2*f,x=parseFloat(this.FontSize),A=this.nt();"pt"===A&&(x*=0.75);if(0===x){var x=w,B=c.split("\n").reduce(function(a,b){return b.length>a.length?b:a}),y=function(a){n.css({font:a});a={};m.css({verticalAlign:"baseline"});a.OD=m.offset().top-n.offset().top;m.css({verticalAlign:"bottom"});a.height=m.offset().top-n.offset().top;a.DK=a.height-a.OD;return a};do x--,b.font=x+"px "+this.Font;while((b.measureText(B).width>w||y(b.font).height>v)&&0<x)}B=x+4;a.utils.ie&&(B=
x);y=d+f;"center"===this.TextAlign?y=d+e/2:"right"===this.TextAlign&&(y=d+e-f);b.font=x+A+" "+this.Font;this.pJ(b,c,y,h+f,w,v,B);b.restore()}}},serialize:function(a,b){var c=g.ka.prototype.serialize.apply(this,arguments),d=$(c),h=this.getPath(),f={},e=this.cz(),e=g.da.Cu(e,b);f.fringe=e;e=g.da.Mi(this.FillColor);null!==e?f.color=e:d.removeAttr("color");d.removeAttr("interior-color");var e=g.Jf.Mj(b,this.mt()),n=$(document.createElementNS("","defaultappearance")),m=this.StrokeColor.OI();n.text(m+" "+
g.da.SH(this.Font,e));d.append(n);n=$(document.createElementNS("","defaultstyle"));m=g.da.RH(this,b);n.text(m);d.append(n);this.yp&&("left"!==this.yp&&(f.justification=this.yp));n=g.da.Mi(this.TextColor);null!==n&&c.setAttribute("TextColor",n);c.setAttribute("FontSize",e);c.setAttribute("rotation",this.Rotation);e=this.oi();e===g.Ja.Ad.FreeTextCallout&&(h=h.slice(0,3),h=g.da.Ek(h,b),f.callout=h,f.head=this.hm(),c.setAttribute("IT",e));d.attr(f);return c},deserialize:function(a,b){function c(a){var d=
a.slice(-2);a=parseFloat(a);return String(g.Jf.Mj(b,a))+d}this.TextColor=new g.Color(0,0,0);var d=g.da,h=$(a);g.ka.prototype.deserialize.apply(this,arguments);null!==d.ii(h.attr("color"))?this.FillColor=this.StrokeColor:this.FillColor=new g.Color(0,0,0,0);var f=d.Xz(a);f.color&&(this.StrokeColor=d.ii(f.color));f.font&&(this.Font=f.font.name,this.FontSize=c(f.font.size));f=d.VG(a);f.font&&(this.Font=f.font.name,this.FontSize=c(f.font.size));f.textAlign&&(this.TextAlign=f.textAlign);f.color&&(this.TextColor=
d.ii(f.color));var e;if((f=h.attr("IT")||(h.attr("it")||a.getAttribute("IT")))&&f===g.Ja.Ad.FreeTextCallout){if(this.Fk(g.Ja.Ad.FreeTextCallout),this.Pi(h.attr("head")||"OpenArrow"),e=h.attr("callout")){f=d.ji(e,b);3>f.length&&(e=d.ji(e,b,",",","),3===e.length&&(f=e));e=this.getPath();for(var n=0;n<f.length;n++)e[n]=new g.Point(parseFloat(f[n].x),parseFloat(f[n].y))}}else this.Fk(g.Ja.Ad.FreeText),e=this.getPath(),e[0]=null,e[1]=null,e[2]=null;this.fringe?this.Hk(this.fringe):this.Hk(new g.na(0,0,
0,0));if(f=h.attr("justification"))this.yp=f;d=d.ii(h.attr("TextColor")||a.getAttribute("TextColor"));null!==d&&(this.TextColor=d);d=h.attr("FontSize")||a.getAttribute("FontSize");_.isUndefined(d)||(_.isNull(d)||(this.FontSize=c(d+"pt")));(h=h.attr("rotation"))&&(this.Rotation=parseInt(h,10));this.adjustRect()},selectionModel:g.Yk};g.Ja.prototype=$.extend(new g.Rc,g.Ja.prototype);Object.defineProperties(g.Ja.prototype,{TextColor:{get:function(){return this.hw},set:function(a){this.hw=a;this.Jb()}},
FontSize:{get:function(){return this.Yv},set:function(a){this.Yv=a;this.Jb()}},Font:{get:function(){return this.Xv},set:function(a){this.Xv=a;this.Jb()}},TextAlign:{get:function(){return this.gw},set:function(a){this.gw=a;this.Jb()}},Rotation:{get:function(){return this.ew},set:function(a){this.ew=a;this.Jb()}}});g.Tc=function(){g.ka.call(this);this.Uc=null;this.Kh=new g.Color(255,0,0);this.Lh=null;this.aw=!0;this.bw=!1;this.Fd=[];this["_xsi:type"]="Text Markup";this.Subject=this["_xsi:type"]};g.Tc.prototype=
{Nu:function(a){if(!a||("undefined"===typeof a.length||0===a.length))throw Error("Argument quads requires an array of at least one element");this.Fd=a;for(var b=Infinity,c=Infinity,d=0,g=0,h=0;h<this.Fd.length;h++)a=this.Fd[h],b=Math.min(b,a.x1,a.x2,a.x3,a.x4),c=Math.min(c,a.y1,a.y2,a.y3,a.y4),d=Math.max(d,a.x1,a.x2,a.x3,a.x4),g=Math.max(g,a.y1,a.y2,a.y3,a.y4);this.X=b;this.Y=c;this.Width=d-b;this.Height=g-c},Md:function(){return this.Fd},serialize:function(a,b){for(var c=g.ka.prototype.serialize.apply(this,
arguments),d=[],d=[],h=0;h<this.Quads.length;h++){var f=this.Quads[h];d.push(new g.Point(f.x4,f.y4));d.push(new g.Point(f.x3,f.y3));d.push(new g.Point(f.x1,f.y1));d.push(new g.Point(f.x2,f.y2))}0<this.Quads.length&&(d=g.da.Ek(d,b,",",","),$(c).attr("coords",d));return c},deserialize:function(b,c){g.ka.prototype.deserialize.apply(this,arguments);this.Uc=null;this.Fd=[];for(var d=$(b).attr("coords"),d=g.da.ji(d,c,",",","),h=0;h+3<d.length;h+=4){if(a.Fa.ra.xG(d[h],d[h+3],d[h+1],d[h+2])){var f=d[h+2];
d[h+2]=d[h+3];d[h+3]=f}this.Fd.push(new g.gb(d[h+3].x,d[h+3].y,d[h+2].x,d[h+2].y,d[h+1].x,d[h+1].y,d[h].x,d[h].y))}},selectionModel:g.Gh};g.Tc.prototype=$.extend(new g.ka,g.Tc.prototype);Object.defineProperties(g.Tc.prototype,{Quads:{get:function(){return this.Fd},set:function(a){this.Nu(a)}}});g.If=function(){g.Tc.call(this);this.Kh=new g.Color(255,255,0);this["_xsi:type"]="Highlight";this.Subject=i18n.t("annotations.types.highlight");this.Opacity=0.25};g.If.opacityCap=0.3;g.If.prototype={elementName:"highlight",
draw:function(a){this.Cc(a);if(_.isUndefined(this.Opacity)||(_.isNull(this.Opacity)||this.Opacity>g.If.opacityCap))a.globalAlpha=g.If.opacityCap;a.fillStyle=this.StrokeColor.toString();for(var b,c=0;c<this.Quads.length;c++)b=this.Quads[c],a.beginPath(),a.moveTo(b.x1,b.y1),a.lineTo(b.x2,b.y2),a.lineTo(b.x3,b.y3),a.lineTo(b.x4,b.y4),a.closePath(),a.fill()}};g.If.prototype=$.extend(new g.Tc,g.If.prototype);g.oj=function(){g.Tc.call(this);this["_xsi:type"]="Underline";this.Subject=i18n.t("annotations.types.underline")};
g.oj.prototype={elementName:"underline",draw:function(a){this.Cc(a);for(var b,c=0;c<this.Fd.length;c++)b=this.Fd[c],a.beginPath(),a.moveTo(b.x1,b.y1),a.lineTo(b.x2,b.y2),a.closePath(),a.stroke()}};g.oj.prototype=$.extend(new g.Tc,g.oj.prototype);g.Hh=function(){g.Tc.call(this);this["_xsi:type"]="Strikeout";this.Subject=i18n.t("annotations.types.strikeout")};g.Hh.prototype={elementName:"strikeout",draw:function(a){this.Cc(a);for(var b,c=0;c<this.Fd.length;c++){b=this.Fd[c];var d=(b.x1+b.x4)/2,g=(b.y1+
b.y4)/2,h=(b.x2+b.x3)/2;b=(b.y2+b.y3)/2;a.beginPath();a.moveTo(d,g);a.lineTo(h,b);a.stroke()}}};g.Hh.prototype=$.extend(new g.Tc,g.Hh.prototype);g.nj=function(){g.Tc.call(this);this["_xsi:type"]="Squiggly";this.Subject=i18n.t("annotations.types.squiggly")};g.nj.prototype={elementName:"squiggly",draw:function(a){var b,c,d,g,h,f,e;this.Cc(a);for(var n=0;n<this.Fd.length;n++){c=this.Fd[n];b=Math.sqrt((c.x1-c.x2)*(c.x1-c.x2)+(c.y1-c.y2)*(c.y1-c.y2));var m=5/3,B=b/10;a.save();a.translate(c.x1,c.y1-1.25);
a.rotate(Math.atan2(c.y2-c.y1,c.x2-c.x1));c=Math.abs(c.y1-c.y4);a.beginPath();a.rect(0,-c,b,c+1.25+1);a.clip();a.beginPath();for(var y=0;y<2*B;y+=2)e=5*y,h=5*y+m/2,f=m,d=5*(y+1)-m/2,g=m,b=5*(y+1),c=0,a.moveTo(e,0),a.bezierCurveTo(h,f,d,g,b,c),h=5*(y+1)+m/2,f=-m,d=5*(y+2)-m/2,g=-m,b=5*(y+2),c=0,a.bezierCurveTo(h,f,d,g,b,c);a.stroke();a.restore()}}};g.nj.prototype=$.extend(new g.Tc,g.nj.prototype);g.Hf=function(){g.ka.call(this);this["_xsi:type"]="Sticky";this.Subject=i18n.t("annotations.types.stickyNote");
this.Height=this.Width=31;this.NoZoom=this.NoResize=!0;this.Uc=this.Lh=null;this.Kh=new g.Color(255,255,0);this.Icon="Comment";this.Zv=null};g.Hf.prototype={elementName:"text",draw:function(b){if(!this.Fe()){var c=this.Width<this.Height?this.Width:this.Height,d=0.75*c,g=0.48*c,h=0.29*c,f=0.19*c,e=c-f;b.strokeStyle="rgb(0, 0, 0)";b.fillStyle=this.StrokeColor.toString();b.globalAlpha=0===this.Opacity?0:this.Opacity||1;b.rotate(-this.Rotation*Math.PI/180);var n=a.utils.getRotationOffsets((360-this.Rotation)%
360,this.Width,this.Height);b.translate(-n.dx,-n.dy);b.beginPath();b.moveTo(7,2);b.lineTo(c-5-2,2);b.quadraticCurveTo(c-2,2,c-2,7);b.lineTo(c-2,d-5);b.quadraticCurveTo(c-2,d,c-5-2,d);b.lineTo(g,d);b.lineTo(h,c-2);b.lineTo(h,d);b.lineTo(7,d);b.quadraticCurveTo(2,d,2,d-5);b.lineTo(2,7);b.quadraticCurveTo(2,2,7,2);b.fill();b.moveTo(f,0.25*c);b.lineTo(e,0.25*c);b.moveTo(f,0.41*c);b.lineTo(e,0.41*c);b.moveTo(f,0.57*c);b.lineTo(0.68*c,0.57*c);b.stroke()}},serialize:function(a,b){var c=g.ka.prototype.serialize.apply(this,
arguments),d={icon:this.Icon};null!==this.InReplyTo&&(d.inreplyto=this.InReplyTo);$(c).attr(d);return c},deserialize:function(a,b){g.ka.prototype.deserialize.apply(this,arguments);this.Uc=null;var c=$(a),d=c.attr("icon");d&&(this.Icon=d);(c=c.attr("inreplyto"))&&(this.InReplyTo=c);this.NoZoom=this.NoResize=!0},selectionModel:g.un};g.Hf.prototype=$.extend(!0,new g.ka,g.Hf.prototype);Object.defineProperties(g.Hf.prototype,{InReplyTo:{get:function(){return this.Zv},set:function(a){this.Zv=a;this.Jb()}}});
g.Jf={Ps:function(b,c,d,g){b.save();b.translate(c.x,c.y);b.rotate(a.Fa.ra.So(c,d));b.moveTo(0,0);d=5*g+2;c=Math.cos(0.2*Math.PI)*d;d*=Math.sin(0.2*Math.PI);b.moveTo(c,-d);b.lineTo(0,0);b.lineTo(c,d);b.stroke();b.restore()},Mj:function(a,b){var c=a.O({x:0,y:0}),d=a.O({x:Number(b),y:0}),g=c.x-d.x,c=c.y-d.y;return Math.sqrt(g*g+c*c)}}})(window);
(function(a){function e(a){this.o=a.o;this.ya=a}function d(a,b){this.Cm=this.Bm=this.Am=0;a&&(b&&this.set(a,b))}function f(a){this.jb=a;this.el=null;this.Bj=!0;new d;this.Sf=this.rd=null}function b(a){var b=this;this.ya=a;this.qz=!1;this.ya.on("annotationChanged.editbox",function(a,c,d){for(var g=0;g<c.length;++g){var h=c[g];"add"===d&&b.Ft(h)?(b.fG(h),a.imported||(b.Cy(h),h.Nc.select())):"delete"===d&&(h.Nc&&(h.Nc.remove(),delete h.Nc))}});this.ya.on("annotationDoubleClicked.editbox",function(a,
c){b.ya.qc(c)&&(b.Ft(c)&&(this.qz&&(c.Nc.val()!==c.Zg()&&b.ya.Ku(c,c.Nc.val())),b.Cy(c)))})}function c(a){this.ya=a;this.Ki=[]}var g=window.k;g.ea=function(d){if(!d)throw Error("AnnotationManager requires DocumentViewer to initialize");var g=this;g.Do="";g.Kt=!1;g.readOnly=!1;g.Nz=!1;g.HK=!1;g.sx=!0;g.tx=!0;g.o=d;g.Hb=[];g.SL=[];g.Ls=[];g.Gl=[];g.iB=!1;g.KK=[];g.Us="";g.Tf=new c(g);g.$b=new e(g);g.Bw=new b(g);g.Yh=new a.k.HC(g);g.ye=new a.Annotations.N.Xk(this);d.on("contentRemoved.annotManager",
function(){g.Hb.forEach(function(a){a.trigger("contentRemoved")})});g.AK={};g.Qg={line:[Annotations.md],circle:[Annotations.Yi],square:[Annotations.jj],freetext:[Annotations.Ja],stamp:[Annotations.lj],text:[Annotations.Hf],ink:[Annotations.FreeHandAnnotation],polyline:[Annotations.ij],polygon:[Annotations.Eg],strikeout:[Annotations.Hh],highlight:[Annotations.If],underline:[Annotations.oj],squiggly:[Annotations.nj],caret:[Annotations.Uk],widget:[Annotations.Ih,Annotations.zg,Annotations.Cg,Annotations.Bh,
Annotations.yg,Annotations.Ch,Annotations.Eh],link:[Annotations.nd]};g.controlPointSize=8;g.controlPointHitBoxScale=1};g.ea.prototype={Zj:function(){return this.Do},UH:function(a){this.Do=a},qF:function(){return this.Kt},bI:function(a){this.Kt=a},wt:function(){return this.readOnly},kI:function(a){this.readOnly=a},$o:function(){return this.Nz},Ju:function(a){this.Nz=a},kp:function(){return this.iB},Ou:function(a){this.iB=a},kC:function(a){this.bc(a)},uh:function(){return this.sx},yE:function(){this.sx=
!1},jB:function(){return this.tx},zE:function(){this.tx=!1;this.Bw.disable()},jI:function(a){this.by=a},qc:function(a){return(this.by?this.by(a.Author,a):this.Kt||(a.Author===this.Do||(null===a.Author||"undefined"===typeof a.Author)))&&!this.readOnly},ni:function(){return this.ye},mA:function(a){a=a.map(Number);this.Hb=this.Hb.filter(function(b){return-1!==a.indexOf(b.PageNumber)?(b.av(),!1):!0})},wH:function(a){var b=this;b.o.ek().tu("AnnotationManager.layoutChanged",{read:function(){},consolidateChanges:function(a){var b=
a.filter(function(a){return"layoutChanged"===a.type});a=a.filter(function(a){return"pageDiff"===a.type});var c=[];if(b.length){var d=[],g={},h={};b.forEach(function(a){a.removed.forEach(function(a){var b=h[a];_.isUndefined(b)?d.push(a):d.push(b)});Object.keys(a.moved).forEach(function(b){var c=a.moved[b];if(_.isUndefined(h[b]))g[b]=c,h[c]=b;else{var d=h[b];g[d]=c;delete h[b];h[c]=d}})});c.push({type:"layoutChanged",removed:d,moved:g})}if(a.length){var f=a.reduce(function(a,b){b.diffs.forEach(function(b){var c=
b.before;b=b.after;a[c.id]?a[c.id].after=b:a[c.id]={before:c,after:b}});return a},{});c.push({type:"pageDiff",diffs:Object.keys(f).map(function(a){return f[a]})})}return c},write:function(a,c){c.forEach(function(a){if("layoutChanged"===a.type)b.mA(a.removed),b.Hb.forEach(function(b){var c=a.moved[b.PageNumber];c&&(b.PageNumber=c)});else if("pageDiff"===a.type){var c={};b.Hb.forEach(function(a){var b=a.Ib();b in c?c[b].push(a):c[b]=[a]});a.diffs.forEach(function(a){var b=a.after,d=a.before.cd.inverse();
d.concat(b.matrix);(a=c[b.pageNum])&&a.forEach(function(a){var b=a.de(),c={x:b.x1,y:b.y1},b={x:b.x2,y:b.y2},c=d.O(c),b=d.O(b);a.sg({x1:c.x,y1:c.y,x2:b.x,y2:b.y})})})}})}});a.on("layoutChanged",function(a,c){b.o.ek().je("AnnotationManager.layoutChanged",{type:"layoutChanged",removed:c.removed,moved:c.moved})});a.on("pageDiff",function(a,c){b.o.ek().je("AnnotationManager.layoutChanged",{type:"pageDiff",diffs:c})});a.on("pageContentChanged",function(a,c){b.o.ek().je("AnnotationManager.layoutChanged",
{type:"layoutChanged",removed:c,moved:{}})})},bc:function(b,c,d,g){var f=!1,e=b-1;if(isNaN(e))throw Error("Invalid page index given");var q=!!c,s=c||this.o.Yg(e);if(s){var u=s.getContext("2d");if(!q){var v=this.o.cm(e),w=this.o.Vo(e+1),x=v.width,v=v.height;if(90===w||270===w)w=x,x=v,v=w;a.k.Wa.vs(s,x,v)}if(this.$o())for(g=0;g<this.Hb.length;g++)w=this.Hb[g],w.Va()===e&&((v=this.$b.Vd(w))&&(v.Bj&&this.$b.lm(w)));else{s=g||a.k.Wa.Dt(e);x=[];for(g=0;g<this.Hb.length;g++)if(w=this.Hb[g],w.Va()===e)if(this.kp()&&
-1===w.Author.indexOf(this.Us))!1===w.xj&&(f=!0),w.xj=!0,(v=this.$b.Vd(w))&&(v.Bj&&this.$b.lm(w));else{!0===w.xj&&(f=!0);w.xj=!1;x.push(w);u.save();!0===w.NoZoom&&(u.translate(w.ri(),w.si()),q||(v=this.o.lb(w.Va()),u.scale(1/v,1/v),v=this.o.zc(b),0<v&&(3===v?u.translate(w.wa(),0):2===v?u.translate(w.wa(),w.va()):1===v&&u.translate(0,w.va()),u.rotate(-1*v*Math.PI/2))));u.save();if(w.DH())w.Hidden||(!this.o.Pl&&!w.Az()||(d&&w.render(s,this,this.o.lb(b-1)/a.utils.getCanvasMultiplier()),w.draw(u)));else w.off("resourcesLoaded.annotManager").on("resourcesLoaded.annotManager",
this.HF(w,b,c));u.restore();if(!q)if("undefined"!==typeof w.selectionModel){if(this.lk(w)&&(!w.Fe()&&!w.Hidden)){var A=new w.selectionModel(w,this.qc(w)),v=this.o.lb(w.Va());!0===w.NoZoom&&(u.translate(-w.ri(),-w.si()),v=1);A.draw(u,w,v)}}else(w=this.Tf.TK(w))&&w.draw(u);u.restore()}f&&this.trigger("annotationFiltered",[this.Hb]);q||this.$b.eJ(x,u)}}},HF:function(a,b,c){var d=this;return function(){d.bc(b,c);a.off("resourcesLoaded")}},Bc:function(a){var b=a.Va();this.kC(a.PageNumber);!this.fh(a)&&
((b=this.o.Yg(b))&&(b=b.getContext("2d"),b.save(),a.draw(b),b.restore()))},vG:function(a){this.o.Fz(a.Ib()-1,[{x4:a.ah(),y4:a.eh(),x2:a.jz(),y2:a.Ky()}])},aG:function(a){this.rz([a])},rz:function(a){a.forEach(function(a){a.Hidden=!0});this.ae();this.Ko(a);this.trigger("annotationHidden",[a,!0])},zI:function(a){this.QA([a])},QA:function(a){a.forEach(function(a){a.Hidden=!1});this.Ko(a);this.trigger("annotationHidden",[a,!1])},RE:function(a){if(""===a){if(!this.kp())return;this.Ou(!1);this.Us=""}else this.Ou(!0),
this.Us=a;a=this.o.W.Nd();for(var b=0;b<a.length;b++)this.bc(a[b]+1)},TI:function(){this.$o()?this.Ju(!1):this.Ju(!0);for(var a=this.o.W.Nd(),b=0;b<a.length;b++)this.bc(a[b]+1),this.o.nm(a[b]);this.trigger("annotationToggled",[this.$o(),this.Hb,this.kp()])},fh:function(a){return-1<this.Hb.indexOf(a)},Ku:function(a,b){a.Ni(b);this.trigger("annotationChanged",[[a],"modify"]);this.uh()&&this.$b.Rr(a)},Pg:function(a,b){this.Lj([a],b)},Lj:function(a,b){for(var c=0;c<a.length;++c){var d=a[c];0>=d.PageNumber&&
console.warn("Invalid annotation PageNumber: "+d.PageNumber);this.fh(d)||(this.Hb.push(d),this.LA(d))}c=$.Event("annotationChanged");c.imported=b;this.trigger(c,[a,"add"])},ZI:function(a,b){this.LA(a);if(a.Fe()){var c=this.gm(a);this.$b.Rr(a,c)}else this.trigger("setNoteText",a);c=$.Event("annotationChanged");c.imported=b;this.trigger(c,[[a],"modify"])},LA:function(a){function b(){return(65536*(1+Math.random())|0).toString(16).substring(1)}a.Id||(a.Id=b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b());
a.zf&&a.zf(this.o);a.ih()&&a.mb(a.kb().value);if(this.uh()){this.$b.createPopup(a);var c=a.qf();c&&(c.isOpen()?this.$b.BI(a):this.$b.lm(a))}},Su:function(a){function b(a,c){return c.DateCreated-a.DateCreated}var c=[],d;for(d=0;d<a.length;++d){var g=a[d];if(g instanceof Annotations.Annotation)if(g.Fe()){var f=this.Yj(g.InReplyTo);f&&f.$h(g)}else c.push(g)}for(d=0;d<c.length;++d)if(a=c[d],0!==a.fm().length)for(g=[],g.push({Fl:a,Os:null});0<g.length;){var e=g.pop(),f=e.Fl;null!==e.Os&&this.$b.$h(f,e.Os,
a);for(var e=f.fm().sort(b),s=0;s<e.length;++s)g.push({Fl:e[s],Os:f})}},wI:function(a){if(a.Fe()){var b=this.Yj(a.InReplyTo);b.$h(a);this.$b.$h(a,b,this.gm(a))}},gm:function(a){for(;null!==a&&a.Fe();)a=this.Yj(a.InReplyTo);return a},Wx:function(a,b){var c=new Annotations.Hf;c.InReplyTo=a.Id;c.X=a.X;c.Y=a.Y;c.PageNumber=a.PageNumber;c.Author=this.Zj();c.Ni(b||"");a.$h(c);this.Pg(c);this.$b.$h(c,a,this.gm(a));return c},measureText:function(a,b){var c=$("#text-width-tester");a=a.replaceAll("\n","<br>&nbsp;");
c.length?c.css({font:b}).html(a):(c=$('<span id="text-width-tester" style="display:none;font:'+b+';">'+a+"</span>"),$("body").append(c));return{width:c.width(),height:c.height()}},YI:function(a){this.fh(a)&&this.bc(a.Ib())},hi:function(a,b,c){this.Js([a],b,c)},Js:function(a,b,c){var d=this,g={};if(!b&&this.wt())this.o.trigger("notify","readOnlyDelete");else{var f=[],e=!1;a=a.slice();for(var s=0;s<a.length;s++){var u=a[s];u.av();if(this.fh(u))if(c||(b||this.qc(u))){this.Tf.Ll(u);this.trigger("annotationSelected",
[[u],"deselected"]);var v=this.Hb.splice(this.Hb.indexOf(u),1);f.push(v[0]);u.IsAdded||(b||this.Ls.push(v[0]));this.$b.vE(u);u.Fe()&&(this.$b.Ks(u),this.Yj(u.InReplyTo).Ks(u));u.fm().forEach(function(a){d.$b.Rr(a);a.InReplyTo=null;d.Su([a])});g[u.Ib()]=!0}else e=!0;else g[u.Ib()]=!0}0<f.length&&(c=$.Event("annotationChanged"),c.imported=b,this.trigger(c,[f,"delete"]));e&&this.o.trigger("notify","permissionDelete");$.each(g,function(a){d.bc(a)})}},aJ:function(){if(!this.readOnly){this.Gl=[];for(var a=
this.rf(),b=0;b<a.length;b++)if(!(a[b]instanceof Annotations.Tc)){var c=this.it(a[b]);this.Gl.push(c)}this.yn=0}},ZG:function(){if(!this.readOnly&&"undefined"!==typeof this.yn){this.yn++;for(var a=[],b=0;b<this.Gl.length;b++){var c=this.it(this.Gl[b]);a.push(c);var d=this.o.mi(),g=this.o.u.Sb(d-1),f=this.o.u.Rb(d-1),g=new Annotations.na(0,0,g,f),f=c.de();c.Ib()===d?f.translate(5*this.yn,5*this.yn):c.CA(d);f.Vs(g);c.resize(f)}this.Lj(a);this.Gl=a;this.ae();this.Au(a)}},it:function(a){function b(){return(65536*
(1+Math.random())|0).toString(16).substring(1)}var c=this.EF(a);if(null===c)return null;var d=a.Va(),d=this.o.mf(d),g=d.inverse(),f=document.createElementNS("",a.elementName),f=a.serialize(f,g);a=new c;a.deserialize(f,d);a.Id=b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b();a.Author=this.Do;a.DateCreated=new Date;a.DateModified=new Date;a.IsAdded=!0;a.IsModified=!1;$(a).data("popup",null);return a},$E:function(a){return a.jb},Xs:function(a){this.uh()&&(a=this.$b.Vd(a),$(a.el).find(".popup-comment").focus())},
lk:function(a){return this.Tf.Hx(a)},Ck:function(a){!this.fh(a)||(a instanceof Annotations.Ta||(this.Tf.Ck(a),this.bc(a.Ib()),this.trigger("annotationSelected",[[a],"selected"])))},Au:function(a){var b=[],c={};if(a&&$.isArray(a)){for(var d=0;d<a.length;d++){var g=a[d];!this.fh(g)||(g instanceof Annotations.Ta||(this.Tf.Ck(g),c[g.Ib()]=g.Ib(),b.push(g)))}var f=this;$.each(c,function(a){f.bc(a)})}0<b.length&&this.trigger("annotationSelected",[b,"selected"])},ae:function(){if(0!==this.rf().length){this.Tf.ae();
for(var a=this.o.W.Nd(),b=0;b<a.length;b++)this.bc(a[b]+1);this.trigger("annotationSelected",[null,"deselected"])}},Ll:function(a){this.Tf.Ll(a);this.bc(a.Ib());this.trigger("annotationSelected",[[a],"deselected"])},rf:function(){return this.Tf.rf()},Xg:function(){return this.Hb},Yj:function(a,b){b=b||this.Hb;if(_.isUndefined(a)||_.isNull(a))return null;for(var c=0;c<b.length;c++)if(b[c].Id===a)return b[c];return null},Hy:function(a,b){if(_.isUndefined(a)||_.isNull(a))return[];for(var c=[],d=0;d<
this.Hb.length;d++)this.Hb[d].Id===a&&c.push(this.Hb[d]);return _.isUndefined(b)?c:c.filter(function(a){return a.PageNumber-1===b})},ht:function(a){a=this.Iy(a);return 0<a.length?a[0]:null},Iy:function(a){var b=new window.Ca.Tool(this.o);b.mouseLeftDown(a);a=b.pageCoordinates[0];b=[];if(null!==a)for(var c=this.Xg(),d=c.length-1;0<=d;d--){var g=c[d];if(g.selectionModel&&(!g.Fe()&&(!g.Hidden&&g.Ib()-1===a.pageIndex))){var f=this.o.lb(g.Va()),e=this.lk(g),s=new g.selectionModel(g,this.qc(g),e);s.testSelection(g,
a.x,a.y,f)?b.push(g):e&&(s.rq(g,f,a.x,a.y)&&b.push(g))}}return b},Oy:function(a,b){return this.Tf.Oy(a,b)},tq:function(a){return this.Bw.Ft(a)&&this.jB()?(this.$b.lm(a),!1):this.$b.tq(a)},OE:function(a){return this.Yh.xC(a)},ft:function(){return this.Yh.ft()},pz:function(a){return"string"===typeof a?(new DOMParser).parseFromString(a,"text/xml"):a},cG:function(a){a=this.pz(a);a=this.Yh.MB(a);this.Su(a);return a},Ht:function(a,b){b=b||function(){};var c=this,d=this.pz(a);this.Yh.NB(d,function(a){c.Ho?
b([]):(a=a.ds,c.Su(a),c.o.ek().je("DocumentViewer.renderRequest",{type:"annotations",pages:_.uniq(a.map(function(a){return a.Ib()-1}))}),b(a))})},Gt:function(a){a=(new DOMParser).parseFromString(a,"text/xml");a=this.Yh.Gt(a);var b=[];a.mo&&(b=b.concat(a.mo),0<a.mo.length&&this.wI(a.mo[0]));a.fy&&(b=b.concat(a.fy));a.Yt&&(b=b.concat(a.Yt));return b},Ko:function(a){a=_.uniq(a.map(function(a){return a.PageNumber}));for(var b=0;b<a.length;b++)this.bc(a[b],void 0,!0)},yB:function(){this.Ho=!0;this.off();
this.o.off("contentRemoved.annotManager");this.Xg().forEach(function(a){a.off();var b=$(a),c=b.data("popup");c&&$(c.el).remove();b.removeData("popup");a.Nc&&a.Nc.off();a.innerElement&&a.innerElement.off();a.element&&a.element.off()});this.ye.Ic()},vH:function(a,b){if("string"!==typeof a||!b)return!1;"undefined"===typeof this.Qg[a]&&(this.Qg[a]=[]);this.Qg[a].push(b);return!0},xE:function(a,b){if("string"!==typeof a||!b)return!1;this.Qg[a]=$.grep(this.Qg[a],function(a){return a!==b});return!0},FF:function(){return this.Qg},
EF:function(a){if(!a||!a.elementName)return null;var b=this.Qg[a.elementName];if(b&&0<b.length)for(var c=0;c<b.length;c++){var d=b[c];if(a instanceof d)return d}return null}};$.extend(g.ea.prototype,a.utils.eventHandler);c.prototype={Ck:function(a){this.Hx(a)||this.Ki.push(a)},Ll:function(a){this.Ki=$.grep(this.Ki,function(b){return b!==a})},ae:function(){this.Ki=[]},Hx:function(a){for(var b=0;b<this.Ki.length;b++)if(a===this.Ki[b])return!0;return!1},rf:function(){return this.Ki.slice()}};b.prototype=
{disable:function(){this.ya.off("annotationChanged.editbox");this.ya.off("annotationDoubleClicked.editbox")},Ft:function(a){return a instanceof Annotations.Ja},fG:function(a){var b=this.ya;a.Nc=$('<textarea class="freetext">');a.Nc.on("blur",function(){b.Ku(a,a.Nc.val());a.Nc.hide();b.Ko([a])});a.Nc.on("mousedown",function(a){a.stopPropagation()})},Cy:function(b){this.qz=!0;a.k.Wa.Dt(b.Va()).append(b.Nc);var c=parseFloat(b.FontSize)||12,d=b.nt(),g=this.ya.o.lb(b.Va())/a.utils.getCanvasMultiplier(),
c=c*g*0.75+d,d=b.et()*g,f=b.getPath().slice(3,5),e=f[0].x*g,q=Math.min(f[0].y,f[1].y)*g,s=Math.abs(f[1].x-f[0].x)*g,f=Math.abs(f[1].y-f[0].y)*g,u=360-b.Rotation;if(90===u||270===u)var v=s,s=f,f=v;var w=v=0;switch((360-u)%360){case 90:w=s;break;case 180:v=s;w=f;break;case 270:v=f}v="translate("+v+"px,"+w+"px) rotate("+u+"deg)";u=Math.abs(u%360/90);u===a.k.sa.we?(e+=d,q+=d):u===a.k.sa.$c?(e-=d,q+=d):u===a.k.sa.ki?(e-=d,q-=d):u===a.k.sa.Jd&&(e+=d,q-=d);u=1>b.FillColor.A?new Annotations.Color(255,255,
255):b.FillColor;b.Nc.css({top:q,left:e,width:s-2*d,height:f-2*d,font:c+" "+b.Font,color:b.TextColor.toString(),background:u.toString(),transform:v,"transform-origin":"top left","line-height":a.utils.ie?1:"normal","padding-top":a.utils.ie?Math.max(1,1+1.5*(g-1)):0});b.Nc.val(b.Zg()||"");this.AI(b)},AI:function(a){a.Nc.show().focus()}};f.prototype={hide:function(){this.el&&($(this.el).hide(),this.Bj=!1,this.jb.IsAdded||(this.jb.IsModified=!0))},show:function(){this.el&&($(this.el).show(),this.Bj=!0,
this.jb.IsAdded||(this.jb.IsModified=!0))},update:function(b,c){var d=this.el.getBoundingClientRect(),g=$(this.el).position(),d={x:g.left+d.width/2,y:g.top+d.height/2},g=this.jb.Va(),f=c.lb(g),d=a.Fa.ra.KH(d,1/f,1/f),f=c.zc(g+1),e=c.getDocument().Jc(g),q=e.width,e=e.height;1===f?d=a.Fa.ra.$u(d,-e,0):2===f?d=a.Fa.ra.$u(d,-q,-e):3===f&&(d=a.Fa.ra.$u(d,0,-q));d=a.Fa.ra.rh(d,-1*f*Math.PI/2);g=this.jb.NoZoom?c.lb(g):1;f=new Annotations.na(this.jb.ah(),this.jb.eh(),this.jb.ah()+this.jb.wa()/g,this.jb.eh()+
this.jb.va()/g);(new this.jb.selectionModel(this.jb)).drawPopupTail(b,this.jb,g,f,d)},uw:function(){var a=$('<div class="popup-header"/>').append('<div class="popup-subject">'+this.jb.Subject+"</div>"),b=$('<div class="popup-comment-container">').append(this.tw(this.jb)),a=$('<div class="popup" style="width:200px;height:100px;padding-bottom:8px" />').append('<div class="popup-minimize-button ui-icon ui-icon-minus"/>').append('<div class="popup-handle"/>').append(a).append(b);this.el=a.get(0);return a},
tw:function(a,b){b=b||0;var c=$('<textarea class="popup-comment" />').val(a.Zg());c.data("id",a.Id);var d=$("<div>").addClass("replyButton glyphicons unshare"),g=Annotations.da.toDateString(a.DateCreated);a.Author&&(g=a.Author+": "+g);g=$("<div>").addClass("popup-text").text(g);c=$("<div>").css("padding-left",b).append(d).append(g).append(c);0!==b&&(d=$("<div>").addClass("deleteButton glyphicons circle_remove"),c.prepend(d));return c}};d.prototype={set:function(b,c){var d=0,g=0,f=0,g=Math.abs(b.x1-
b.x2),e=Math.abs(b.y1-b.y2);c.x>=b.x1+0.5*g&&c.y<b.y1+0.5*e?d={x:b.x1+g,y:b.y1}:c.x<b.x1+0.5*g&&c.y<b.y1+0.5*e?d={x:b.x1,y:b.y1}:c.x<b.x1+0.5*g&&c.y>=b.y1+0.5*e?d={x:b.x1,y:b.y1+e}:c.x>=b.x1+0.5*g&&(c.y>=b.y1+0.5*e&&(d={x:b.x1+g,y:b.y1+e}));e=a.Fa.ra.So(d,c);f=a.Fa.ra.qt(d,c);g={x:d.x+f,y:d.y-5};f={x:d.x+f,y:d.y+5};g=a.Fa.ra.rh(g,e,d);f=a.Fa.ra.rh(f,e,d);this.Am=d;this.Bm=g;this.Cm=f},draw:function(a){a.strokeStyle="rgba(0,0,0,0.8)";a.beginPath();a.moveTo(this.Am.x,this.Am.y);a.lineTo(this.Bm.x,this.Bm.y);
a.lineTo(this.Cm.x,this.Cm.y);a.closePath();a.stroke();a.fillStyle="rgba(255, 255, 0, 0.7)";a.beginPath();a.moveTo(this.Am.x,this.Am.y);a.lineTo(this.Bm.x,this.Bm.y);a.lineTo(this.Cm.x,this.Cm.y);a.closePath();a.fill()}};e.prototype={Vd:function(a){return $(a).data("popup")},Rr:function(a,b){this.ya.trigger("setNoteText",[a,b]);if(this.ya.uh()){var c=this.Kw(a,b).children(".popup-comment");c.val(a.Zg());c.trigger("updateHeight")}},Kw:function(a,b){var c=this.Vd(b||a),d=null;$(c.el).find(".popup-comment").each(function(){var b=
$(this);if(b.data("id")===a.Id)return d=b.parent(),!1});return d},ox:function(a,b){var c=this,d=c.ya.qc(b);a.prop("readonly",!d).off("keyup").on("keyup",function(a){b.Ni(a.target.value);b instanceof Annotations.Ja&&c.ya.Bc(b);c.ya.trigger("annotationChanged",[[b],"modify"])});var g=a.parent().find(".replyButton"),f=a.parent().find(".deleteButton");d||f.remove();c.ya.wt()?g.remove():(g.off("click").on("click",function(){c.ya.Wx(b)}),f.off("click").on("click",function(){c.ya.hi(b)}))},OC:function(a){var b=
this;a&&(!a.el&&a.uw());var c=$(a.el),d=a.jb;c.find(".popup-minimize-button").click(function(){b.tq(a.jb)});var g=c.find(".popup-comment");this.ox(g,d);g=a.jb.PageNumber-1;"undefined"!==typeof c.draggable&&(null!==c.draggable&&c.draggable({containment:$("#pageContainer"+g),cancel:".popup-comment-container",drag:function(){d.IsAdded||(d.IsModified=!0);b.ya.bc(d.Ib())},stop:function(){var g=d.qf(),f=b.o.lb(d.Va());g.X=parseFloat(c.css("left"))/f;g.Y=parseFloat(c.css("top"))/f;g.Width=parseFloat(c.css("width"));
g.Height=parseFloat(c.css("height"));b.ya.trigger("annotationChanged",[[a.jb],"modify"])}}));if("undefined"!==typeof c.resizable&&null!==c.resizable){var f=c.find(".popup-comment-container");c.resizable({minWidth:80,minHeight:80,alsoResize:f,resize:function(){d.IsAdded||(d.IsModified=!0);b.ya.bc(d.Ib());var a=c.find(".popup-comment");if(1===a.length){var g=c.find(".popup-text").height();a.css({"min-height":f.height()-g-7})}},stop:function(){var g=d.qf(),f=b.o.lb(d.Va);g.X=parseFloat(c.css("left"))/
f;g.Y=parseFloat(c.css("top"))/f;g.Width=parseFloat(c.css("width"));g.Height=parseFloat(c.css("height"));b.ya.trigger("annotationChanged",[[a.jb],"modify"]);c.find(".popup-comment").trigger("updateHeight")}})}c.on("mousedown",function(a){a.stopPropagation()})},createPopup:function(b){if(b.gh){var c=this.Vd(b);c||(c=new f(b),$(b).data("popup",c));var d=this.o.lb(b.Va());c.rd=d;c.Sf=this.o.zc(b.PageNumber);var g=!1,e=b.qf(),r;if(null===c.el){g=!0;r=c.uw();this.OC(c);var q=$("#pageContainer"+b.Va());
if(!e){e=new Annotations.Fg;b.Mu(e);var s=this.Uz({x:b.ri(),y:b.si()},c.rd,c.Sf,b.Va());e.X=a.Fa.ra.Ao(s.left-150,0)/d;e.Y=a.Fa.ra.Ao(s.top-150,0,q.innerHeight()-r.outerHeight())/d;e.Width=parseFloat(r.css("width"));e.Height=parseFloat(r.css("height"));(b instanceof Annotations.Hf||b instanceof Annotations.Hh)&&e.Gk(!0)}r.appendTo(q)}else r=$(c.el);r.css({position:"absolute",left:e.X*d,top:e.Y*d,width:e.Width,height:e.Height});d=r.find(".popup-comment");q=d.first();q.val(b.Zg());0<e.Width&&(0<e.Height&&
(s=r.find(".popup-comment-container"),s.css({height:e.Height-34,width:""}),0===b.fm().length&&(e=r.find(".popup-text").height(),q.css({"min-height":s.height()-e-7}))));g&&this.ya.trigger("annotationPopupCreated",[b,r,q]);d.trigger("updateHeight");this.ya.o.Pl||c.hide();return c}},tq:function(a){if(!a.gh)return!1;var b=!1,c=this.Vd(a);if(!c)return b;if(!this.ya.o.Pl)return c.hide(),b;c.Bj?c.hide():(c.show(),b=!0);a.IsModified=!0;a.qf().Gk(b);this.ya.trigger("annotationPopupStateChanged",[a,$(c.el),
b]);this.ya.trigger("annotationChanged",[[a],"modify"]);this.ya.bc(a.Ib());return b},lm:function(a){if(a.gh){var b=this.Vd(a);b&&b.hide();var c=a.qf();c&&c.Gk(!1);b&&this.ya.trigger("annotationPopupStateChanged",[a,$(b.el),!1])}},BI:function(a){if(a.gh){var b=this.Vd(a);b&&b.show();a.qf().Gk(!0);this.ya.trigger("annotationPopupStateChanged",[a,$(b.el),!0])}},vE:function(a){if(a.gh){var b=this.Vd(a);if(b){var b=$(b.el),c=b.find(".popup-comment-container .popup-comment");this.ya.trigger("annotationPopupDeleted",
[a,b,c]);b.remove()}}},eJ:function(a,b){var c;if(this.ya.uh())for(var d=0;d<a.length;d++)if(a[d].gh&&(c=this.Vd(a[d]),c.Bj)){if(!$(c.el).closest("html").length){var g=a[d].Va(),f=$("#pageContainer"+g),e=$(c.el);e.draggable({containment:f});var s={left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))},s=this.nE(s,c.rd,c.Sf,g);c.rd=this.o.lb(g);c.Sf=this.o.zc(g+1);g=this.Uz(s,c.rd,c.Sf,g);e.css({left:g.left,top:g.top});e.appendTo(f)}c.update(b,this.o)}},$h:function(a,b,c){this.ya.trigger("addReply",
[a,b,c]);if(this.ya.uh()){var d=this.Vd(c),g=$(d.el);g.find(".popup-comment-container").find(".popup-comment").css("min-height","");b=this.Kw(b,c);d=d.tw(a,10);b.append(d);d=d.find(".popup-comment");this.ox(d,a);this.lm(a);a.IsModified=!1;this.ya.trigger("annotationPopupCreated",[a,g,d])}},Ks:function(a){if(a.gh){var b=this.ya.gm(a);this.ya.trigger("deleteReply",[a,b]);if(this.ya.uh()){var c=this,b=this.Vd(b),d=$(b.el);d.find(".popup-comment").each(function(){var b=$(this);if(b.data("id")===a.Id)return c.ya.trigger("annotationPopupDeleted",
[a,d,b.parent().find(".popup-comment")]),b.removeData("id"),b.parent().remove(),!1})}}},nE:function(b,c,d,g){var f=this.o.Sb(g);g=this.o.Rb(g);var e=b.left/c;b=b.top/c;var q,s;switch(d){case a.k.sa.we:q=e;s=b;break;case a.k.sa.$c:q=b;s=g-e;break;case a.k.sa.ki:q=f-e;s=g-b;break;case a.k.sa.Jd:q=f-b,s=e}return{x:q,y:s}},Uz:function(b,c,d,g){var f=this.o.Sb(g)*c;g=this.o.Rb(g)*c;b.x*=c;b.y*=c;var e,q;switch(d){case a.k.sa.we:e=b.x;q=b.y;break;case a.k.sa.$c:e=g-b.y;q=b.x;break;case a.k.sa.ki:e=f-b.x;
q=g-b.y;break;case a.k.sa.Jd:e=b.y,q=f-b.x}return{left:e,top:q}}}})(window);
(function(a){var e={iL:function(a,f){return{x:a,y:f}},Mz:function(a,f,b,c){return null===a||(null===f||(null===b||null===c))?null:{x1:a,y1:f,x2:a+b,y2:f+c}},AL:function(a,f){if(!f||!a)return!1;var b=!1,c=!1;"undefined"!==typeof f.x1&&("undefined"!==typeof f.y1&&("undefined"!==typeof f.x2&&"undefined"!==typeof f.y2))||console.warn("rect points are undefined");b=a.x>=f.x1&&a.x<=f.x2;c=a.y>=f.y1&&a.y<=f.y2;return b&&c},sH:function(a,f){return a&&f?a.x1<=f.x2&&(a.x2>=f.x1&&(a.y1<=f.y2&&a.y2>=f.y1))?!0:
!1:!1},tL:function(d,f,b,c,g,e){var n=e.o.u.Sb(g),m=e.o.u.Rb(g);f=a.Fa.aH(d,f,b,c,e.o.mf(g));d={x:Math.max(f.x,0),y:Math.max(f.y,0)};m={x:Math.min(f.x+f.w,n),y:Math.min(f.y+f.ee,m)};n=e.o.W.ed(d,g);m=e.o.W.ed(m,g);d=e.o.cm(g);"undefined"!==typeof d.fc&&null!==d.fc?(n.x-=d.fc,n.y-=d.jd,m.x-=d.fc,m.y-=d.jd):(g=e.o.W.dk(g),n.x-=g.x,n.y-=g.y,m.x-=g.x,m.y-=g.y);return{x:Math.floor(Math.min(n.x,m.x)),y:Math.floor(Math.min(n.y,m.y)),w:Math.floor(Math.abs(m.x-n.x)),ee:Math.floor(Math.abs(m.y-n.y))}},VL:function(a,
f,b,c,g,e){var n=e.o.u.Sb(g),m=e.o.u.Rb(g);a={x:Math.max(a,0),y:Math.max(f,0)};c={x:Math.min(b,n),y:Math.min(c,m)};b=e.o.W.ed(a,g);c=e.o.W.ed(c,g);n=e.o.cm(g);"undefined"!==typeof n.fc&&null!==n.fc?(b.x-=n.fc,b.y-=n.jd,c.x-=n.fc,c.y-=n.jd):(g=e.o.W.dk(g),b.x-=g.x,b.y-=g.y,c.x-=g.x,c.y-=g.y);return{x:Math.floor(Math.min(b.x,c.x)),y:Math.floor(Math.min(b.y,c.y)),w:Math.floor(Math.abs(c.x-b.x)),ee:Math.floor(Math.abs(c.y-b.y))}},aH:function(a,f,b,c,g){a=g.O(new XODText.hc(a,f));f=g.O(new XODText.hc(b,
c));b=Math.abs(a.x-f.x);c=Math.abs(a.y-f.y);g=Math.min(a.x,f.x);a=Math.min(a.y,f.y);return{x:g,y:a,w:b,ee:c}},uL:function(a,f,b,c,g){var h=Math.abs(a-b),n=Math.abs(f-c);a=Math.min(a,b);f=Math.max(f,c);return e.SI(a,f,h,n,g)},SI:function(a,f,b,c,g){var e=96/72;return{x:e*a,y:g-e*f,w:e*b,ee:e*c}},WL:function(a,f,b,c,g){c=new XODText.hc(a,f+c);a=new XODText.hc(a+b,f);g=g.inverse();c=g.O(c);g=g.O(a);return{x1:c.x,y1:c.y,x2:g.x,y2:g.y}},XL:function(a,f,b,c,g){return e.RI(0.75*a,0.75*(g-f),0.75*b,0.75*
c)},RI:function(a,f,b,c){return{x1:a,y1:f-c,x2:a+b,y2:f}},ra:{xG:function(a,f,b,c){function g(a,b,c){return(c.y-a.y)*(b.x-a.x)>(b.y-a.y)*(c.x-a.x)}return g(a,b,c)!==g(f,b,c)&&g(a,f,b)!==g(a,f,c)},So:function(a,f){var b=Math.atan(Math.abs(a.y-f.y)/Math.abs(a.x-f.x));f.x<a.x&&f.y>a.y?b=Math.PI-b:f.x<=a.x&&f.y<a.y?(b=Math.PI-b,b*=-1):f.x>=a.x&&(f.y<a.y&&(b*=-1));return b},qt:function(a,f){return Math.sqrt(Math.pow(a.x-f.x,2)+Math.pow(a.y-f.y,2))},rh:function(a,f,b){b=b||{x:0,y:0};var c=a.x-b.x;a=a.y-
b.y;return{x:Math.cos(f)*c-Math.sin(f)*a+b.x,y:Math.sin(f)*c+Math.cos(f)*a+b.y}},$u:function(a,f,b){return{x:a.x+(f||0),y:a.y+(b||0)}},KH:function(a,f,b){return{x:a.x*(f||0),y:a.y*(b||0)}},Ao:function(a,f,b){b=void 0!==b?b:Infinity;f=void 0!==f?f:-Infinity;return Math.max(Math.min(a,b),f)},Rs:function(a,f,b){return Math.abs(a-f)<(b||0.01)},ZE:function(a,f){return Math.atan2(f,a)},DF:function(a){if(!(3>a.length)){for(var f=a[0],b=0,c=1;c<a.length;c++)var g=a[c],b=b+(g.x-f.x)*(g.y+f.y),f=g;return 0<=
b?1:-1}},eE:function(a){for(var f=[],b=0;b<a.length;b++)f.push({x:a[b].x,y:a[b].y});return f},ou:function(a){var f=Math.abs(a[a.length-1].y-a[0].y);return 1.2358E-4<Math.abs(a[a.length-1].x-a[0].x)&&1.2358E-4<f?!0:!1},Ji:function(a){var f=Math.cos(a);a=Math.sin(a);return{m_a:f,m_b:-a,m_c:a,m_d:f,m_h:0,m_v:0}},translate:function(a,f,b){a.m_h+=f;a.m_v+=b;return a},O:function(a,f,b){return{x:f*a.m_a+b*a.m_c+a.m_h,y:f*a.m_b+b*a.m_d+a.m_v}},LD:function(a,f,b,c,g,e,n,m,l,p,r){0>g&&(g=-g);0>e&&(e=-e);var q=
(a-p)/2,s=(f-r)/2,u=Math.cos(n),v=Math.sin(n),w=u*q+v*s,q=-v*q+u*s,s=g*g,x=e*e,A=w*w,B=q*q,y=A/s+B/x;1<y&&(g*=Math.sqrt(y),e*=Math.sqrt(y),s=g*g,x=e*e);if(y=s*B+x*A){s=(s*x-s*B-x*A)/y;m=(m===l?-1:1)*Math.sqrt(0>s?0:s);x=g*q/e*m;A=m*-(e*w/g);m=(a+p)/2+(u*x-v*A);u=(f+r)/2+(v*x+u*A);v=(w-x)/g;s=(q-A)/e;x=(-w-x)/g;A=(-q-A)/e;B=Math.sqrt(v*v+s*s);w=(0>s?-1:1)*Math.acos(v/B);B=Math.sqrt((v*v+s*s)*(x*x+A*A));q=0>v*A-s*x?-1:1;v=Math.max(Math.min((v*x+s*A)/B,1),-1);s=q*Math.acos(v);!l&&0<s?s-=2*Math.PI:l&&
(0>s&&(s+=2*Math.PI));l=0;q=[];v=!1;if(1E-9>Math.abs(s))l=4,v=!0,q[0]=g*Math.cos(w),q[1]=e*Math.sin(w),q[2]=g*Math.cos(w+s),q[3]=e*Math.sin(w+s);else{A=x=0;l=2;B=!1;do{0>s?(y=x,A=0.5*-Math.PI,x-=0.5*Math.PI,x<=s+0.01&&(A=s-y,B=!0)):(y=x,A=0.5*Math.PI,x+=0.5*Math.PI,x>=s-0.01&&(A=s-y,B=!0));var z=Math.cos(A/2),I=Math.sin(A/2),D=4*(1-z)/3,F=I-D*z/I,y=[],H=[];y[0]=z;H[0]=-I;y[1]=z+D;H[1]=-F;y[2]=z+D;H[2]=F;y[3]=z;H[3]=I;z=Math.sin(w+A/2);I=Math.cos(w+A/2);for(D=0;4>D;D++)q[l-2+2*D]=g*(y[D]*I-H[D]*z),
q[l-1+2*D]=e*(y[D]*z+H[D]*I);l+=6;w+=A}while(!B&&26>l)}g=this.Ji(-n);this.translate(g,m,u);for(e=2;e<l-2;e+=2)n=void 0===q[e]?this.O(g,0,0):this.O(g,q[e],q[e+1]),q[e]=n.x,q[e+1]=n.y;q[0]=a;q[1]=f;2<l&&(q[l-2]=p,q[l-1]=r);if(v)c.push("l"),c.push("l"),b.push(q[0]),b.push(q[1]),b.push(q[2]),b.push(q[3]);else for(c.push("l"),b.push(q[0]),b.push(q[1]),a=2;a<l;a+=6)c.push("c"),b.push(q[a]),b.push(q[a+1]),b.push(q[a+2]),b.push(q[a+3]),b.push(q[a+4]),b.push(q[a+5])}},mE:function(a,f){return a.x*f.y-a.y*f.x},
mL:function(a){return 1E4*(a+2*Math.PI)%2*Math.PI*1E4/1E4}}};a.Fa=e})(window);
(function(a){function e(a){if(!a)throw Error("XfdfManager requires AnnotationManager to initialize");this.Gb=a}function d(a,c){this.ev=a;this.Mo=c||function(){return!0}}String.prototype.trim||function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}}();d.prototype.Np=function(a,c,d){a=this.ev;a.writeStartElement("field");a.writeAttributeString("name",c);c=d.value;_.isNull(c)||(a.writeStartElement("value"),a.writeString(f.escape(c)),a.writeEndElement());
a.writeEndElement()};d.prototype.fu=function(a,c,d){a=this.ev;d.value&&(a.writeStartElement("field"),a.writeAttributeString("name",c),a.writeStartElement("value"),a.writeString(f.escape(d.value)),a.writeEndElement(),a.writeEndElement());a.writeStartElement("field");a.writeAttributeString("name",c)};d.prototype.Sz=function(){this.ev.writeEndElement()};e.prototype={Kx:function(a){return a&&0<a.getElementsByTagName("annots").length?(f.Sy(a,"link"),f.Sy(a,"widget"),a.getElementsByTagName("annots")[0].childNodes):
[]},Wy:function(a){return a&&(a=$(a).find("xfdf > fields"),0<a.length)?a[0]:null},Vy:function(a){return a?$(a).find("CO > fieldRef"):[]},bz:function(a){return a?(a=$(a).find("pdf-info"),0<a.length?a.get(0):null):null},Ax:function(b,c,d){var f=this;a.Ve.parse(new a.oe(b),function(a){return f.Gb.o.mf(a-1)},function(a){var b=f.Gb,d=b.ye,g=b.o;if(g.getDocument()){d.Du(a.calculationOrder);var e=a.fields;Object.keys(e).forEach(function(a){var b=e[a],c=d.cp(b.name);b.xd(c.Ma());d.bs(e[a],!0)});b.Lj(a.widgets,
!0);g=g.getDocument();g.ko(a.documentActions);for(var b=a.pages,g=g.qb(),q=0;q<b.length;++q){var s=b[q],u=Number(s.number);0<u&&u<g.length+1?g[u-1].ko(s.actions):console.warn("Invalid page number on PDFInfo page:",u)}c(a)}},d)},MB:function(b){function c(){var a=d.bz(b);a?d.Ax(a,function(a){l=a.widgets},!0):d.Gb.ye.Du(d.Pp(m))}var d=this,f=this.Kx(b),e=this.Wy(b),m=this.Vy(b);e&&this.zx(new a.oe(e),c,!0);var l=[];return null!==f?l.concat(this.Dq(f,!0)):l},NB:function(b,c){function d(){var a=f.bz(b);
a?f.Ax(a,function(a){f.xx(e,function(b){b.ds=b.ds.concat(a.widgets);c(b)})}):(f.Gb.ye.Du(f.Pp(l)),f.xx(e,function(){c.apply(this,arguments)}))}var f=this,e=this.Kx(b),m=this.Wy(b),l=this.Vy(b);m?this.zx(new a.oe(m),d,!1):d()},Gt:function(a){var c={};if(a){var d=a.getElementsByTagName("add"),f=a.getElementsByTagName("modify");a=a.getElementsByTagName("delete");0<d.length&&(c.mo=this.Dq(d[0].childNodes,!0));0<a.length&&(c.fy=this.xB(a[0]));0<f.length&&(c.Yt=this.SB(f[0].childNodes))}return c},xB:function(a){var c=
[];a=a.getElementsByTagName("id");for(var d=0;d<a.length;++d){var f=this.Gb.Yj($(a[d]).text());f&&(c.push(f),this.Gb.hi(f,!0))}return c},SB:function(a){return this.Dq(a,!0)},Dq:function(a,c){var d=[];this.wx(a,d,0,a.length,c);return d},Pg:function(a,c,d,f){var e=this.Gb,m=null,l=!1,p=e.Qg[a];if(p)for(var r=$(c).attr("page"),r=parseInt(r,10),r=e.o.mf(r),q=0;q<p.length;q++){if(p[q].prototype.Vf(c)){m=null;if(d){d=$(c).attr("name");var s=parseInt($(c).attr("page"),10),m=this.Gb.Hy(d,s)[0];if(!m&&this.Gb.Hy(d,
s,f)[0])break}if(!m){var u;"widget"===a&&(a=$(c).attr("title"),u=e.ye.cp(a));m=new p[q](u);l=!0}try{m.isImporting=!0,m.deserialize(c,r),m.isImporting=!1}catch(v){console.warn("Error parsing annotation");l=!1;m=null;break}l||e.ZI(m,!0);m.IsAdded=!1;m.IsModified=!1;break}}else console.warn("Unsupported annotation type.",a);return{Fl:m,yI:l}},wx:function(a,c,d,e,n){for(var m=[];d<e;++d)if(a[d].nodeType===Node.ELEMENT_NODE){var l=this.Pg(f.pt(a[d]),a[d],n,c),p=l.Fl;p&&(c.push(p),l.yI&&m.push(p))}0<m.length&&
(this.Gb.Lj(m,!0),m.forEach(function(a){a.IsAdded=!1;a.IsModified=!1}))},zx:function(b,c,d){function f(a){var c=b.v("name");if(!c)return console.warn("Invalid field name part:",c,b.current),null;a=a?a+"."+c:c;var c={name:a},d=[c],g=null;for(b.ha();b.advance();){var e=b.ja();switch(e){case "value":_.isNull(g)?g=b.bd():(_.isArray(g)||(g=[g]),g.push(b.bd()));break;case "field":e=f(a);0<e.length&&(d=d.concat(e));break;default:console.warn("unknown field child node: ",e)}}b.pa();_.isNull(g)||(c.value=
g);return d}var e=this.Gb.ye;b.ha();b.advance()?a.busyLoop(function(){"field"===b.ja()&&f("").forEach(function(a){e.bs(a,!0)});var a=b.advance();a||b.pa();return a},c,d):c()},Pp:function(a){var c=[];$(a).each(function(a,b){c.push($(b).text().trim())});return c},xx:function(a,c){function d(){f.wx(a,l,e,Math.min(e+m,a.length),!0);setTimeout(function(){e+=m;e<a.length?d():c({ds:l})},0)}var f=this,e=0,m=50,l=[];d()},tn:function(a,c,d){var f=this.Gb.o.mf(a.Ib()-1).inverse(),e=document.createElementNS("",
a.elementName);a.serialize(e,f,d);a=(new XMLSerializer).serializeToString(e);c.writeString(a)},tC:function(b){var c=this.Gb,d=c.ni(),f=c.o,e=f.getDocument(),m=[];d.Wm({Np:function(a,b,c){void 0!==c.type&&m.push(c)},fu:function(a,b,c){void 0!==c.type&&m.push(c)}});var l=e.qb().map(function(a,b){return{number:b+1,actions:a.li()}}).filter(function(a){return 0<Object.keys(a.actions).length});a.Ve.write(b,{calculationOrder:d.xo,widgets:c.Xg().filter(function(a){return a.ih()}),fields:m,documentActions:e.li(),
pages:l},function(a){return 1>a?(console.warn("Invalid page number:",a),a=new XODText.Oa,a.pm(1,0,0,1,0,0),a):f.mf(a-1)})},xC:function(a){a=a||{};var c=new XMLWriter("UTF-8","1.0");c.formatting="none";a=a.widgets;c.writeStartDocument();c.writeStartElement("xfdf");c.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");c.writeAttributeString("xml:space","preserve");this.tC(c);this.qC(c);c.writeStartElement("annots");for(var d=this.Gb.Xg(),f=0;f<d.length;++f){var e=d[f];e instanceof Annotations.ta?
a&&this.tn(e,c,!0):this.tn(e,c,!0)}c.writeEndElement();c.writeEndElement();this.uC(c);return c.flush()},uC:function(a){var c=this.Gb;a.writeStartElement("pages");var d=c.o.getDocument().qb();if(d){var f=c.o.mf(0);a.writeStartElement("defmtx");var e;e=""+(f.m_a+","+f.m_b+","+f.m_c+","+f.m_d+","+f.m_h+","+f.m_v);a.writeAttributeString("matrix",e);a.writeEndElement();for(e=1;e<d.length;++e){var m=c.o.mf(e);if(!m.Rs(f)){a.writeStartElement("pgmtx");var l="",l=l+(m.m_a+","+m.m_b+","+m.m_c+","+m.m_d+","+
m.m_h+","+m.m_v);a.writeAttributeString("matrix",l);a.writeAttributeString("page",e.toString());a.writeEndElement()}}}a.writeEndElement()},oC:function(a){a.writeStartElement("add");for(var c=this.Gb.Xg(),d=0;d<c.length;++d){var f=c[d];f.IsAdded&&(this.tn(f,a),f.IsAdded=!1)}a.writeEndElement()},sC:function(a){a.writeStartElement("modify");for(var c=this.Gb,d=c.Xg(),f=0;f<d.length;++f){var e=d[f];e.IsModified&&(c.qc(e)&&(this.tn(e,a),e.IsModified=!1))}a.writeEndElement()},pC:function(a){a.writeStartElement("delete");
for(var c=this.Gb,d=this.FB(),f=0;f<d.length;++f)a.writeStartElement("id"),a.writeString(d[f]),a.writeEndElement();c.Ls.length=0;a.writeEndElement()},qC:function(a){a.writeStartElement("fields");this.Gb.ye.Wm(new d(a));a.writeEndElement()},rC:function(a){a.writeStartElement("fields");this.Gb.ye.Wm(new d(a,function(a){return a.IsModified}));a.writeEndElement()},vC:function(b){var c=new XMLWriter("UTF-8","1.0");c.writeStartDocument();c.writeStartElement("xfdf");c.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");
c.writeAttributeString("xml:space","preserve");c.writeStartElement("fields");var g=new a.Annotations.N.Xk;b.forEach(function(a){g.bs(a)});g.Wm(new d(c));c.writeEndElement();c.writeEndElement();b=c.flush();return b=b.replace(/\t/g,"")},wC:function(a){for(var c=[],d=0;d<a.length;++d){var f=a[d];_.isUndefined(f.name)||c.push(f.name+"="+encodeURIComponent(f.value))}return c.join("&")},ft:function(){var a=new XMLWriter("UTF-8","1.0");a.writeStartDocument();a.writeStartElement("xfdf");a.writeAttributeString("xmlns",
"http://ns.adobe.com/xfdf/");a.writeAttributeString("xml:space","preserve");this.rC(a);this.oC(a);this.sC(a);this.pC(a);a.writeEndElement();a=a.flush();return a=a.replace(/\t/g,"")},FB:function(){return _.map(this.Gb.Ls,function(a){return a.Id})}};a.k.HC=e;var f={Yu:function(a){var c;c="D:"+a.getFullYear().toString();c+=this.Wc((a.getMonth()+1).toString());c+=this.Wc(a.getDate().toString());c+=this.Wc(a.getHours().toString());c+=this.Wc(a.getMinutes().toString());c+=this.Wc(a.getSeconds().toString());
a=a.getTimezoneOffset();0===a?c+="Z00'00'":(0>a?(c+="+",a*=-1):c+="-",c+=this.Wc(parseInt(a/60,10).toString())+"'",c+=this.Wc((a%60).toString())+"'");return c},toDateString:function(a){return a.getFullYear().toString()+"-"+this.Wc((a.getMonth()+1).toString())+"-"+this.Wc(a.getDate().toString())+" "+this.Wc(a.getHours().toString())+":"+this.Wc(a.getMinutes().toString())+":"+this.Wc(a.getSeconds().toString())},Wc:function(a){return 2>a.length?"0"+a:a},escape:function(a){a&&(a=_.escape(a),a=a.replace(/(?:\r\n|\r|\n)/g,
"&#xA;"));return a},toFixed:function(a,c){_.isUndefined(c)&&(c=2);return parseFloat(a.toFixed(c)).toString()},getAttribute:function(a,c){return a.getAttribute(c)||a.getAttribute(c.toLowerCase())},pt:function(a){return a.localName||(a.baseName||a.nodeName)},Sy:function(a,c){var d=[],f=a.getElementsByTagName(c);if(0===f.length)return d;for(var e=0;e<f.length;++e){var m=f[e].outerHTML||f[e].xml;if(_.isUndefined(m)||0!==m.indexOf("<"+c+" "))m=(new XMLSerializer).serializeToString(f[e]);0>m.indexOf("</"+
c+">")&&("/"!==m.charAt(m.length-2)&&(m=m.slice(0,m.length-1)+"/"+m.slice(m.length-1)));d.push(m)}return d},VK:function(a){return f.getAttribute(a,"ActionType")?!0:0<a.getElementsByTagName("OnActivation").length},XE:function(a){return f.getAttribute(a,"ActionType")?[a]:a.getElementsByTagName("Action")},YE:function(a){if(!a)return null;var c=f.getAttribute(a,"ActionType");return c?c:(a=f.kt(a))?f.pt(a):null},kt:function(a){a=_.filter(a.childNodes,function(a){return 1===a.nodeType});return 0<a.length?
a[0]:null},To:function(a,c,d){c=f.getAttribute(a,c);_.isNull(c)&&(c=a.getElementsByTagName(d),c=0<c.length?c[0].textContent:null);return c},eK:function(a,c,d){d=d.O({x:_.isNull(a)?0:parseFloat(a),y:_.isNull(c)?0:parseFloat(c)});return{x:_.isNull(a)?null:d.x,y:_.isNull(c)?null:d.y}},EK:function(a,c,d){a=a.split(";");for(var f=[],e=0;e<a.length;++e){var m=a[e].split(","),m=new XODText.hc(m[0],m[1]),m=new Annotations.Point(m.x,m.y);c.O(m);"function"===typeof d&&d(m);f.push(m)}return f},fq:function(a,
c,d){if("undefined"===typeof d||null===d)d=",";if(!(a instanceof Annotations.Point))return null;a=new Annotations.Point(a.x,a.y);c&&c.O(a);return f.toFixed(a.x)+d+f.toFixed(a.y)},hy:function(a,c,d){if("undefined"===typeof d||null===d)d=",";if("string"!==typeof a)return null;a=a.split(d);d=null;2===a.length?(d=new Annotations.Point(parseFloat(a[0]),parseFloat(a[1])),c&&c.O(d)):console.warn("Invalid serialized string format.");return d},Ek:function(a,c,d,e){if("undefined"===typeof e||null===e)e=";";
if("undefined"===typeof d||null===d)d=",";for(var n="",m=0;m<a.length;m++){var l=new Annotations.Point(a[m].x,a[m].y);c&&c.O(l);n+=f.toFixed(l.x)+d;n+=f.toFixed(l.y)+e}return n.substring(0,n.length-1)},ji:function(a,c,d,f){var e=[];if("undefined"===typeof f||null===f)f=";";if("undefined"===typeof d||null===d)d=",";var m;a=a.split(f);if(f===d)for(f=0;f+1<a.length;f+=2)m=new Annotations.Point(a[f],a[f+1]),c&&c.O(m),e.push(m);else for(f=0;f<a.length;++f)m=a[f].split(d),m=new Annotations.Point(m[0],m[1]),
c&&c.O(m),e.push(m);return e},gq:function(a,c,d){if("undefined"===typeof d||null===d)d=",";var e=new Annotations.Point(a.x1,a.y1);a=new Annotations.Point(a.x2,a.y2);c.O(e);c.O(a);return f.toFixed(e.x,6)+d+f.toFixed(e.y,6)+d+f.toFixed(a.x,6)+d+f.toFixed(a.y,6)},Ns:function(a,c,d){if("undefined"===typeof d||null===d)d=",";d=a.split(d);a=new Annotations.Point(d[0],d[1]);d=new Annotations.Point(d[2],d[3]);c&&(c.O(a),c.O(d));return new Annotations.na(a.x,a.y,d.x,d.y)},Cu:function(a,c,d){var e=new XODText.Oa;
e.pm(c);e.m_d*=-1;e.m_h=0;e.m_v=0;return f.gq(a,e,d)},gy:function(a,c,d){var e=new XODText.Oa;e.pm(c);e.m_d*=-1;e.m_h=0;e.m_v=0;return f.Ns(a,e,d)},HL:function(a,c){for(var d="",e=0;e<a.length;e++){var n=a[e],n=new Annotations.Point(n.x,n.y);c.inverse().O(n);d+=f.toFixed(n.x)+",";d+=f.toFixed(n.y)+";"}return d.substring(0,d.length-1)},FK:function(a,c){var d=a.split(","),e=new Annotations.Point(d[0],d[1]),d=new Annotations.Point(d[2],d[3]);"undefined"!==typeof c&&(c.O(e),c.O(d));return new Annotations.na(e.x,
e.y,d.x,d.y)},IL:function(a,c){var d=new Annotations.Point(a.x1,a.y1),e=new Annotations.Point(a.x2,a.y2),n=c.inverse();n.O(d);n.O(e);return f.toFixed(d.x)+","+f.toFixed(d.y)+","+f.toFixed(e.x)+","+f.toFixed(e.y)},Mi:function(a){if("undefined"===typeof a||(null===a||(!(a instanceof Annotations.Color)||0===a.A)))return null;var c=a.R.toString(16).toUpperCase();2>c.length&&(c="0"+c);var d=a.G.toString(16).toUpperCase();2>d.length&&(d="0"+d);a=a.B.toString(16).toUpperCase();2>a.length&&(a="0"+a);return"#"+
c+d+a},ii:function(a){return RegExp(/^#[0-9a-f]{6}$/i).test(a)?new Annotations.Color(parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)):null},Ms:function(a){if(a)return new Date(parseInt(a.substring(2,6),10),parseInt(a.substring(6,8),10)-1,parseInt(a.substring(8,10),10),parseInt(a.substring(10,12),10),parseInt(a.substring(12,14),10),parseInt(a.substring(14,16),10),0)},Ly:function(a,c,d){a="#"+f.Wc(a.toString(16));a+=f.Wc(c.toString(16));return a+=f.Wc(d.toString(16))},
SH:function(a,c){return"/"+a+" "+c+" Tf"},RH:function(b,c){var d=b.mt();return"font: "+b.Font+" "+a.Annotations.Jf.Mj(c,d)+"pt; text-align: "+b.TextAlign+"; color: "+f.Mi(b.TextColor)},QH:function(b,c){var d=b.mt();return"font-family: "+b.Font+"; font-size: "+a.Annotations.Jf.Mj(c,d)+"pt; text-align: "+b.TextAlign+"; color: "+f.Mi(b.TextColor)},sE:["Tf","rg"],Xz:function(a){var c=f.To(a,"defaultappearance","defaultappearance");a={Qd:c};if(!_.isNull(c))for(c=c.split(" ");0<c.length;){var d=c.pop();
if(-1!==f.sE.indexOf(d))switch(d){case "Tf":var d=c.pop(),e=c.pop().slice(1);a.font={size:d+"pt",name:f.Em(e),DL:e};break;case "rg":var d=parseInt(255*c.pop(),10),e=parseInt(255*c.pop(),10),n=parseInt(255*c.pop(),10);a.color=f.Ly(n,e,d)}}return a},uK:function(a){if(4===a.length)return{r:parseInt(a.charAt(1),16)/16,g:parseInt(a.charAt(2),16)/16,b:parseInt(a.charAt(3),16)/16};if(7===a.length)return{r:parseInt(a.slice(1,3),16)/255,g:parseInt(a.slice(3,5),16)/255,b:parseInt(a.slice(5,7),16)/255}},VG:function(a){a=
f.To(a,"defaultstyle","defaultstyle");var c={};_.isNull(a)||a.split(";").forEach(function(a){var b=a.split(":");if(!(2>b.length))switch(a=b[0].trim(),b=b[1].trim(),a){case "text-align":c.textAlign=b;break;case "color":S(b,"rgb")?(a=/rgb\((\d{1,3}), (\d{1,3}), (\d{1,3})\)/.exec(b),null!==a&&(c.color=f.Ly(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)))):c.color=b;break;case "font":a=b.split(" "),b=a[1],c.font={name:f.Em(a[0]),size:b}}});return c},Em:function(a){function c(c,d){var g=a;0===g.indexOf(c)&&
(g=d);return g}var d=0<a.indexOf("Bold"),e=0<a.indexOf("Italic")||0<a.indexOf("Oblique");a=c("Arial","Arial");a=c("Courier","Courier");a=c("Helv","Arial");a=c("Times","Times New Roman");d?a=a+" Bold,"+a:e&&(a=a+" Italic,"+a);return a}};a.Annotations.da=f})(window);
(function(a){a.k=a.k||{};var e=a.k;e.br=function(a){this.u=a;this.J=[];this.mh={};this.mp=e.sa.we;this.sf=1;if(a){this.jA();this.kA();var f=this;a.on("pagesDiff",function(a,c){f.trigger("pageDiff",[c]);f.trigger("pageContentChanged",[c.filter(function(a){return a.after.contentChanged}).map(function(a){return a.after.pageNum})])});a.on("pagesUpdated",function(a,c){function d(a){var b={};Object.keys(a).forEach(function(c){b[c]=a[c].fb});return b}var e=d(f.mh);f.jA();f.kA();e=f.SD(e,d(f.mh));e.contentChanged=
c.filter(function(a){return a.contentChanged}).map(function(a){return a.pageNum});f.trigger("layoutChanged",[e])})}};e.br.prototype=$.extend({kK:function(){return this.J.length},SD:function(a,e){var b={added:[],removed:[],moved:{}},c={};Object.keys(a).forEach(function(b){c[b]=c[b]||{};c[b].before=a[b]});Object.keys(e).forEach(function(a){c[a]=c[a]||{};c[a].after=e[a]});Object.keys(c).forEach(function(a){a=c[a];a.before&&!a.after?b.removed.push(a.before):!a.before&&a.after?b.added.push(a.after):a.before&&
(a.after&&(a.before!==a.after&&(b.moved[a.before]=a.after)))});return b},jA:function(){var a=this.u.dm(),e={};a.forEach(function(a){e[a]=!0});var b=this.mh;Object.keys(b).forEach(function(a){a in e||delete b[a]});a.forEach(function(a){b[a]||(b[a]={rotation:null,zoom:null,fc:null,jd:null,Kk:null,Pm:null,og:null,fb:null,id:a})})},kA:function(){for(var a=this.u.numPages,e=this.u,b=[],c=0;c<a;++c){var g=this.mh[e.ep(c)];g.fb=c+1;b.push(g)}this.J=b},Hu:function(a){this.mp=a},QK:function(){return this.mp},
sh:function(a){this.sf=a;this.trigger("zoomChanged",[a])},RK:function(){return this.sf},EA:function(a,e){var b=this.J[a];if(b)b.Pm=e;else throw Error("Invalid page text selected "+a);},zs:function(){this.J.forEach(function(a){a.Pm=null})},hp:function(){return this.J.map(function(a){return a.Pm}).filter(function(a){return null!==a}).join("\n")},vd:function(a){var f=this.J[a];if(f){var b=this.u.Sb(a);a=this.u.Rb(a);var c=_.isNull(f.rotation)?this.mp:f.rotation;if(c===e.sa.$c||c===e.sa.Jd){var g=b,b=
a;a=g}return{width:b,height:a,rotation:c,zoom:_.isNull(f.zoom)?this.sf:f.zoom,fc:f.fc,jd:f.jd,Kk:f.Kk,Pm:f.Pm,og:f.og,fb:f.fb,id:f.id}}return{width:0,height:0}},Nd:function(){for(var a=[],e=this.J.length,b=0;b<e;++b)a.push(this.vd(b));return a},Lu:function(a,e){var b=this.J[a];if(b)b.zoom=e;else throw Error("Invalid page index zoomed "+a);},Qm:function(a,e){var b=this.J[a];if(b)b.rotation=e;else throw Error("Invalid page index rotated "+a);},FA:function(a,e){var b=this.J[a];if(b)b.Kk=e;else throw Error("Invalid page index set text quads "+
a);},ys:function(){this.J.forEach(function(a){a.Kk=null})},fI:function(a,e){var b=this.J[a];if(b)b.fc=e.fc,b.jd=e.jd;else throw Error("Tried to set offsets of invalid page"+a);},oF:function(){var a={};this.J.forEach(function(e,b){_.isNull(e.rotation)||(a[b]=e.rotation)});return a},bE:function(){this.J.forEach(function(a){a.rotation=null})},Ey:function(a){this.J.forEach(function(e){_.isNull(e.rotation)||a(e)})},DA:function(a,e){var b=this.J[a];if(b)b.og=e;else throw Error("Invalid page index set preview canvas "+
a);},rt:function(){var a=[];this.J.forEach(function(e,b){_.isNull(e.Kk)||a.push(b)});return a},cE:function(){this.J.forEach(function(a){a.og=null})},Cz:function(a){return!!this.mh[a]},jc:function(a){var e=this.mh[a];if(e)return this.vd(e.fb-1);throw Error("Unknown page ID "+a);},eg:function(a){var e=this.J[a];if(e)return e.id;throw Error("Page index is not loaded "+a);},Ic:function(){this.off()}},a.utils.eventHandler)})(window);
(function(a){function e(a,b){this.handlers=a;this.state=_.isUndefined(b)?null:b;this.Xf=[];this.qu=!0}function d(){this.Dy=[];this.Gy=[];this.Gi={};this.wq=!1;Promise.resolve();Promise.resolve();this.Ho=!1;this.no=null}e.prototype={je:function(a){this.Xf.push(a)},PA:function(){return 0<this.Xf.length},MA:function(){return this.qu||0<this.Xf.length},read:function(){this.state=this.handlers.read(this.state);this.qu=!1},write:function(){var a=this.Xf;this.handlers.consolidateChanges&&(a=this.handlers.consolidateChanges(a));
this.Xf=[];this.state=this.handlers.write(this.state,a);this.qu=!0}};d.prototype={Ic:function(){this.wq=!1;window.cancelAnimationFrame(this.no);this.no=null;this.Ho=!0},tu:function(a,b,c,d){_.isUndefined(d)&&(d=!0);if(this.Gi[a])throw Error("Tried to register pipeline "+a+" twice");this.Gi[a]=new e(b,c);d&&this.xu()},ZF:function(a){return!!this.Gi[a]},CF:function(a){if(!this.Gi[a])throw Error("Tried to get non-existent pipeline "+a);return this.Gi[a]},xu:function(){var a=this;this.wq||(this.Ho||(this.wq=
!0,this.no=window.requestAnimationFrame(function(){a.no=null;var b=Object.keys(a.Gi).map(function(b){return a.Gi[b]});b.forEach(function(a){a.MA()&&a.read()});b.forEach(function(a){a.PA()&&a.write()});b=b.some(function(a){return a.MA()||a.PA()});a.wq=!1;b?a.xu():(a.Gy.forEach(function(a){a()}),a.Gy=[]);a.Dy.forEach(function(a){a()});a.Dy=[]})))},je:function(a,b){this.CF(a).je(b);this.xu()}};a.fl=d;a.UJ=e})((window.k?window.k:window.k={}).kj={});
(function(a){function e(a){this.kB=!0;this.Mt=this.Xp=this.OA=this.Me=!1;this.nc=[];this.pc={};this.nl={};this.Zd=0.5;this.o=a;this.u=null;this.Wp=Promise.resolve();this.wp=!1;this.uu=null;this.oh=[];this.paused=!1}function d(a){this.rotation=a.rotation;this.zoom=a.zoom;this.width=a.width;this.height=a.height;this.canvas=null;this.qg=this.Ie=!1;this.NA=!0;this.fd=this.ti=this.Lk=this.ia=null}function f(a,c){this.Ha=a;this.nh=c;this.pu=createPromiseCapability()}f.prototype={cancel:function(){var a=
this.Ha.cc(this.nh);try{if(a.qg){a.fd&&(a.fd.Nx(),a.fd.abort&&a.fd.abort());if(a.ia)try{this.Ha.u.Wf(a.ia)}finally{a.ia=null,a.fd=null}if(a.Lk)try{this.Ha.u.Pj(a.Lk)}finally{a.Lk=null}if(a.ti)try{this.Ha.u.Wf(a.ti)}finally{a.ti=null}}}finally{a.qg=!1,a.NA=!0,this.pu.resolve("canceled")}},WI:function(){this.cancel();var a=this.Ha.cc(this.nh);a.fd&&(a.fd.Le(void 0,this.Ha.o.K.jc(this.nh).fb-1),a.fd=null)},render:function(a){var c=this;a.then(function(){c.pu.resolve("complete")})},vt:function(){return this.pu.promise}};
d.prototype={am:function(a){return(this.canvas||a?1:0)*(this.width*this.height*this.zoom*this.zoom*(window.devicePixelRatio?window.devicePixelRatio:1)*4+1E5)/4},isValid:function(){return!!this.canvas},update:function(a){if(this.rotation!==a.rotation||this.zoom!==a.zoom)this.canvas=null,this.NA=!0;this.rotation=a.rotation;this.zoom=a.zoom;this.width=a.width;this.height=a.height;this.fb=a.fb}};e.prototype={init:function(){this.us();this.u=this.o.getDocument()},Ic:function(){this.Mt=!0;this.Rm();return this.Wp},
us:function(){this.Rm();var a=this;Object.keys(this.pc).forEach(function(c){a.sm(c)})},nI:function(a){this.OA=!!a},sm:function(a){var c=this.pc[a];c&&(c.canvas=null);this.Jk(a)},wo:function(a){var c=this.o,d=c.mi()-1;a=c.K.jc(a).fb-1;c=c.ud();d=a-d;0>d&&(d-=0.5);return c-Math.abs(d)},gz:function(a){return this.nl[a]||null},Bx:function(a){if(this.cc(a).qg)return this.gz(a);var c=new f(this,a);this.Jk(a);c.render(this.AH(a,function(){}));return this.nl[a]=c},aF:function(){var a=this;return Object.keys(this.pc).reduce(function(c,
d){return c+a.cc(d).am()},0)},BD:function(b,c){for(var d=this.cc(c),e=this,f=Object.keys(this.pc).sort(function(a,b){return e.wo(a)-e.wo(b)}),m=this.aF(),l=d.am(b)+m,p=0;l>a.Xi&&p<f.length;)l-=this.cc(f[p]).am(),++p;if(l<a.Xi){for(m=0;m<p;++m)this.sm(f[m]);d.canvas=b}else console.warn("Could not fit "+c+" with size "+d.am(b)+" into cache of size "+m+" with max size "+a.Xi)},cc:function(a){if(this.o.K.Cz(a)){this.pc[a]=this.pc[a]||new d(this.o.K.jc(a));var c=this.o.K.jc(a);this.pc[a].update(c);return this.pc[a]}return this.pc[a]?
this.pc[a]:new d({})},AJ:function(b){var c=this.cc(b);c&&(c.isValid()||this.sm(b),a.k.Wa.Si||(c.Ie=!1))},mG:function(a){return!!this.cc(a).canvas},pause:function(){this.paused=!0},qh:function(){this.paused=!1;var a=this.pc;Object.keys(a).forEach(function(c){c=a[c];c.fd&&(c.fd.paused=!1,c.fd.qh&&c.fd.qh())})},Nk:function(a){this.nc=a||this.o.W.Nd()},MD:function(a){var c=this;return a.some(function(a){return-1===c.nc.indexOf(a)})||c.nc.some(function(c){return-1===a.indexOf(c)})},GF:function(){var a=
this;return Object.keys(this.pc).map(function(c){return{id:c,page:a.pc[c]}}).filter(function(a){return a.page.Ie}).map(function(c){return a.o.K.jc(c.id).fb-1})},$D:function(a){if(this.Me)return this.Is();var c=this;a=a||c.o.W.Nd(c.Zd,c.Zd);return a.some(function(a){a=c.o.K.eg(a);a=c.cc(a);return!a.qg&&(!a.Ie||!a.isValid())})?this.Is(a):Promise.resolve()},Is:function(a){var c=this;clearTimeout(this.uu);this.uu=setTimeout(function(){var d=_.isUndefined(a)?c.o.W.Nd(c.Zd,c.Zd):a;c.Rm(d);c.wp?c.oh=a||
"auto":c.Wp=c.Wp.then(function(){return c.wu(a)}).catch(function(a){console.error(a);c.Wp=Promise.resolve()})},80)},cH:function(a){var c=this;return Promise.resolve().then(function(){var d=c.o.K.jc(a).fb-1,e=c.cc(a);if(!e.canvas)throw Error("Tried to place uncached page from cache "+a);e.Ie=!0;c.o.Jl(e.canvas,d);c.o.Vj(d);c.o.trigger("pageComplete",[d])})},zt:function(a){var c=this;return new Promise(function(d){var e=c.cc(a),f=c.o.K.jc(a).fb-1;e.Lk||c.o.$F(f)?d():e.Lk=c.u.pk(f,function(d){c.cc(a).Lk=
null;var e=-1!==c.nc.indexOf(f);c.o.Ix(d,f,e,!1)})})},nF:function(b){var c=this;return new Promise(function(d){var e=c.cc(b),f=c.o.K.jc(b).fb-1;if(e.ti||c.o.YF(f))d();else{var m=a.utils.getCanvasMultiplier(),l=e.width,p=e.height,r=l>p?2E3/l:2E3/p,r=r/m;e.ti=c.u.lg({pageIndex:f,getZoom:function(){return r},getPageRotation:function(){return a.k.sa.we},drawComplete:function(a){c.u.di(e.ti);e.ti=null;var b=-1!==c.nc.indexOf(f);c.o.Ix(a,f,b,!0);d()},useProgress:!1})}})},wu:function(b){var c=this;return this.Mt?
Promise.resolve():Promise.resolve().then(function(){function d(b){b=c.o.K.eg(b);if(c.mG(b)&&!c.Me)return c.cH(b);var e=c.cc(b);return!a.k.Wa.Si&&e.Ie?Promise.resolve():c.Bx(b).vt()}_.isUndefined(b)&&(b=c.o.W.Nd(c.Zd,c.Zd));c.Rm(b);c.yH();c.wp=!0;c.o.trigger("beginRendering");var e;c.u.jk()&&b.forEach(function(a){a=c.o.K.eg(a);c.zt(a)});c.OA?(c.Xp=!1,e=Promise.resolve(),b.forEach(function(a){e=e.then(function(){return c.Xp?Promise.resolve():d(a)})})):e=Promise.all(b.map(d));return e}).then(function(){c.Xp=
!1;c.wp=!1;c.o.trigger("finishedRendering");if(!c.Mt)return new Promise(function(a,b){window.requestAnimationFrame(function(){try{var d;"auto"===c.oh?(d=c.wu(),c.oh=[],a(d)):c.oh.length&&(d=c.wu(c.oh),c.oh=[],a(d));c.nG()?a(c.eH()):a()}catch(e){b(e)}})})}).catch(function(a){c.wp=!1;console.error(a);throw a;})},nG:function(){return a.k.Wa.Si&&(0!==a.Fp||0!==a.Ep)},RD:function(){var a=this;return _.range(a.o.ud()).map(function(c){return a.o.K.eg(c)}).sort(function(c,d){return a.wo(d)-a.wo(c)})},Lx:function(){var b=
this,c=_.min(b.nc),d=_.max(b.nc),e=c-a.Fp,f=d+a.Ep,c=this.RD().filter(function(a){a=b.o.K.jc(a).fb-1;return e<a&&f>a});if(b.Me)return c[0];for(var d=[],m=c.length,l=0,p=0;p<m;++p){var r=b.cc(c[p]),l=l+r.am(!0);if(l<a.Xi)d.push(c[p]);else break}return d},TD:function(){var a=this;return a.Lx().filter(function(c){return!a.cc(c).isValid()})},eH:function(){var a=this;return Promise.resolve().then(function(){return a.Me?Promise.all(a.nc.map(function(c){c=a.o.K.eg(c);return a.nF(c)})):Promise.all(a.TD().map(function(c){return a.Bx(c).vt()})).catch(function(a){console.error("error pre-rendering",
a);throw a;})})},AH:function(a,c){c=c||function(){};var d=this;return new Promise(function(e){d.zH(a,function(a){!a||(a.type&&"Cancelled"===a.type||console.warn(a));e()},c)})},yH:function(){var b=this,c=this.Lx();Object.keys(this.pc).forEach(function(d){var e=b.cc(d);if(b.o.K.Cz(d)){var f=b.o.K.jc(d).fb-1;a.k.Wa.Si?-1===c.indexOf(d)&&(e.Ie&&(b.o.xH(f),e.Ie=!1)):(d=-1!==b.nc.indexOf(f),e.Ie&&(!d&&(a.k.Wa.vk(f),e.Ie=!1)))}})},zH:function(b,c,d){var e=this,f=this.cc(b);c=c||function(){};d=d||function(){};
if(f.qg)a.utils.warn("renderPage: Another request for page ID",b),c("renderPage: Another request for page ID "+b);else{var m=e.o.K.jc(b),l=m.zoom,p=m.rotation;if(e.u!==e.o.getDocument())c("Document changed");else{var r=!0,q=null,s=!1,u;if(e.Me){var v=e.o.W.ba;u=v.jm(m.fb-1,v.kn(e.Zd,e.Zd));if(null===u){c("Page "+(m.fb-1)+" no longer visible");return}}var w={pageIndex:this.o.K.jc(b).fb-1,getZoom:function(){return e.o.K.jc(b).zoom},getPageRotation:function(){return e.o.K.jc(b).rotation},finishedLoading:function(a,
d){if(e.u!==e.o.getDocument())return c(Error("Document changed")),!1;if(a)return console.warn("Error loading page "+b),c(Error("Error loading page "+b)),!1;r=null===f.fd;f.fd=d;e.paused&&f.fd.pause();return!0},acquireResources:function(){return r},resourcesLoaded:function(){if(e.u!==e.o.getDocument())return c(Error("Document changed")),!1;if(!1===f.qg)return!1;var a=e.o.K.jc(b);l===a.zoom&&p===a.rotation||e.o.Vj(a.fb-1);return!0},drawComplete:function(){if(e.u!==e.o.getDocument()||_.isNull(q))c(Error("Document changed, or progress event not received"));
else{m=e.o.K.jc(b);f.qg=!1;f.Ie=!!s;s||a.k.Wa.vk(x);a.k.Wa.Si&&(!e.Me&&e.BD(q,b,m));var d=-1!==e.nc.indexOf(x);d&&e.o.trigger("pageComplete",[x,q]);e.u.di(f.ia);$("#pageContainer"+(m.fb-1)).removeClass("loading");e.u.vp()&&(d&&e.o.Vj(m.fb-1));c()}},drawProgressive:function(f){if(e.u!==e.o.getDocument())c(Error("Document changed"));else{var m=e.o.K.jc(b),n=m.fb-1;l===m.zoom?(_.isUndefined(u)||(m=$(f),m.css("top",u.Zu.y+"px"),m.css("left",u.Zu.x+"px")),m=e.u.Jc(n),q=a.k.Wa.Xy(f,n,l,p,w.getPageTransform(),
m),s=!!e.o.Jl(q,n)):a.utils.warn("bad zoom: "+n);d(n)}},getPageTransform:function(){return e.o.W.dk(m.fb-1)},onError:function(a){c(a)},useProgress:!e.Me,renderRect:_.isUndefined(u)?void 0:u.vu};f.ia=-1;f.qg=!0;f.ia=e.u.lg(w);var x=m.fb-1;e.o.Vj(x)}}},iE:function(){for(var b=[],c=0;c<this.o.ud();++c){var d=this.o.K.eg(c);b.push(d)}this.gB(b);this.Rm();a.k.Wa.Im()},gB:function(a){var c=this;Object.keys(this.pc).forEach(function(d){if(-1===a.indexOf(d)){var e=c.nl[d];e&&(e.cancel(),e.WI(),delete c.nl[d]);
delete c.pc[d]}else c.pc[d].Ie=!1})},hB:function(b){this.u&&((this.Me=this.kB&&b>this.u.u.Wt)&&1<a.utils.getCanvasMultiplier()?this.Zd=0:this.Zd=0.5)},Rm:function(b){var c=this,d={};"undefined"!==typeof b&&$.each(b,function(a,b){d[c.o.K.eg(b)]=!0});Object.keys(this.nl).forEach(function(b){b in d&&a.k.Wa.Si||c.Jk(b)});this.Xp=!0;clearTimeout(this.uu)},Jk:function(b){var c=this.gz(b);c&&(this.cc(b).qg&&(b=this.o.K.jc(b).fb-1,$(document.getElementById("pageContainer"+b)).find(".progressive").remove()),
c.cancel(),a.k.Wa.xs())},Qu:function(a){this.kB=!!a},HA:function(){}};a.k.lC=e})(window);
(function(a){function e(a,b){this.Uh=!a;this.height=this.width=0;this.yf=null;a&&(this.width=b.width,this.height=b.height,this.rotation=b.rotation,this.Lc=b.fb-1,this.nh=a,this.zoom=b.zoom,this.og=b.og)}function d(a,b){this.J=b;this.index=a;this.height=b.reduce(function(a,b){return b.va()>a?b.va():a},0);this.width=b.reduce(function(a,b){return a+b.wa()},0)}function f(a){this.rows=a.rows;this.Bi=a.Bi;this.vg=a.vg;this.mc=a.mc;this.sk=a.sk;this.Yf=a.Yf;this.J=a.J;this.xf=a.xf;a=this.rows;this.width=
this.Yf.reduce(function(a,b){return a+b},2*this.vg*this.Bi);this.height=a.reduce(function(a,b){return a+b.va()},this.rows.length*this.vg*2)}function b(a,b){var c=b.zoom,d=b.rotation,e=b.width*c,c=b.height*c,f=null;d===window.k.sa.$c||d===window.k.sa.Jd?(f="rotate("+90*d+"deg)",f=d===window.k.sa.$c?" translate("+e+"px, 0)  "+f:" translate(0,"+c+"px)  "+f,a.css("height",e),a.css("width",c)):(d===window.k.sa.ki&&(f="translate("+e+"px,"+c+"px) scale(-1,-1)"),a.css("width",e),a.css("height",c));null!==
f&&a.css({position:"absolute",transform:f,"transform-origin":"top left","ms-transform":f,"ms-transform-origin":"top left","-moz-transform":f,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":f,"-o-transform":f,"-o-transform-origin":"top left"})}function c(a,b,c){if(b)for(b=a-1;0<=b;--b)c(b);else for(b=0;b<a;++b)c(b)}function g(a,b,c){var d=document.createElement("div");d.id="pageContainer"+a.$g();2===c?0===b?d.style.marginLeft="auto":1===b&&(d.style.marginRight=
"auto"):(d.style.marginLeft="auto",d.style.marginRight="auto");d.className+=" pageContainer";return d}function h(a,b,c){var d=document.createElement("div");d.id="pageSection"+a.$g();d.style.cssFloat="left";d.style.position="relative";d.className+=" pageSection";d.appendChild(g(a,b,c));return d}function n(a,b,d){var e=document.createDocumentFragment(),f=a.qb();c(f.length,d,function(a){e.appendChild(h(f[a],a,b))});a=document.createElement("div");a.style.clear="both";e.appendChild(a);return e}function m(a,
c){if(c.og){var d=c.og,e=parseFloat(d.css("width")),f=parseFloat(d.css("height")),g=parseFloat(a.style.width)/e,h=d.attr("id");if(h&&0<=h.indexOf("hrthumb")){h=c.rotation;if(h===window.k.sa.$c||h===window.k.sa.Jd)g=parseFloat(a.style.width)/f;b(d,c)}d.each(function(){var b=$(this);b.css({top:parseFloat(b.css("top"))*g,width:e*g,height:f*g});a.appendChild(this)})}}function l(a,b,d,e,f,g){var h=b.qb(),l=a;c(h.length,f,function(a){if(!l)throw Error("Tried to update non-existent page section");var c=
l,f=h[a],n=b.va();c.style.width=Math.floor(d[a])+"px";c.style.height=Math.floor(n)+"px";c.style.margin=e+"px";g||(a=c.firstChild,c=Math.floor(f.va())+"px",a.style.width=Math.floor(f.wa())+"px",a.style.height=c,a.style.top=Math.floor(n-f.va())/2+"px",a.className+=" loading",$(a).children().detach(),m(a,f));l=l.nextSibling});return l=l.nextSibling}function p(a,b,d){var e=b.qb(),f=a;c(e.length,d,function(a){if(!f)throw Error("Tried to skip non-existent page section");m(f.firstChild,e[a]);f=f.nextSibling});
return f=f.nextSibling}function r(a,b,d){var e=b.qb().length,f=a;b=document.createRange();c(e,d,function(){if(!f)throw Error("Tried to remove non-existent page section");f=f.nextSibling});d=f.nextSibling;b.setStartBefore(a);b.setEndAfter(f);b.deleteContents();return d}function q(a){this.Xf=[];this.state=a}e.Xx=function(a){var b=new e(null,{});b.Lc="b"+a;b.width=0;b.height=0;b.zoom=1;b.rotation=0;b.og=null;return b};e.prototype={kz:function(){return this.yf},ig:function(){return this.zoom},zc:function(){return this.rotation},
wa:function(){return this.width*this.zoom},va:function(){return this.height*this.zoom},$g:function(){return this.Lc},oG:function(a){return this.Uh&&a.Uh||this.nh===a.nh},Ot:function(a){return this.Uh!==a.Uh||!this.Uh&&(this.nh!==a.nh||(this.wa()!==a.wa()||(this.va()!==a.va()||(this.ig()!==a.ig()||this.zc()!==a.zc()))))}};d.prototype={qb:function(){return this.J},va:function(){return this.height},wa:function(){return this.width},$g:function(){return this.index},Ot:function(a){var b=a.qb();return this.J.length!==
a.qb().length||this.J.some(function(a,c){return a.Ot(b[c])})},pG:function(a){var b=a.qb();return this.J.length===a.qb().length&&this.J.every(function(a,c){return a.oG(b[c])})}};f.prototype={qb:function(){return this.J},wa:function(){return this.width},va:function(){return this.height},kz:function(a){return this.rows[a]}};q.prototype={make:function(a,b,c){this.Xf.push({gu:a,ff:{yf:b,RG:c}})},GD:function(a){var b=this,c=a.firstChild,d=[];a.style.width=Math.ceil(this.state.wa())+"px";this.Xf.forEach(function(e){switch(e.gu){case "addRow":d=
d.concat(e.ff.yf.qb());c=b.Cx(c,e.ff,a);break;case "updateRow":d=d.concat(e.ff.yf.qb());c=b.fJ(c,e.ff,a);break;case "updateColumns":c=b.$I(c,e.ff,a);break;case "skipRow":c=b.DI(c,e.ff,a);break;case "replaceRow":d=d.concat(e.ff.yf.qb());c=b.BH(c,e.ff,a);break;case "removeRow":c=b.nA(c,e.ff,a);break;default:console.warn("Unsupported layout change operation:",e.gu)}});if(c&&"annoteditselectrect"!==c.id)throw Error("Nodes left after applying changes");d=d.filter(function(a){return!a.Uh}).map(function(a){return a.$g()});
return{oh:d}},zF:function(){var a=[];this.Xf.forEach(function(b){switch(b.gu){case "updateRow":a=a.concat(b.ff.yf.qb())}});return a.filter(function(a){return!a.Uh}).map(function(a){return a.$g()})},Cx:function(a,b,c){b=b.yf;var d=n(b,this.state.Yf.length,this.state.xf);l(d.firstChild,b,this.state.Yf,this.state.vg,this.state.xf);a?c.insertBefore(d,a):c.appendChild(d);return a},fJ:function(a,b){return l(a,b.yf,this.state.Yf,this.state.vg,this.state.xf)},DI:function(a,b){return p(a,b.yf,this.state.xf)},
BH:function(a,b,c){a=this.nA(a,b);return this.Cx(a,b,c)},nA:function(a,b){return r(a,b.RG,this.state.xf)},$I:function(a,b){return l(a,b.yf,this.state.Yf,this.state.vg,this.state.xf,!0)}};a.tF=function(a){var b=a.kJ,c=a.vg,g=a.EI||0,h=[],l;for(l=0;l<g;++l)h.push(e.Xx(l));var h=h.concat(b.map(function(a){return new e(a.id,a)})),m=a.Bi;m>h.length&&(m=h.length);b=a.mc||0;g=Math.ceil(h.length/a.Bi);_.isUndefined(a.sk)||(g=a.sk<g?a.sk:g);var n=Array(m);l=h.reduce(function(a,b,c){var d;0===a.length?(d=[],
a.push(d)):d=a[a.length-1];d.length===m&&(d=[],a.push(d));d.push(b);if(c===h.length-1&&(b=m-d.length,0<b))for(var f=0;f<b;++f)d.push(e.Xx(c+f+1));return a},[]).slice(b,b+g).map(function(a,b){var c=new d(b,a);c.qb().forEach(function(a,b){n[b]=n[b]?a.wa()>n[b]?a.wa():n[b]:a.wa()});return c});return new f({rows:l,vg:c,Bi:m,mc:b,sk:g,Yf:n,J:h,xf:a.xf})};a.sF=function(a,b){var c=new q(b);if(!a)return b.rows.forEach(function(a){c.make("addRow",a,null)}),c;var d=a.rows,e,f=a.Yf,g=b.Yf;e=f.length===g.length?
f.every(function(a,b){return a===g[b]}):!1;f=b.rows;f.forEach(function(a){var b=d[a.$g()];b?b.pG(a)?b.Ot(a)?c.make("updateRow",a,b):e?c.make("skipRow",a,b):c.make("updateColumns",a,b):c.make("replaceRow",a,b):c.make("addRow",a,b)});if(f.length<d.length)for(f=f.length;f<d.length;++f)c.make("removeRow",null,d[f]);return c};a.dl=e;a.VJ=d;a.QJ=f;a.PJ=q})((window.k=window.k||{}).Bv={});
(function(a){var e=XODText,d=window.k,f={Hv:"Single",Vk:"Continuous",pv:"Facing",Oq:"FacingContinuous",en:"Cover",gn:"CoverFacing",Bf:"Custom"};d.kd=function(a,c,d){this.mode=null;this.o=a;this.Hc=this.vf=this.rb=null;this.xe=this.mc=0;this.jh=null;this.nc=[];this.tc={};a=c===f.Bf;this.Bk=_.isUndefined(d)?!a:d;_.isNull(c)||(_.isUndefined(c)||(this.mode=c))};d.kd.prototype={iI:function(a,c,d,e,n){this.mode=f.Bf;this.rb=a;this.vf=c;this.Hc=d;this.mc=e;this.xe=n},WH:function(a){this.tc=a},Lt:function(){return this.mode===
f.Vk||(this.mode===f.Oq||this.mode===f.en)},Va:function(a,c){if(!this.jh)return-1;var d=this.jh.kz(a-this.jh.mc);if(this.o.xt())var e=this.jh.Bi,d=d.qb()[e-(c+1)];else d=d.qb()[c];return d&&_.isNumber(d.$g())?d.$g():-1},ed:function(a,c){if(this.tc.pageToWindow)return this.tc.pageToWindow(a,c);a=this.o.JF(a,c);var d=this.o.K.vd(c);return{x:a.x+d.fc,y:a.y+d.jd}},Vz:function(a,c){if(this.tc.pageToWindow)return this.tc.pageToWindow(a,c);a=this.o.KF(a,c);var d=this.o.K.vd(c);return{x:a.x+d.fc,y:a.y+d.jd}},
Ui:function(b,c){if(this.tc.windowToPage)return this.tc.windowToPage(b,c);var d=this.o.lb(c),f=this.o.K.vd(c),n=new e.hc;n.x=b.x-f.fc;n.y=b.y-f.jd;d=a.Qc(d,this.o.kf(c+1),{width:this.o.Sb(c),height:this.o.Rb(c)},0,!1);d=d.inverse();n=d.O(n);return{pageIndex:c,x:n.x,y:n.y}},oB:function(b,c){if(this.tc.windowToPage)return this.tc.windowToPage(b,c);var d=this.o.lb(c),f=this.o.K.vd(c),n=new e.hc;n.x=b.x-f.fc;n.y=b.y-f.jd;d=a.Qc(d,this.o.zc(c+1),this.o.u.Jc(c),0,!1);d=d.inverse();n=d.O(n);return{pageIndex:c,
x:n.x,y:n.y}},gp:function(a,c){if(this.tc.getSelectedPages)return this.tc.getSelectedPages(a,c);var d=null,e=null;a=_.isUndefined(a)?this.o.Kc:a;c=_.isUndefined(c)?this.o.tb:c;a:for(var f=this.mc;f<this.xe;f++)for(var m=0;m<this.rb;m++){var l=this.Va(f,m);if(!(0>l)){var p=this.o.K.vd(l),r=p.fc,q=p.jd,s=p.fc+p.width*this.o.zoom,p=p.jd+p.height*this.o.zoom;null===d&&(a.x<=s&&(a.x>=r&&(a.y<=p&&(a.y>=q&&(d=l)))));null===e&&(c.x<=s&&(c.x>=r&&(c.y<=p&&(c.y>=q&&(e=l)))));if(null!==d&&null!==e)break a}}d>
e&&(f=d,d=e,e=f);return{first:d,last:e}},Nd:function(a,c){if(this.tc.getVisiblePages)return this.tc.getVisiblePages(a,c);if(0===$("#DocumentViewer").length)return[];for(var d,e=[],f=this.kn(a,c),m=this.kn(0,0),l=this.mc;l<this.xe;l++)for(var p=0;p<this.rb;p++)if(d=this.Va(l,p),!(0>d)){var r=this.jm(d,f,m);null!==r&&e.push({Lc:d,bA:r.bH})}e.sort(function(a,b){return b.bA-a.bA});d=e.length;for(f=0;f<d;++f)e[f]=e[f].Lc;return e},kn:function(a,c){a=_.isUndefined(a)?0.5:a;c=_.isUndefined(c)?0.5:c;var d=
document.getElementById("DocumentViewer");if(null===d)return[];var e=d.getBoundingClientRect(),f=e.width,m=e.height,l=d.scrollTop+e.top-m*a,d=d.scrollLeft+e.left-f*c;return{x1:d,y1:l,x2:d+f*(1+2*c),y2:l+m*(1+2*a)}},jm:function(b,c,d){var e=this.o.u.Jc(b),f=this.Vz({x:0,y:0},b),m=this.Vz({x:e.width,y:e.height},b),e=a.utils.normalizeRect(f,m);c=a.utils.getRectIntersection(e,c);if(c.x1!==c.x2){var l;d&&(d=a.utils.getRectIntersection(e,d),l=(d.x2-d.x1)*(d.y2-d.y1)/((e.x2-e.x1)*(e.y2-e.y1)));f=this.oB({x:c.x1,
y:c.y1},b);m=this.oB({x:c.x2,y:c.y2},b);return{vu:a.utils.normalizeRect(f,m),Zu:{x:c.x1-e.x1,y:c.y1-e.y1},bH:l}}return null},dk:function(a){if(this.tc.getPageTransform)return this.tc.getPageTransform(a);a=this.o.cm(a);return{x:0,y:0,width:a.width,height:a.height}},st:function(){return{x:0,y:0}},Sj:function(){return d.Bv.tF({vg:this.o.Zy(),kJ:this.o.K.Nd(),Bi:this.rb,mc:this.mc,sk:this.xe-this.mc,EI:this.mode===f.en||this.mode===f.gn?1:0,xf:this.o.xt()})},Lm:function(a){a?this.mode===f.Bf?this.o.el.children().detach():
this.Po(function(a){$(a).children().detach()}):(this.jh=null,this.o.el.empty(),this.o.trigger("contentRemoved"))},ug:function(){if(this.tc.createPageSections)return this.Lm(!1),this.tc.createPageSections(),_.range(0,this.o.ud());var a=this;if(this.mode!==f.Bf){var c=this.Sj(),e=d.Bv.sF(this.jh,c);e.zF().forEach(function(c){var d=document.getElementById("pageContainer"+c),d=a.o.nB?$(d).find("#hrthumb"+c):$(d).find(".canvas"+c+":not(.progressive)");0<d.length&&a.o.K.DA(c,d)});this.jh=c;c=e.GD(this.o.el.get(0)).oh;
this.o.Ex(this.jh.va());return c}return[]},Po:function(b){for(var c=this.o.el.get(0).firstChild;c;)a.utils.hasClass(c,"pageSection")&&b(c.firstChild),c=c.nextSibling},Ke:function(){var a=this.o.K;this.Po(function(c){var d=c.parentNode,e=Number(c.id.slice(13));_.isNaN(parseInt(e))||a.fI(e,{fc:d.offsetLeft+c.offsetLeft,jd:d.offsetTop+c.offsetTop})})}};d.Wk=function(b){if(!b)throw Error("DisplayModeManager requires DocumentViewer to initialize");this.o=b;this.ba=new a.k.kd(this.o,f.Vk)};d.Wk.prototype=
{Pb:function(){return this.ba},zA:function(a){this.ba.Lm();null===this.o.u?(this.ba=a,this.o.trigger("displayModeUpdated")):(this.mx(a),this.o.K.sh(this.o.be()),this.o.trigger("zoomUpdated",this.o.ig()),this.o.Ii(),this.ba.Lt()&&(this.ug(),this.ba.Ke()),this.o.wd(this.o.sc+1))},mx:function(a){this.ba=a;this.zC();this.o.K.ys();this.o.trigger("displayModeUpdated")},zC:function(){var a=this.ba.mode;_.isNull(a)||(a===f.Hv?(this.ba.rb=1,this.ba.vf=Math.ceil(this.o.u.numPages/this.ba.rb),this.ba.Hc=Math.ceil(this.o.sc/
this.ba.rb),this.ba.mc=this.ba.Hc,this.ba.xe=this.ba.Hc+1):a===f.Vk?(this.ba.rb=1,this.ba.vf=Math.ceil(this.o.u.numPages/this.ba.rb),this.ba.Hc=-1,this.ba.mc=0,this.ba.xe=this.ba.vf):a===f.pv?(this.ba.rb=2,this.ba.Hc=Math.floor(this.o.sc/this.ba.rb),this.ba.vf=Math.ceil(this.o.u.numPages/this.ba.rb),this.ba.mc=this.ba.Hc,this.ba.xe=this.ba.Hc+1):a===f.Oq?(this.ba.rb=2,this.ba.Hc=-1,this.ba.vf=Math.ceil(this.o.u.numPages/this.ba.rb),this.ba.mc=0,this.ba.xe=this.ba.vf):a===f.en?(this.ba.rb=2,this.ba.Hc=
-1,this.ba.vf=Math.ceil((this.o.u.numPages+1)/this.ba.rb),this.ba.mc=0,this.ba.xe=this.ba.vf):a===f.gn&&(this.ba.rb=2,this.ba.Hc=Math.floor(this.o.sc/this.ba.rb),this.ba.vf=Math.ceil(this.o.u.numPages/this.ba.rb),this.ba.mc=this.ba.Hc,this.ba.xe=this.ba.Hc+1))},gp:function(a,c){return this.ba.getSelectedPages(a,c)},Nd:function(a,c){return this.ba.getVisiblePages(a,c)},jm:function(a,c,d){return this.ba.jm(a,c,d)},ed:function(a,c){return this.ba.pageToWindow(a,c)},Ui:function(a,c){return this.ba.windowToPage(a,
c)},dk:function(a){return this.ba.getPageTransform(a)},st:function(a){return this.ba.getPageOffset(a)},Sj:function(){return this.ba.Sj()},ug:function(a){return this.ba.ug(a)},Lm:function(a){return this.ba.Lm(a)},Po:function(a){return this.ba.Po(a)},Ke:function(){return this.ba.Ke()}};a.k.ld=f})(window);
(function(a){function e(){}var d=window.k,f=XODText;e.prototype=Object.create(Error.prototype);d.ca=function(){var b=this;this.select=_.bind(this.select,this);this.wb=f.wb;this.el=$("#viewer");this.el.empty();this.u=null;this.defaults={FitMode:this.Se.Pq,DisplayMode:new a.k.kd(this,a.k.ld.Vk),Zoom:1};this.xA();this.wy=this.ED=this.Pl=!1;this.xz=function(a,b){b(a)};a.k.Zq(5);this.xv=function(a){this.trigger("mouseLeftUp",a);b.la&&(b.la.mouseLeftUp&&b.la.mouseLeftUp(a));for(var d in b.links)if(b.links.hasOwnProperty(d)){a=
b.links[parseInt(d,10)];for(var e=0;e<a.length;++e)a[e].style&&(a[e].style.border="")}};this.wv=function(a){this.trigger("mouseLeftDown",a);b.la&&(b.la.mouseLeftDown&&b.la.mouseLeftDown(a))};this.yv=function(a){this.trigger("mouseMove",a);b.la&&(b.la.mouseMove&&b.la.mouseMove(a))};this.ZB=function(a){this.trigger("click",a)};this.iC=function(a){this.trigger("tap",a);b.la&&(b.la.tap&&b.la.tap(a))};this.aC=function(a){this.trigger("dblClick",a);b.la&&(b.la.mouseDoubleClick&&b.la.mouseDoubleClick(a))};
this.bC=function(a){this.trigger("keyDown",a);b.la&&(b.la.keyDown&&b.la.keyDown(a))};this.cC=function(a){this.trigger("keyUp",a);b.la&&(b.la.wG&&b.la.wG(a))};this.$B=function(a){b.la&&(b.la.contextMenu&&b.la.contextMenu(a))};this.dC=function(a){this.trigger("mouseEnter",a);b.la&&(b.la.MG&&b.la.MG(a))};this.eC=function(a){this.trigger("mouseLeave",a);b.la&&(b.la.mouseLeave&&b.la.mouseLeave(a))};this.fC=function(a){this.trigger("mouseRightDown",a);b.la&&(b.la.Hp&&b.la.Hp(a))};this.gC=function(a){this.trigger("mouseRightUp",
a);b.la&&(b.la.NG&&b.la.NG(a))};this.hC=function(a){b.la&&(b.la.cA&&b.la.cA(a))}};d.ca.prototype={QD:function(){function b(b){d=!0;var l=c.u.qb()[b-1];if(l){var p,r,q=c.ad().Xg();if(e&&e!==l){for(p=0;p<q;++p)r=q[p],r.ih()&&(r.pageNumber===f&&q[p].Rd("PC",new a.Annotations.N.Bb.Events.dl("Close",c,{})));e.Rd("C",new a.Annotations.N.Bb.Events.dl.create("Close",c,{}))}e=l;f=b;l.Rd("O",new a.Annotations.N.Bb.Events.dl.create("Open",c,{}));for(p=0;p<q;++p)r=q[p],r.ih()&&(r.pageNumber===b&&q[p].Rd("PO",
new a.Annotations.N.Bb.Events.dl("Close",c,{})))}}var c=this;c.el.on("dragstart",function(a){"IMG"===a.target.nodeName&&a.preventDefault()});c.el.on("touchstart",function(a){c.wv(a)});c.el.on("touchmove",function(a){c.tb={x:a.originalEvent.touches[0].pageX,y:a.originalEvent.touches[0].pageY};c.yv(a)});c.el.on("touchend",function(a){c.xv(a);c.Dr=!1});c.el.on("pointerdown",function(a){c.hC(a)});c.el.dblclick(function(a){c.aC(a)});c.el.click(function(a){c.ZB(a)});c.el.on("tap",function(a){c.iC(a)});
$(window).on("keydown",function(a){c.bC(a)});$(window).on("keyup",function(a){c.cC(a)});c.el.on("contextmenu",function(a){c.$B(a)});c.el.mouseenter(function(a){c.dC(a)});c.el.mousedown(function(a){1===a.which?(c.wv(a),c.Dr=!0):3===a.which&&(c.fC(a),c.Sw=!0)});$(document).on("mouseup",function(a){1===a.which&&c.Dr?(c.xv(a),c.Dr=!1):3===a.which&&(c.Sw&&(c.gC(a),c.Sw=!1))});$(document).mousemove(function(a){c.tb={x:a.pageX,y:a.pageY};c.yv(a)});c.el.mouseleave(function(a){c.eC(a)});if(c.W.Pb().Bk)c.dc().on("scroll",
_.bind(c.onscroll,c));$(a).on("resize",_.bind(c.resize,c));c.on("PAUSE",function(){c.Ha.pause()});c.on("RESUME",function(){c.Ha.qh()});var d=!1,e=null,f;c.on("documentReady",function(){c.u.Rd("Init",new a.Annotations.N.Bb.Events.nv.create("Open",c,{}));c.u.Rd("Open",new a.Annotations.N.Bb.Events.nv.create("Open",c,{}));d||b(1)});c.on("pageNumberUpdated",function(a,d){b(d);c.u.Li({currentPage:d})});c.on("visiblePagesChanged",function(a,b){c.u.Li({visiblePages:b});var d=_.intersection(b,c.Il);d.length&&
(clearTimeout(c.FD),c.FD=setTimeout(function(){c.ph.je("DocumentViewer.renderRequest",{type:"annotations",pages:d})},80))})},resize:function(a){a&&a.target!==window||(!this.u||(!this.W.Pb().Bk||(this.be===this.Se.Zoom?(this.W.Pb().Ke(),this.onscroll()):(a=this.be(),a!==this.K.sf?(this.El(a),this.rs()):(this.W.Pb().Ke(),this.rs(),this.onscroll())))))},rs:function(){var a=this.dc(),c=(a[0].scrollWidth-a.width()+this.fp())/2;a.scrollLeft(c)},MH:function(){this.resize()},Tx:function(){var a=this;return this.Io=
this.Io.then(function(){return a.u?(a.Ii(!0),Promise.resolve(a.Ic()).then(function(){a.xA()})):Promise.resolve()})},xA:function(){this.u=null;this.Io=Promise.resolve();this.Ha=new a.k.lC(this);this.W=new a.k.Wk(this);this.W.zA(this.defaults.DisplayMode);this.be=this.defaults.FitMode;this.tA=!1;this.sc=0;this.links={};this.ai=[];this.K=new d.br(null);this.tb=this.Kc=null;this.Bu=!1;this.margin=8;this.vA=this.wA=0;this.Tm=new f.pd;this.Mc=this.bu=null;this.Oz=this.$t=this.xp=this.loop=!1;this.Pz=this.Qz=
null;this.YA="rgba(0, 0, 200, 0.3)";this.ph=new a.k.kj.fl;var b=this;this.ph.tu("DocumentViewer.renderRequest",{read:function(a){a.ls&&b.W.Ke();b.bJ();a=b.W.Nd();b.Ha.Nk(a);return{nc:a,LH:b.oH()}},consolidateChanges:function(a){var b=a.filter(function(a){return"pages"===a.type}),d=a.filter(function(a){return"annotations"===a.type}),e=a.filter(function(a){return"layout"===a.type});a=a.filter(function(a){return"retainScroll"===a.type});var f=[];b.length&&f.push({type:"pages",pages:_.union.apply(null,
b.map(function(a){return a.pages||[]})),useVisiblePages:b.some(function(a){return!!a.useVisiblePages}),check:b.every(function(a){return!!a.check})});d.length&&f.push({type:"annotations",pages:_.union.apply(null,d.map(function(a){return a.pages||[]}))});e.length&&f.push({type:"layout",pages:_.union.apply(null,e.map(function(a){return a.pages||[]}))});return f=f.concat(a)},write:function(a,d){var e={ls:!1};d.forEach(function(d){var f;"pages"===d.type?(f=d.useVisiblePages?_.union(a.nc,d.pages):_.intersection(a.nc,
d.pages),0<f.length&&(d.check?b.Ha.$D(f):b.Mk(f))):"annotations"===d.type?(f=_.intersection(a.nc,d.pages),b.Il=_.without(b.Il,f),f.forEach(function(a){b.Vj(a)})):"layout"===d.type?(e.ls=!0,d=b.W.ug().concat(d.pages),d.length&&(d.forEach(function(a){b.Ha.sm(b.K.eg(a))}),b.ph.je("DocumentViewer.renderRequest",{type:"pages",pages:d})),b.Ha.hB(b.ig())):"retainScroll"===d.type&&b.qJ(a.LH)});return e}},{ls:!0},!1);this.oa=new a.k.ea(this);this.Op=[];this.Il=[];this.oo=null;this.Hl=Promise.resolve()},oH:function(){var a=
this.mi()-1,c=this.dc(),d=c.scrollLeft(),c=c.scrollTop(),e=document.getElementById("pageContainer"+a);e&&(d-=e.offsetLeft+e.parentNode.offsetLeft,c-=e.offsetTop+e.parentNode.offsetTop);return{Lc:a,x:d,y:c}},qJ:function(a){var c=document.getElementById("pageContainer"+a.Lc),d=a.x;a=a.y;c&&(d+=c.offsetLeft+c.parentNode.offsetLeft,a+=c.offsetTop+c.parentNode.offsetTop);this.scrollTo(d,a)},GB:function(a){var c={};_.isUndefined(a)||(_.isObject(a)?c=a:c.docId=a);"onError"in c||(c.onError=function(a){throw Error("Error loading document: "+
a);});"getPassword"in c||(c.getPassword=function(){throw Error("Document requires a password. If you wish to process this type of document please define a getPassword callback.");});"docId"in c||(c.docId=null);"workerTransportPromise"in c||("pdf"!==c.type||(c.workerTransportPromise=d.vz(c.pdfBackendType,c.workerHandlers,c.l)));return c},iA:function(a){this.ph.je("DocumentViewer.renderRequest",{type:"layout",pages:a});this.ph.je("DocumentViewer.renderRequest",{type:"retainScroll"})},ek:function(){return this.ph},
lA:function(a){var c=this;this.Op=this.Op.concat(a);this.oo||(this.oo=setTimeout(function(){var d=c.Op;c.Op=[];c.oo=null;c.Hl=c.Hl.then(function(){var a=d.map(function(a){return a+1});c.oa.mA(a);return c.getDocument().No(a)}).then(function(d){return new Promise(function(e){c.oa.Ht(d.xfdfString,function(){c.Il=c.Il.concat(a);e()})})})},400))},kh:function(b,c){var f=this;c=f.GB(c);var h=new a.CoreControls.Document(c.docId,c.type);this.Gz=h;h.zf(f);var n=f.Io.then(function(){return new Promise(function(a,
d){h.kh(b,function(b){h!==f.Gz?(h.Le(),d(new e)):b?(c.onError(b),d(b)):null!==f.u?a(f.Tx().then(function(){return h})):a(h)},{annotsLoadedCallback:function(a){f.Gz===h&&n.then(function(){f.xz(a,function(a){if(!_.isUndefined(a)){var b=new Promise(function(a){f.on("documentReady.annotsLoaded",function(){a("ready")})});f.Hl=f.Hl.then(function(){return b});f.oa.Ht(a,function(){f.Ha.GF().forEach(function(a){f.Vj(a)});f.trigger("documentReady")})}})})},getPassword:c.getPassword,workerTransportPromise:c.workerTransportPromise,
extension:c.extension})})}).then(function(b){f.u=b;f.K=new d.br(b);f.defaults.FitMode===f.Se.Zoom&&f.K.sh(f.defaults.Zoom);f.u.on("bookmarksUpdated",function(){f.trigger("bookmarksUpdated")});f.K.on("layoutChanged",function(a,b){f.iA(b.contentChanged.map(function(a){return a-1}));0<b.added.length&&f.lA(b.added.map(function(a){return a-1}));0<b.removed.length&&f.Ha.gB(f.u.dm());0<b.contentChanged.length&&f.lA(b.contentChanged.map(function(a){return a-1}));f.trigger("layoutChanged",[b])});f.K.on("zoomChanged",
function(a,b){f.nB=f.Ha.Me;f.Ha.hB(b)});f.oa.wH(f.K);f.trigger("beforeDocumentLoaded");c.type&&"xod"!==c.type||f.Ha.nI(!0);f.Ha.init();f.W.mx(f.W.Pb());f.wy||(f.wy=!0,f.QD());if(f.W.Pb().mode!==a.k.ld.Bf){f.K.sh(f.fo(f.be));f.Ii();f.W.ug();f.W.Ke();f.Mk();b=f.dc();var e=(b[0].scrollWidth+f.fp()-b.innerWidth())/2;b.scrollLeft(e)}f.trigger("documentLoaded");1.2>=f.u.u.xg&&f.trigger("documentReady")}).catch(function(a){if(!(a instanceof e))c.onError(a)})},dc:function(){return $("#DocumentViewer")},LF:function(){return document.getElementById("DocumentViewer")},
fp:function(){var a=$('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div></div>');$("body").append(a);var c=$("div",a).innerWidth();a.css("overflow-y","auto");var d=$("div",a).innerWidth();$(a).remove();return c-d},Ic:function(){var a=this;this.off("documentReady.annotsLoaded");if(this.u)return clearTimeout(this.oo),Promise.all([this.Hl,this.ph.Ic(),this.oa.yB(),this.Ha.Ic(),this.K.Ic()]).then(function(){a.u.off();return a.u.Le()})},
Rb:function(a){var c=this.u.em(a);return 90===c||270===c?this.u.Sb(a):this.u.Rb(a)},Sb:function(a){var c=this.u.em(a);return 90===c||270===c?this.u.Rb(a):this.u.Sb(a)},mf:function(a){return this.u.mf(a)},ad:function(){return this.oa},aI:function(a){this.xz=a},Yl:function(){return this.W},mq:function(b,c){a.k.Wa.mq(b,c)},hd:function(a){"undefined"!==typeof a.enableAnnotations&&(this.Pl=a.enableAnnotations?!0:!1);"undefined"!==typeof a.annotMode&&(this.ED=a.annotMode?!0:!1)},ig:function(){return this.K.sf},
Zy:function(){return this.margin},cI:function(a){this.margin=a},hp:function(){return this.K.hp()},pI:function(a){this.YA=a},NF:function(){return this.la},zc:function(a){return _.isUndefined(a)?this.K.mp:this.K.vd(a-1).rotation},kf:function(a){var c=this.zc(a);if(_.isUndefined(a))return c;a=this.Vo(a)/90;return(c+a)%4},mI:function(a,c){var d;0<=a&&(3>=a&&(_.isUndefined(c)?(this.K.Hu(a),this.K.bE()):(d=c-1,this.K.Qm(d,a)),this.rotate(d)))},Vo:function(a){a-=1;return 0>a||_.isNaN(a)?0:this.u.em?this.u.em(a):
0},gI:function(a){var c=this;Object.keys(a).forEach(function(d){c.K.Qm(d,a[d])});this.El(this.be(),void 0,void 0,!0)},AF:function(){return this.K.oF()},getDocument:function(){return this.u},mz:function(a){var c=null;this.Ha.Me&&(c=this.W.Pb(),c=c.jm(a,c.kn(this.Ha.Zd,this.Ha.Zd)));return c},Yg:function(b){var c=this.u.Jc(b),d=this.lb(b),e=this.W.dk(b),f,m=this.mz(b);m&&(f=m.vu,e=m.Zu);return a.k.Wa.Yg(b,{width:c.width,height:c.height},d,this.zc(b+1),e,f,this.Vo(b+1)/90)},jF:function(){return this.be},
xt:function(){return this.tA},lI:function(a){this.tA=a},BE:function(a){a.url?this.UK(a.url):a.isValid()?this.Ml(a.Di,a.Ok,a.gk):console.warn("Tried to go to invalid bookmark destination")},Ml:function(a,c,d){if(this.W.Pb().Bk){this.wd(a);var e=this.Sb(a-1),f=this.Rb(a-1);a=this.W.ed({x:d>e?0:0>d?0:d,y:c>f?0:0>c?0:c},a-1);c=this.dc().offset();this.scrollTo(a.x-c.left,a.y-c.top)}else this.trigger("displayPageLocation",[a,c,d])},scrollTo:function(a,c){this.dc().scrollLeft(a).scrollTop(c)},II:function(a,
c,d){this.Qz=a;this.Pz=c;this.$t=!0;this.Oz=d},LI:function(a){var c=!1;if(null===this.bu||this.bu!==a)c=!0;if(null===this.loop||!0===this.loop)c=!0;this.bu=a;this.Mc!==this.sc&&(this.Mc=this.sc,c=!0);return c},aB:function(a,c,d,e){d=d||!1;for(var n=this,m=!0,l=0;l<a.length;++l){var p=a.charCodeAt(l);if(!(1424<=p&&1535>=p||(1536<=p&&1791>=p||(1872<=p&&1919>=p||(64336<=p&&65023>=p||65136<=p&&65279>=p))))){m=!1;break}}m&&(a=a.split("").reverse().join(""));n.KL=n.sc;if(!0===this.xp)this.II(a,c,d);else{m=
d?function(){}:function(a){a.aq===f.vb.Nl?n.jy(a):a.aq===f.vb.Vg&&n.trigger("notify","endOfDocumentSearch")};e=e||m;if(d||this.LI(a))d?(m=this.Mc=0,l=this.u.numPages-1):0<(c&f.wb.Qs)?(l=!0===this.loop?this.u.numPages-1:this.Mc,m=0):(m=!0===this.loop?0:this.Mc,l=this.u.numPages-1),this.Tm.PD(this.u,a,c,m,l);this.Tm.setMode(c);this.NI(d,e)}},NI:function(a,c){function d(){function g(){l=[];m=n.Tm.run(l);q=m.aq;m.CL=l;var d=m;d.ambient_str=m.Fx;d.result_str=m.zu;d.result_str_start=m.sA;d.result_str_end=
m.rA;d.page_num=m.lu;d.resultCode=q;d.quads=l;if(q===f.vb.Lo){if(n.Tm.uf()?0<n.Mc&&n.Mc--:n.Mc<n.u.numPages-1&&n.Mc++,!0===n.$t){n.$t=!1;n.xp=!1;setTimeout(function(){n.aB(n.Qz,n.Pz,n.Oz,c)},0);return}}else q===f.vb.Nl?(n.K.zs(),n.K.EA(m.lu,m.zu)):q!==f.vb.Vg||(a||(n.loop=!0));c(d);q===f.vb.Vg||!a&&q===f.vb.Nl?n.xp=!1:null!==n.u.ez(n.Mc)?setTimeout(g,0):n.u.fe(n.Mc,e)}var q=-1;null!==n.u.ez(n.Mc)?setTimeout(g,0):n.u.fe(n.Mc,e)}function e(a){p===n.u&&(n.u.hI(n.Mc,a),d())}var n=this;this.xp=!0;!0===
this.loop&&(n.Mc=this.Tm.uf()?this.u.numPages-1:0,this.loop=!1);var m,l=[],p=this.u;d()},Fz:function(a,c){a!==this.sc&&this.wd(a+1);if(0<c.length){c=c.map(function(a){return a.pf?a.pf():a});for(var d=c[0].y4,e=c[0].x4,f=c[0].y2,m=c[0].x2,l=1;l<c.length;l++)c[l].x4<e&&(e=c[l].x4),c[l].y4<d&&(d=c[l].y4),c[l].x2>m&&(m=c[l].x2),c[l].y2>f&&(f=c[l].y2);var l=this.dc(),p=l.scrollTop(),r=p+l.innerHeight(),q=l.scrollLeft(),s=q+l.innerWidth(),d=this.W.ed({x:e,y:d},a),u=this.W.ed({x:m,y:f},a),m=d.x<u.x?d.x:
u.x,f=d.y<u.y?d.y:u.y,e=d.x>u.x?d.x:u.x,d=d.y>u.y?d.y:u.y;if(m<q||(f<p||(e>s||d>r)))p=e-m,r=d-f,p=m-l.innerWidth()/2+p/2-l.offset().left,l=f-l.innerHeight()/2+r/2-l.offset().top,this.scrollTo(p,l)}},jy:function(a,c){this.Bs();var d=a.page_num;this.K.ys();this.K.FA(d,a.quads);"undefined"!==typeof c?c(d,a.quads):this.Fz(d,a.quads);this.Bu=!0;this.nm(d)},OH:function(a,c,d){var e=new f.Ba;e.Ya(c.x,c.y,c.x+1,c.y+1);var n=this,m=new f.vn(this.u),l=this.u;l.fe(a,function(){l===n.u&&(m.uD(a,e),d(a,m.Md(),
m.Qa))})},Dk:function(a,c,d){if(c.constructor!==f.Ba){var e=new f.Ba;e.Ya(c.x1,c.y1,c.x2,c.y2);c=e}var n=this,m=new f.vn(this.u),l=this.u;l.fe(a,function(){if(l===n.u){"rectangular"===Tools.Cb.SELECTION_MODE?m.PH(a,c):m.NH(a,c);var e=m.Qa,f=m.Md();d&&d(a,f,e)}})},Sp:function(a,c,d){this.Bu=!1;this.K.EA(a,d);this.K.FA(a,c);this.trigger("textSelected",[c,d,a]);this.Bs();this.bG()},IE:function(a){this.nm(a-1)},nm:function(a){var c=this.K.vd(a).Kk;if(c&&0!==c.length){var d=this.Yg(a);if(null!==d){for(var d=
d.getContext("2d"),e=0;e<c.length;e++){var f=c[e];f.pf&&(f=f.pf());d.fillStyle=this.YA;d.beginPath();d.moveTo(f.x1,f.y1);d.lineTo(f.x2,f.y2);d.lineTo(f.x3,f.y3);d.lineTo(f.x4,f.y4);d.closePath();d.fill()}if(!this.Bu){var e={Md:function(){return c.map(function(a){return a.pf()})}},f=this.K.rt(),m=!1,l=!1;a===f[0]&&(m=!0);a===f[f.length-1]&&(l=!0);d.save();(new Annotations.Gh(e,!0,!1,m,l)).draw(d,e,this.lb(a));d.restore()}}}},bG:function(){var a=this;this.K.rt().forEach(function(c){a.nm(c)})},select:function(a,
c){if(null!==this.Kc&&null!==this.tb||(a||c)){this.K.zs();var d;a&&c?(a.Lc=a.pageIndex,a.x=a.x,a.y=a.y,c.Lc=c.pageIndex,c.x=c.x,c.y=c.y,d={first:a.Lc,last:c.Lc}):(console.error("deprecated"),d=this.W.gp());var e=d.first;d=d.last;if(null!==e&&null!==d){var n=new f.Ba,m=a?a:this.W.Ui(this.Kc,e),l=c?c:this.W.Ui(this.tb,e),p;m.y>l.y&&(p=m,m=l,l=p);p=this.Sb(e);var r=this.Rb(e);1<=d-e?n.Ya(m.x,m.y,p,r):n.Ya(m.x,m.y,l.x,l.y);this.Dk(e,n,_.bind(this.Sp,this));for(m=e+1;m<d;m++)n=new f.Ba,p=this.Sb(m),r=
this.Rb(m),n.Ya(0,0,p,r),this.Dk(m,n,_.bind(this.Sp,this));e!==d&&(m=a?a:this.W.Ui(this.Kc,d),l=c?c:this.W.Ui(this.tb,d),m.y>l.y&&(l=m),n=new f.Ba,n.Ya(0,0,l.x,l.y),this.Dk(d,n,_.bind(this.Sp,this)))}}},Sx:function(b){if(0!==this.hp().length||0!==this.K.rt().length){var c=this.Yg(b);null!==c&&(a.k.Wa.vs(c,this.Sb(b),this.Rb(b)),this.Pl&&this.oa.bc(b+1))}},Bs:function(){var a=this;this.Ha.nc.forEach(function(c){a.Sx(c)})},Rx:function(){this.K.zs();this.K.ys()},As:function(){this.Bs();this.Rx();this.trigger("textSelected",
[null,""])},JF:function(b,c){var d=this.lb(c),e=this.kf(c+1);b=a.Qc(d,e,{width:this.Sb(c),height:this.Rb(c)},null,!1).O(b);return{x:b.x,y:b.y}},KF:function(b,c){var d=this.lb(c),e=this.zc(c+1);b=a.Qc(d,e,this.u.Jc(c),0,!1).O(b);return{x:b.x,y:b.y}},Se:{Pq:function(){var a=this.fp(),c=this.dc(),d;d=1===this.W.Pb().rb?this.K.vd(this.sc).width:this.W.Sj().wa()/this.ig();return parseFloat(c.innerWidth()-a-this.margin*this.W.Pb().rb*2)/(d+1)},rv:function(){var a=this.dc(),c=this.K.vd(this.sc),d=parseFloat(a.innerHeight()-
2*this.margin)/c.height,c=1===this.W.Pb().rb?c.width:this.W.Sj().wa()/this.ig(),a=parseFloat(a.innerWidth()-this.fp()-this.margin*this.W.Pb().rb*2)/(c+1);return d<a?d:a},Zoom:function(){this.Ex();return this.K.sf}},qI:function(a){if(a&&this.la!==a){this.As();var c;this.la&&(this.la.switchOut&&this.la.switchOut(a),c=this.la);a.switchIn&&a.switchIn(this.la);this.la=a;this.trigger("toolModeUpdated",[a,c])}},hJ:function(){var a=this.dc();this.wA=parseFloat(a.scrollTop())/a[0].scrollHeight;this.vA=parseFloat(a.scrollLeft()+
a.innerWidth()/2)/a[0].scrollWidth},gJ:function(){var a=this.dc(),c=this.wA*a[0].scrollHeight,a=this.vA*a[0].scrollWidth-a.innerWidth()/2;this.scrollTo(a,c)},Gu:function(b){null===this.u?(this.be=b,this.trigger("fitModeUpdated",this.be)):(b=this.fo(b),this.W.Pb().mode===a.k.ld.Bf?this.K.sh(b):b!==this.K.sf&&(this.El(b),this.rs()))},fo:function(a){this.be=a;a=this.be();this.trigger("fitModeUpdated",this.be);return a},rotate:function(a){var c;_.isUndefined(a)||(c=a+1);this.El(this.be(),void 0,void 0,
!0);this.trigger("rotationUpdated",[this.kf(c),c])},fk:function(a,c){return c?(a+1)%4:(a-1+4)%4},EH:function(a){var c=this,d;_.isUndefined(a)?(this.K.Hu(this.fk(this.zc(),!0)),this.K.Ey(function(a){a.rotation=c.fk(a.rotation,!0)})):(d=a-1,this.K.Qm(d,this.fk(this.zc(a),!0)));this.rotate(d)},FH:function(a){var c=this,d;_.isUndefined(a)?(this.K.Hu(this.fk(this.zc(),!1)),this.K.Ey(function(a){a.rotation=c.fk(a.rotation,!1)})):(d=a-1,this.K.Qm(d,this.fk(this.zc(a),!1)));this.rotate(d)},El:function(a,
c,d,e){this.K.sh(a);this.W.Pb().Bk&&("undefined"!==typeof c&&"undefined"!==typeof d?(this.Ii(),this.W.ug(),this.W.Ke(),this.scrollTo(c,d)):(this.hJ(),this.Ii(!1,e),this.W.ug(),this.W.Ke(),this.gJ()),this.Ha.us(),this.Mk(),this.trigger("zoomUpdated",this.K.sf))},hv:function(a,c,d){this.fo(this.Se.Zoom);null===this.u?(this.K.sh(a),this.trigger("zoomUpdated",a)):this.El(a,c,d)},zJ:function(a,c,d){this.fo(this.Se.Zoom);this.K.sh(a);a=this.dc();c=this.tb.x-c;d=this.tb.y-d;var e=(parseFloat(a.scrollTop())+
d)/a[0].scrollHeight,f=(parseFloat(a.scrollLeft())+c)/a[0].scrollWidth;this.Ii();this.W.ug();this.W.Ke();this.scrollTo(f*a[0].scrollWidth-c,e*a[0].scrollHeight-d);this.Mk();this.trigger("zoomUpdated",this.K.sf)},lb:function(a){return this.K.vd(a).zoom},Lu:function(a,c){var d=this.K.eg(a);this.Ha.AJ(d);this.K.Lu(a,c)},Ii:function(b,c){this.Ha.iE(this.K.sf,c);this.links=[];if(this.W.Pb().mode!==a.k.ld.Bf){var d=this.Ha.nc;if(c)this.K.cE();else for(var e=0;e<d.length;e++){var f=d[e],m;m=this.nB?$("#pageContainer"+
f).find("#hrthumb"+f):$("#pageContainer"+f).find(".canvas"+f+":not(.progressive)");0<m.length&&this.K.DA(f,m)}}this.W.Lm(!b)},xH:function(a){if(this.W.Pb().Bk){var c=$("#pageContainer"+a);c.children().detach();c.addClass("loading")}a in this.links&&delete this.links[a]},Tr:function(a){if(0>a||a>=this.K.J.length)return!1;this.sc!==a&&(this.sc=a,this.trigger("pageNumberUpdated",a+1));return!0},wd:function(b){if(!this.W.Pb().Bk)this.trigger("changePage",b);else if(!1!==this.Tr(parseInt(b,10)-1)){this.Zx=
!0;b=this.sc;var c=this.W.Pb();c.Lt()||(c.mode===a.k.ld.Bf||(this.W.Pb().mode===a.k.ld.gn&&b++,c.Hc=Math.floor(parseFloat(b)/c.rb),c.mc=c.Hc,c.xe=c.Hc+1,this.W.ug(),this.W.Ke()));b=this.u.Jc(this.sc);var c=this.W.ed({x:0,y:0},this.sc),d=this.W.ed({x:b.width,y:b.height},this.sc);b=c.x<d.x?c.x:d.x;c=c.y<d.y?c.y:d.y;d=this.dc().offset();this.scrollTo(b-d.left,c-this.margin-d.top);this.Mk()}},mi:function(){return this.sc+1},ud:function(){return this.u.numPages},fH:function(a){this.u.print(a)},DE:function(){this.wd(this.K.J.length)},
CE:function(){this.wd(1)},Ex:function(a){a=a||this.W.Sj().va();var c=0,d=document.getElementById("docpad");if(null!==d){var e=this.LF(),e=e?parseFloat(e.style.height):0;e>a&&(c=Math.floor((e-a)/2));d.style.marginBottom=parseInt(c,10)+"px"}},JD:function(b,c){var d=this.lb(c),e=this.K.vd(c),f=this.zc(c+1),m=e.width*d,d=e.height*d,e=null;f===a.k.sa.$c||f===a.k.sa.Jd?(e="rotate("+90*f+"deg)",e=f===a.k.sa.$c?" translate("+m+"px, 0)  "+e:" translate(0,"+d+"px)  "+e,b.css("height",m),b.css("width",d)):(f===
a.k.sa.ki&&(e="translate("+m+"px,"+d+"px) scale(-1,-1)"),b.css("width",m),b.css("height",d));null!==e&&b.css({position:"absolute",transform:e,"transform-origin":"top left","ms-transform":e,"ms-transform-origin":"top left","-moz-transform":e,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":e,"-o-transform":e,"-o-transform-origin":"top left"})},Ix:function(b,c,d,e){b.id=(e?"hrthumb":"thumb")+c;b.style.position="absolute";var f=$(b);this.JD(f,c);d&&(f.css("z-index",
e?"10":"7"),d=$("#pageContainer"+c),0<d.length?0===d.find("#"+b.id).length&&d.prepend(b):a.utils.warn("appendThumb: Page container "+c+" missing"))},Vj:function(a){this.qo(a);this.Sx(a);this.lE(a);this.oa&&(this.cJ(a),this.oa.bc(a+1,void 0,!0));this.nm(a)},Jl:function(b,c){var d=a.k.Wa.Jl(b,c);d||a.utils.warn("appendAllCanvas: Page container for page "+c+" does not exist.");return d},qo:function(b){var c,d=this.mz(b);d&&(c=d.vu);var d=this.u.Jc(b),e=this.Vo(b+1);if(90===e||270===e)e=d.width,d.width=
d.height,d.height=e;a.k.Wa.qo(b,d,this.lb(b),this.kf(b+1),c)},cq:function(b,c){a.k.Wa.cq(b,c)},lE:function(b){var c=this.u.Jc(b),d=c.width,c=c.height,e=this.u.em(b);if(90===e||270===e)e=d,d=c,c=e;var e=this.lb(b)/a.utils.getCanvasMultiplier(),d=d*e,c=c*e,f=a.Qc(1,this.kf(b+1),{width:d,height:c}),e=$("#pageWidgetContainer"+b);0===e.length&&(e=$('<div id="pageWidgetContainer'+b+'" />'),a.k.Wa.nz(b).append(e));f="matrix("+f.m_a.toFixed(10)+","+f.m_b.toFixed(10)+","+f.m_c.toFixed(10)+","+f.m_d.toFixed(10)+
","+f.m_h.toFixed(10)+","+f.m_v.toFixed(10)+")";b=this.W.st(b);e.css({position:"absolute",top:b.y,left:b.x,width:d,height:c,"z-index":40,transform:f,"transform-origin":"top left","-webkit-transform":f,"-webkit-transform-origin":"top left","-ms-transform":f,"-ms-transform-origin":"top left","-moz-transform":f,"-moz-transform-origin":"top left",overflow:"hidden"});return e},cm:function(a){return this.K.vd(a)},tH:function(){this.trigger("layoutChanged",{contentChanged:_.range(1,this.ud()+1),removed:[],
added:[],moved:{}});this.Ha.us()},uH:function(a){this.trigger("layoutChanged",{contentChanged:[a],removed:[],added:[],moved:{}});this.Ha.sm(this.cm(a-1).id)},cJ:function(a){a=this.u.yF(a);_.isArray(a)&&this.oa.Lj(a,!0)},Mk:function(a,c){_.isUndefined(c)||this.Tr(c);this.Nk(a);this.Ha.Is(a)},Nk:function(a){a=a||this.W.Nd();var c=this.Ha.MD(a);this.Ha.Nk(a);c&&this.trigger("visiblePagesChanged",[a])},Jk:function(a){this.Ha.Jk(a)},onscroll:function(){this.u&&this.ph.je("DocumentViewer.renderRequest",
{type:"pages",useVisiblePages:!0,check:!0})},$F:function(a){return 0<$("#pageContainer"+a).find("#thumb"+a).length},YF:function(a){return 0<$("#pageContainer"+a).find("#hrthumb"+a).length},bJ:function(){if(this.Zx)this.Zx=!1;else{var b=0,c;this.Nk();for(var d=this.Ha.nc,e=0;e<d.length;e++){var f=this.dc(),m=f.scrollTop(),l=m+f.innerHeight(),p=f.scrollLeft(),f=p+f.innerWidth(),l={x1:p,y1:m,x2:f,y2:l},f=d[e];0>f||(m=this.u.Jc(f),p=this.W.ed({x:0,y:0},f),f=this.W.ed({x:m.width,y:m.height},f),l=a.utils.getRectIntersection(l,
{x1:p.x<f.x?p.x:f.x,y1:p.y<f.y?p.y:f.y,x2:p.x>f.x?p.x:f.x,y2:p.y>f.y?p.y:f.y}),m=parseFloat((l.x2-l.x1)*(l.y2-l.y1))/(m.width*m.height),m>b&&(c=d[e],b=m))}0<b&&this.Tr(c)}},Qu:function(a){this.Ha.Qu(a)},HA:function(){}};$.extend(d.ca.prototype,a.utils.eventHandler);Object.defineProperty(d.ca.prototype,"zoom",{get:function(){return this.ig()},set:function(a){this.K.sh(a)}});a.k=a.k||{}})(window);window.k.ca.prototype.version="2.2.0.42827";
(function(a){var e=a.Annotations||{};a.Annotations=e;e.N=e.N||{};e.N.Xk=function(a){this.$a={};this.xo=[];this.oa=a;this.Cr=!1;this.Tu=this.Gw=!0};e.N.Xk.prototype={Du:function(a){this.xo=a},kb:function(a){if(!a)return null;a=a.split(".");var e=this.$a[a[0]];if(e)for(var b=1;b<a.length&&(e=e.jt(a[b]),e);++b);return e?e:null},bs:function(a,f){if(f){var b=this.cp(a.name);b.set(a);a=b;a.widgets.forEach(function(b){b.BA(a)})}else b=a.name.split("."),1===b.length?this.$a[a.name]=a:(b=b.slice(0,-1).join("."),
this.cp(b).yx(new e.N.aa(a.name,a)));a.set({fieldManager:this});this.oa&&a.zf(this.oa.o);a.off("change");a.on("change",_.bind(this.Ts,this));return a},uo:function(a,e){if(!this.Cr&&this.Tu){this.Cr=!0;var b=this.xo;if(!e||this.Gw)e=0,this.Gw=!1;for(var c=e;c<b.length;++c){var g=b[c],h=this.kb(g);h?h.trigger("calculate",[a]):console.warn("Non-existent field referenced in calculation order",g,h)}this.Cr=!1}},Ts:function(a,e){var b=this.xo.indexOf(e.name);-1===b&&(b=0);this.uo(e,b)},cp:function(d){if(!d)return null;
d=d.split(".");var e=this.$a[d[0]];e||(e=new a.Annotations.N.aa(d[0],{fieldManager:this}),e.on("change",_.bind(this.Ts,this)),this.$a[d[0]]=e);for(var b=1;b<d.length;++b){var c=d[b],g=e.jt(c);g?e=g:(g=new a.Annotations.N.aa(e.name+"."+c,{fieldManager:this}),e.yx(g),e=g,e.on("change",_.bind(this.Ts,this)))}this.oa&&e.zf(this.oa.o);return e},Wm:function(a){this.$s(function(e){e.mB(a)})},$s:function(a){var e=this;Object.keys(this.$a).forEach(function(b){a(e.$a[b])})},Ic:function(){this.$s(function(a){a.off()})}}})(window);
(function(a){a.Annotations||(a.Annotations={});var e=a.Annotations;e.N=e.N||{};e.N.aa=function(d,f){if(f instanceof e.N.aa)return f;a.Actions.Cf.call(this,f);this.bf=d;this.Ud=[];this.ve=[];this.Th=!1;this.ye=null;this.yj=new e.Df;this.Db=new e.Ig({mask:["ReadOnly","Required","NoExport"]});this.Pf=-1;this.Eb||(this.Eb=new e.N.aa.ub(this));this.initialize(f);this.on("calculate",_.bind(this.uo,this));this.on("commit",_.bind(this.Cs,this))};e.N.aa.prototype={initialize:function(a){_.isObject(a)&&(a.type&&
this.JA(a.type),_.isArray(a.children)&&$.extend(this.Ud,a.children),a.widgets&&$.extend(this.ve,a.widgets),a.fieldManager&&(this.ye=a.fieldManager),a.font&&this.yj.set(a.font),_.isUndefined(a.maxLen)||(this.Pf=Number(a.maxLen)),this.Eb.set(a))},set:function(a){this.initialize(a);_.isObject(a)&&(_.isObject(a.actions)&&this.ko(a.actions))},Fy:function(a){this.ve.forEach(a)},JA:function(a){"Tx"===a?this.Eb=new e.N.aa.ar(this,this.Eb):"Ch"===a?this.Eb=new e.N.aa.Iq(this,this.Eb):"Btn"===a?this.Eb=new e.N.aa.Eq(this,
this.Eb):"Sig"===a?this.Eb=new e.N.aa.$q(this,this.Eb):console.warn("Unrecognised field type: "+a);this.io=a},tg:function(a){this.ve.forEach(function(e){e.tg(a)})},Ny:function(){return this.Ud},qG:function(){return 0===this.Ud.length},CD:function(d,e){if(-1===this.ve.indexOf(d))if(_.isUndefined(e))this.ve.push(d);else{this.ve[e]=d;for(var b=0;b<this.ve.length;++b)this.ve[b]||(this.ve[b]=new a.Annotations.ta(this,{}))}},De:function(a){this.Eb.De(a)},mb:function(a,e){this.Eb.mb(a,e)},Ma:function(){return this.Eb.Ma()},
Zl:function(){return this.Eb.Zl()},hd:function(a){this.Eb.hd(a)},lo:function(a,e){this.Eb.lo(a,e)},dg:function(){return this.Eb.dg()},hq:function(a){this.Eb.hq(a)},Xl:function(){return this.Eb.Xl()},ut:function(){var a=this.bf.split(".");return a[a.length-1]},mB:function(a,e){var b=this.ut();(e=(e?e+".":"")+b)||(e="");if(this.qG()){if(a.Np){var c=!0;a.Mo&&(a.Mo(this)||(c=!1));c&&a.Np(e,b,this)}}else{var g;a.Mo?(g=[],this.Ud.forEach(function(b){a.Mo(b)&&g.push(b)})):g=this.Ud;0<g.length&&(a.fu&&a.fu(e,
b,this),g.forEach(function(b){b.mB(a,e)}),a.Sz&&a.Sz())}},jt:function(a){for(var e=this.Ud,b=e.length,c=0;c<b;++c){var g=e[c];if(g.ut()===a)return g}if(a.match(/^\d+$/))return this.ve[parseInt(a)]},removeChild:function(a){a=this.Ud.indexOf(a);-1!==a&&this.Ud.splice(a,1)},yx:function(a){var e=this.jt(a.ut());e&&this.removeChild(e);this.Ud.push(a)},pA:function(){this.mb(this.Xl())},uo:function(d,e){var b=new a.Annotations.N.Bb.Events.aa.create("Calculate",this,{value:this.value,source:e,rc:!0}),c=this.Ma();
this.Rd("C",b);var g=this.jL;this.Pf=-1;b.rc&&(b.value!==c&&this.mb(b.value));this.Pf=g},su:function(){this.Fy(function(a){a.refresh()})},Cs:function(d,e,b){d=new a.Annotations.N.Bb.Events.aa.create("Validate",this,{value:e});this.Rd("V",d);d.rc&&this.mb(d.value,b)},xd:function(a){this.Eb.xd(a)}};$.extend(e.N.aa.prototype,Object.create(a.utils.eventHandler));Object.defineProperties(e.N.aa.prototype,{name:{get:function(){return this.bf}},value:{get:function(){return this.Ma()},set:function(a){this.mb(a)}},
widgets:{get:function(){return this.ve}},children:{get:function(){return this.Ud}},options:{get:function(){return this.dg()},set:function(a){this.hd(a)}},exportValue:{get:function(){return this.Zl()}},actions:{get:function(){return this.li()}},defaultValue:{get:function(){return this.Xl()},set:function(a){this.hq(a)}},flags:{get:function(){return this.Eb.Db}},IsModified:{set:function(a){a!==this.Th&&this.Ud.forEach(function(e){e.IsModified=a});this.Th=a},get:function(){return this.Th||this.Ud.reduce(function(a,
e){return a||e.IsModified},!1)}},font:{get:function(){return this.yj}},maxLen:{get:function(){return this.Pf},set:function(a){this.Pf=Number(a);-1!==this.Pf&&this.mb(this.Ma())}},type:{get:function(){return this.io}}});$.extend(e.N.aa.prototype,a.Actions.Cf.prototype);e.N.aa.ub=function(a){this.Ka=a;this._value=this.ur=null;this.Db=new e.Ig({mask:["ReadOnly","Required","NoExport"]})};e.N.aa.ub.prototype={mb:function(a,e){var b=this.Ka,c=this._value!==a;this.xd(a);c&&(a=this._value,this.Pu(a,e),b.IsModified=
!0,b.trigger("change",[b]))},Pu:function(a){this.Ka.Fy(function(e){e.mb(a)})},xd:function(a){this._value=a},De:function(a){this.xd(a)},set:function(a){_.isObject(a)&&(a.value&&(this._value=a.value),a.defaultValue&&(this.ur=a.defaultValue),a.flags&&(_.isArray(a.flags)?this.Db.set(a.flags,!0):_.isObject(a.flags)&&this.Db.set(a.flags.toArray(),!0)))},Ma:function(){return this._value},Xl:function(){return this.ur},hq:function(a){this.ur=a},lo:function(){},dg:function(){return null},hd:function(){},Zl:function(){return this._value}};
Object.defineProperties(e.N.aa.ub.prototype,{value:{get:function(){return this.Ma()},set:function(a){this.mb(a)}},defaultValue:{get:function(){return this.Xl()},set:function(a){this.hq(a)}}});e.N.aa.ar=function(a,f){if(f instanceof e.N.aa.ar)return f;e.N.aa.ub.call(this,a);this.Db.Tl("Multiline Password FileSelect DoNotSpellCheck DoNotScroll Comb RichText".split(" "));this.set(f)};e.N.aa.ar.prototype=$.extend(Object.create(e.N.aa.ub.prototype),{xd:function(a){var f=this.Ka.maxLen;-1===f||(_.isNull(a)||
(a=String(a),a.length>f&&(a=a.slice(0,f))));e.N.aa.ub.prototype.xd.call(this,a)}});e.N.aa.Iq=function(a,f){if(f instanceof e.N.aa.Iq)return f;e.N.aa.ub.call(this,a);this.Db.Tl("Combo Edit Sort MultiSelect DoNotSpellCheck CommitOnSelChange".split(" "));this.Xd=[];this.set(f)};e.N.aa.Iq.prototype=$.extend(Object.create(e.N.aa.ub.prototype),{set:function(a){_.isObject(a)&&(a.options&&this.hd(a.options));e.N.aa.ub.prototype.set.call(this,a)},xF:function(a){for(var e=0;e<this.Xd.length;++e){var b=this.Xd[e];
if(b.value===a)return b}return null},xd:function(a){this.Db.get("Edit")||!_.isNull(this.xF(a))?e.N.aa.ub.prototype.xd.call(this,a):(a=this.Xd[0])?e.N.aa.ub.prototype.xd.call(this,a.value):e.N.aa.ub.prototype.xd.call(this,null)},dg:function(){return this.Xd},lo:function(a,e){for(var b=this.Xd,c=0;c<b.length;++c)if(b[c].value===b.value)return;this.Xd.splice(e,0,a);this.Db.get("Combo")||this.mb(a.value)},hd:function(a){this.Xd=a.map(function(a){var b=a.value;a=a.displayValue;return{value:b,displayValue:_.isUndefined(a)?
b:a}})}});e.N.aa.Eq=function(a,f){if(f instanceof e.N.aa.Eq)return f;e.N.aa.ub.call(this,a);this.Db.Tl(["NoToggleToOff","Radio","PushButton","RadiosInUnison"]);this.Xd=null;this.set(f)};e.N.aa.Eq.prototype=$.extend(Object.create(e.N.aa.ub.prototype),{set:function(a){e.N.aa.ub.prototype.set.call(this,a);_.isObject(a)&&(a.options&&this.hd(a.options))},dg:function(){return this.Xd},De:function(a){(null===this._value||("Off"!==a||this.Ka.widgets.every(function(a){return!a.appearance})))&&e.N.aa.ub.prototype.De.call(this,
a)},xd:function(a){"Off"!==a?e.N.aa.ub.prototype.xd.call(this,a):this.Db.get("NoToggleToOff")&&this.Db.get("Radio")||e.N.aa.ub.prototype.xd.call(this,a)},Zl:function(){return this.Xd?this.Xd[Number(this.Ma())]:e.N.aa.ub.prototype.Zl.call(this)},hd:function(a){this.Xd=a.slice()},Pu:function(a,f){e.N.aa.ub.prototype.Pu.call(this,a,f)}});e.N.aa.$q=function(a,f){if(f instanceof e.N.aa.$q)return f;e.N.aa.ub.call(this,a);this.set(f)};e.N.aa.$q.prototype=$.extend(Object.create(e.N.aa.ub.prototype),{})})(window);
(function(a){function e(a){return _.isArray(a)?a.map(e).join(" "):_.isNumber(a)?a.toString():_.escape(String(a))}function d(a,b,c,d){c!==d&&a.writeAttributeString(b,e(c))}function f(a,b,c){var f=c.Mm||[];c=c.tk||{};for(var g=0;g<f.length;++g){var h=f[g],m=b[h];_.isUndefined(b)?console.warn("Required attribute: "+h+" is undefined"):a.writeAttributeString(h,e(m))}for(var n in c)c.hasOwnProperty(n)&&d(a,n,b[n],c[n])}function b(a,b,g,h){h=h||"actions";var m=Object.keys(b);if(0<m.length){a.writeStartElement(h);
for(h=0;h<m.length;++h)a.writeStartElement("action"),a.writeAttributeString("trigger",_.escape(m[h])),b[m[h]].forEach(function(b){var h=b.name;switch(h){case "JavaScript":a.writeStartElement("javascript");a.writeString(e(b.javascript));a.writeEndElement();break;case "ResetForm":a.writeStartElement("reset-form");f(a,b,{Mm:["exclude"]});b.fields&&c(a,b.fields);a.writeEndElement();break;case "SubmitForm":a.writeStartElement("submit-form");f(a,b,{Mm:["url","format"],tk:{method:"POST",exclude:!1}});h=
b.flags.toArray();0<h.length&&a.writeAttributeString("flags",e(h));b=b.fields;0<b.length&&c(a,b);a.writeEndElement();break;case "GoTo":a.writeStartElement("goto");a.writeStartElement("dest");b=b.dest;f(a,b,{Mm:["fit","page"],tk:{zoom:void 0}});var m=g(b.page).inverse(),h=b.top||0,n=b.left||0,q=b.bottom||0,p=b.right||0,n=m.O({x:n,y:h}),m=m.O({x:p,y:q}),h=_.isUndefined(b.top)?null:n.y,n=_.isUndefined(b.left)?null:n.x,p=_.isUndefined(b.right)?null:m.x,q=_.isUndefined(b.bottom)?null:m.y;d(a,"top",h,null);
d(a,"left",n,null);d(a,"right",p,null);d(a,"bottom",q,null);a.writeEndElement();a.writeEndElement();break;case "URI":a.writeStartElement("uri");f(a,b,{Mm:["uri"]});a.writeEndElement();break;case "Hide":a.writeStartElement("hide");f(a,b,{tk:{hide:!0}});c(a,b.fields);a.writeEndElement();break;case "Named":a.writeStartElement("named");a.writeAttributeString("name",_.escape(b.action));a.writeEndElement();break;default:console.warn("Unrecognised action name"+h)}}),a.writeEndElement();a.writeEndElement()}}
function c(a,b,c){c||(c="fields");a.writeStartElement(c);c=b.length;for(var d=0;d<c;++d){var e=a,f=b[d];e.writeStartElement("ffield");e.writeAttributeString("name",_.escape(f));e.writeEndElement()}a.writeEndElement()}function g(a,b,c,e){if(e||!b.Ez())a.writeStartElement(c),d(a,"r",b.R,0),d(a,"g",b.G,0),d(a,"b",b.B,0),d(a,"a",b.A,1),a.writeEndElement()}function h(a,b,c){if(b&&(0!==b.size||(""!==b.name||("Type1"!==b.type||!b.vi())))){a.writeStartElement("font");f(a,b,{tk:{type:"Type1",name:""}});var e=
b.size,h=c.inverse();c=h.O({x:0,y:0});h=h.O({x:e,y:0});e=c.x-h.x;c=c.y-h.y;d(a,"size",Math.sqrt(e*e+c*c),0);c=b.fillColor;c.vi()||g(a,c,"fill-color",!0);b=b.strokeColor;b.vi()||g(a,b,"stroke-color",!0);a.writeEndElement()}}function n(a,b,c){a.writeStartElement("aappearance");a.writeAttributeString("name",b);Object.keys(c).forEach(function(b){a.writeStartElement(b);a.writeString(e(c[b]||""));a.writeEndElement()});a.writeEndElement()}a.Ve=a.Ve||{};var m=a.Ve;m.parse=function(a,b,c,d){var e={calculationOrder:[],
widgets:[],fields:{},pages:[],documentActions:{}},f=a.ja();"pdf-info"!==f?(console.warn("pdf-info missing. found: "+f),c(e)):(f=a.v("version"),"1"===f?m.DC.parse(a,b,c,d):"2"===f?m.EC.parse(a,b,c,d):(console.warn("PDFInfo version is incorrect: "+f),c(e)))};m.write=function(a,m,r){a.writeStartElement("pdf-info");a.writeAttributeString("xmlns","http://www.pdftron.com/pdfinfo");a.writeAttributeString("version","2");var q=m.calculationOrder;_.isArray(q)&&(0<q.length&&c(a,q,"calculation-order"));b(a,m.documentActions,
r,"document-actions");q=m.pages;if(0<q.length){a.writeStartElement("pages");for(var s=0;s<q.length;++s){var u=a,v=q[s],w=r;u.writeStartElement("page");u.writeAttributeString("number",e(v.number));b(u,v.actions,w);u.writeEndElement()}a.writeEndElement()}s=m.fields;u=Object.keys(s);for(q=0;q<u.length;++q){var v=a,x=s[u[q]],w=r;v.writeStartElement("ffield");f(v,x,{tk:{quadding:"Left-justified"},Mm:["type","name"]});var A=x.flags.toArray();0<A.length&&v.writeAttributeString("flags",e(A));A=x.maxLen;-1!==
A&&v.writeAttributeString("max-len",e(A));b(v,x.li(),w);(A=x.defaultValue)&&v.writeElementString("default-value",e(A));h(v,x.font,w(1));w=v;if((x=x.options)&&0<x.length){w.writeStartElement("options");for(var A=x.length,B=0;B<A;++B){w.writeStartElement("option");var y=x[B].displayValue,z=x[B].value;y===z||(_.isUndefined(y)||w.writeAttributeString("display-value",e(y)));w.writeAttributeString("value",e(z));w.writeEndElement()}w.writeEndElement()}v.writeEndElement()}m=m.widgets;for(q=0;q<m.length;++q){s=
a;u=m[q];v=r;s.writeStartElement("widget");f(s,u,{tk:{appearance:"",rotation:0}});w=e;x=u;x=x.kb().widgets.indexOf(x);w=w(x);"0"!==w&&s.writeAttributeString("index",w);s.writeAttributeString("field",e(u.kb().name));w=u.flags.toArray();0<w.length&&s.writeAttributeString("flags",e(w));A=u.PageNumber;s.writeAttributeString("page",e(A));w=s;x=u.rect;A=v(A);w.writeStartElement("rect");B=A.inverse();A=B.O({x:x.x1,y:x.y1});x=B.O({x:x.x2,y:x.y2});B={};B.x1=_.min([A.x,x.x]);B.x2=_.max([A.x,x.x]);B.y1=_.min([A.y,
x.y]);B.y2=_.max([A.y,x.y]);w.writeAttributeString("x1",e(Number(Number(B.x1).toFixed(4))));w.writeAttributeString("x2",e(Number(Number(B.x2).toFixed(4))));w.writeAttributeString("y1",e(Number(Number(B.y1).toFixed(4))));w.writeAttributeString("y2",e(Number(Number(B.y2).toFixed(4))));w.writeEndElement();w=s;!(x=u.border)||(x.color.Ez()&&(1===x.width&&"Solid"===x.style)||(w.writeStartElement("border"),d(w,"width",x.width,1),d(w,"style",x.style,"Solid"),x=x.color,x.vi()||g(w,x,"color",!0),w.writeEndElement()));
g(s,u.backgroundColor,"background-color");b(s,u.li(),v);w=s;x=u.appearances;A=Object.keys(x);if(0<A.length){w.writeStartElement("appearances");B=A.length;for(y=0;y<B;++y)z=A[y],n(w,z,x[z]);w.writeEndElement()}w=s;x=u;x.WF()&&(w.writeStartElement("extra"),h(w,x.font,v(1)),w.writeEndElement());v=s;u=u.captions;w=u.Rollover;x=u.Down;if(u.Normal||(w||x))v.writeStartElement("captions"),d(v,"Normal",u.Normal,""),d(v,"Rollover",u.Rollover,""),d(v,"Down",u.Down,""),v.writeEndElement();s.writeEndElement()}a.writeEndElement()}})(window);
(function(a){function e(a){var b=[];for(a.ha();a.advance();){var c=a.ja();"field"===c?b.push(String(a.v("name"))):console.warn("unrecognised field list element: "+c)}a.pa();return b}function d(a,b){return b?"false"===a?!1:!0:"true"===a?!0:!1}function f(a,b){var c=a.ja();switch(c){case "javascript":return{name:"JavaScript",javascript:a.bd()};case "uri":return{name:"URI",uri:a.v("uri")};case "goto":c=null;a.ha();if(a.advance()){var f=a.v("fit"),c={page:a.v("page"),fit:f};if("0"===c.page)console.warn("null page encountered in dest");
else{var g=b(Number(c.page));switch(f){case "Fit":case "FitB":break;case "FitH":case "FitBH":c.top=g.O({x:0,y:a.v("top")||0}).y;break;case "FitV":case "FitBV":c.left=g.O({x:a.v("left")||0,y:0}).x;break;case "FitR":f=g.O({x:a.v("left")||0,y:a.v("top")||0});g=g.O({x:a.v("right")||0,y:a.v("bottom")||0});g=new Annotations.na(f.x,f.y,g.x,g.y);c.top=g.y1;c.left=g.x1;c.bottom=g.y2;c.right=g.x2;break;case "XYZ":f=g.O({x:a.v("left")||0,y:a.v("top")||0});c.top=f.y;c.left=f.x;c.zoom=a.v("zoom")||0;break;default:console.warn("unknown dest fit: "+
f)}}c={name:"GoTo",dest:c}}else console.mJ("missing dest in GoTo action");a.pa();return c;case "submit-form":c={name:"SubmitForm",url:a.v("url"),format:a.v("format"),method:a.v("method")||"POST",exclude:d(a.v("exclude"),!1)};g=a.v("flags");c.flags=g?g.split(" "):[];for(a.ha();a.advance();)switch(g=a.ja(),g){case "fields":c.fields=e(a);break;default:console.warn("unrecognised submit-form child: "+g)}a.pa();return c;case "reset-form":c={name:"ResetForm",exclude:d(a.v("exclude"),!1)};for(a.ha();a.advance();)switch(g=
a.ja(),g){case "fields":c.fields=e(a);break;default:console.warn("unrecognised reset-form child: "+g)}a.pa();return c;case "hide":c={name:"Hide",hide:d(a.v("hide"),!0)};for(a.ha();a.advance();)switch(g=a.ja(),g){case "fields":c.fields=e(a);break;default:console.warn("unrecognised hide child: "+g)}a.pa();return c;case "named":return{name:"Named",action:a.v("name")};default:console.warn("Encountered unexpected action type: "+c)}return null}function b(a,b,c){var d={};for(a.ha();a.advance();){var e=a.ja();
switch(e){case "action":e=a.v("trigger");if(b?-1!==b.indexOf(e):1){d[e]=[];for(a.ha();a.advance();){var g=f(a,c);_.isNull(g)||d[e].push(g)}a.pa()}else console.warn("encountered unexpected trigger on field: "+e);break;default:console.warn("encountered unknown action child: "+e)}}a.pa();return d}function c(a){return"calculation-order"===a.ja()?e(a):[]}function g(b){return new a.Annotations.Color(b.v("r")||0,b.v("g")||0,b.v("b")||0,b.v("a")||1)}function h(a,b){var c=a.v("name"),d=a.v("type")||"Type1",
e=a.v("size"),f=b.O({x:0,y:0}),h=b.O({x:Number(e),y:0}),e=f.x-h.x,f=f.y-h.y,c={name:c,type:d,size:Math.sqrt(e*e+f*f)||0,strokeColor:[0,0,0],fillColor:[0,0,0]};for(a.ha();a.advance();)switch(d=a.ja(),d){case "stroke-color":c.strokeColor=g(a);break;case "fill-color":c.fillColor=g(a);break;default:console.warn("unrecognised font child: "+d)}a.pa();return c}function n(a,c){var d={border:{style:"Solid",width:1},backgroundColor:[],fieldName:a.v("field"),page:a.v("page"),index:a.v("index")||0,rotation:a.v("rotation")||
0,flags:[]},e=a.v("appearance");e&&(d.appearance=e);(e=a.v("flags"))&&(d.flags=e.split(" "));for(a.ha();a.advance();)switch(e=a.ja(),e){case "rect":var e=d,f=a,m=c(Number(d.page)),l=m.O({x:f.v("x1")||0,y:f.v("y1")||0}),f=m.O({x:f.v("x2")||0,y:f.v("y2")||0}),l=new Annotations.na(l.x,l.y,f.x,f.y);l.normalize();e.rect={x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2};break;case "border":e=d;l=a;f={style:l.v("style")||"Solid",width:l.v("width")||1,color:[0,0,0]};for(l.ha();l.advance();)switch(m=l.ja(),m){case "color":f.color=
g(l);break;default:console.warn("unrecognised border child: "+m)}l.pa();e.border=f;break;case "background-color":d.backgroundColor=g(a);break;case "actions":d.actions=b(a,"E X D U Fo Bl PO PC PV PI".split(" "),c);break;case "appearances":e=d;l=a;f={};for(l.ha();l.advance();)if(m=l.ja(),"appearance"===m){var m=f,n=l.v("name"),p=l,r={};for(p.ha();p.advance();){var I=p.ja();switch(I){case "Normal":r.Normal=p.bd();break;default:console.warn("unexpected appearance state: ",I)}}p.pa();m[n]=r}else console.warn("unexpected appearances child: "+
m);l.pa();e.appearances=f;break;case "extra":e=a;l=c;f={};for(e.ha();e.advance();)switch(m=e.ja(),m){case "font":f.font=h(e,l(1));break;default:console.warn("unrecognised extra child: "+m)}e.pa();e=f;e.font&&(d.font=e.font);break;case "captions":e=d;f=a;l={};(m=f.v("Normal"))&&(l.Normal=m);(m=f.v("Rollover"))&&(l.Rollover=m);(f=f.v("Down"))&&(l.Down=f);e.captions=l;break;default:console.warn("unrecognised widget child: "+e)}a.pa();return d}function m(a){var b={value:a.v("value")};(a=a.v("display-value"))&&
(b.displayValue=a);return b}function l(c,d){var e=c.v("name"),f={type:c.v("type"),quadding:c.v("quadding")||"Left-justified",maxLen:c.v("max-len")||-1},g=c.v("flags");_.isString(g)&&(f.flags=g.split(" "));for(c.ha();c.advance();)switch(g=c.ja(),g){case "actions":f.actions=b(c,["C","F","K","V"],d);break;case "default-value":var g=f,l=c;l.ha();l.advance();var n=l.bd();l.pa();g.defaultValue=n;break;case "font":f.font=h(c,d);break;case "options":g=f;l=c;n=[];for(l.ha();l.advance();){var p=l.ja();switch(p){case "option":n.push(m(l));
break;default:console.warn("unrecognised options child: "+p)}}l.pa();g.options=n;break;default:console.warn("unknown field child: "+g)}c.pa();return new a.Annotations.N.aa(e,f)}function p(b,c){switch(b.type){case "Tx":return new a.Annotations.Ih(b,c);case "Ch":return b.flags.get("Combo")?new a.Annotations.zg(b,c):new a.Annotations.Cg(b,c);case "Btn":return b.flags.get("PushButton")?new a.Annotations.Bh(b,c):b.flags.get("Radio")?new a.Annotations.Ch(b,c):new a.Annotations.yg(b,c);case "Sig":return new a.Annotations.Eh(b,
c);default:console.warn("Unrecognised field type: "+b.type)}return null}function r(a,c){var d={number:a.v("number")};for(a.ha();a.advance();){var e=a.ja();switch(e){case "actions":d.actions=b(a,["O","C"],c);break;default:console.warn("unrecognised page child: "+e)}}a.pa();return d}a.Ve=a.Ve||{};a.Ve.DC={parse:function(d,e,f,g){var h=[],m={};d.ha();var A=[],B={},y=[];a.busyLoop(function(){var a,f;if(d.advance()){a=d.ja();switch(a){case "calculation-order":A=c(d);break;case "document-actions":B=b(d,
["Init","Open"],e);break;case "pages":a=[];for(d.ha();d.advance();)switch(f=d.ja(),f){case "page":a.push(r(d,e));break;default:console.warn("unrecognised page child: "+f)}d.pa();y=a;break;case "field":a=l(d,e(1));m[a.name]=a;break;case "widget":f=n(d,e);(a=m[f.fieldName])?(a=p(a,f),h.push(a)):console.warn("ignoring widget with no corresponding field data: "+f.fieldName);break;default:console.warn("Unknown element encountered in PDFInfo: "+a)}return!0}return!1},function(){d.pa();f({calculationOrder:A,
widgets:h,fields:m,documentActions:B,pages:y})},g)},WG:l,YG:n,Pp:c}})(window);
(function(a){function e(a){var b=[];for(a.ha();a.advance();){var c=a.ja();"ffield"===c?b.push(String(a.v("name"))):console.warn("unrecognised field list element: "+c)}a.pa();return b}function d(a,b){return b?"false"===a?!1:!0:"true"===a?!0:!1}function f(a,b){var c=a.ja();switch(c){case "javascript":return{name:"JavaScript",javascript:a.bd()};case "uri":return{name:"URI",uri:a.v("uri")};case "goto":c=null;a.ha();if(a.advance()){var f=a.v("fit"),c={page:a.v("page"),fit:f};if("0"===c.page)console.warn("null page encountered in dest");
else{var g=b(Number(c.page));switch(f){case "Fit":case "FitB":break;case "FitH":case "FitBH":c.top=g.O({x:0,y:a.v("top")||0}).y;break;case "FitV":case "FitBV":c.left=g.O({x:a.v("left")||0,y:0}).x;break;case "FitR":f=g.O({x:a.v("left")||0,y:a.v("top")||0});g=g.O({x:a.v("right")||0,y:a.v("bottom")||0});g=new Annotations.na(f.x,f.y,g.x,g.y);c.top=g.y1;c.left=g.x1;c.bottom=g.y2;c.right=g.x2;break;case "XYZ":f=g.O({x:a.v("left")||0,y:a.v("top")||0});c.top=f.y;c.left=f.x;c.zoom=a.v("zoom")||0;break;default:console.warn("unknown dest fit: "+
f)}}c={name:"GoTo",dest:c}}else console.mJ("missing dest in GoTo action");a.pa();return c;case "submit-form":c={name:"SubmitForm",url:a.v("url"),format:a.v("format"),method:a.v("method")||"POST",exclude:d(a.v("exclude"),!1)};g=a.v("flags");c.flags=g?g.split(" "):[];for(a.ha();a.advance();)switch(g=a.ja(),g){case "fields":c.fields=e(a);break;default:console.warn("unrecognised submit-form child: "+g)}a.pa();return c;case "reset-form":c={name:"ResetForm",exclude:d(a.v("exclude"),!1)};for(a.ha();a.advance();)switch(g=
a.ja(),g){case "fields":c.fields=e(a);break;default:console.warn("unrecognised reset-form child: "+g)}a.pa();return c;case "hide":c={name:"Hide",hide:d(a.v("hide"),!0)};for(a.ha();a.advance();)switch(g=a.ja(),g){case "fields":c.fields=e(a);break;default:console.warn("unrecognised hide child: "+g)}a.pa();return c;case "named":return{name:"Named",action:a.v("name")};default:console.warn("Encountered unexpected action type: "+c)}return null}function b(a,b,c){var d={};for(a.ha();a.advance();){var e=a.ja();
switch(e){case "action":e=a.v("trigger");if(b?-1!==b.indexOf(e):1){d[e]=[];for(a.ha();a.advance();){var g=f(a,c);_.isNull(g)||d[e].push(g)}a.pa()}else console.warn("encountered unexpected trigger on field: "+e);break;default:console.warn("encountered unknown action child: "+e)}}a.pa();return d}function c(a){return"calculation-order"===a.ja()?e(a):[]}function g(b){return new a.Annotations.Color(b.v("r")||0,b.v("g")||0,b.v("b")||0,b.v("a")||1)}function h(a,b){var c=a.v("name"),d=a.v("type")||"Type1",
e=a.v("size"),f=b.O({x:0,y:0}),h=b.O({x:Number(e),y:0}),e=f.x-h.x,f=f.y-h.y,c={name:c,type:d,size:Math.sqrt(e*e+f*f)||0,strokeColor:[0,0,0],fillColor:[0,0,0]};for(a.ha();a.advance();)switch(d=a.ja(),d){case "stroke-color":c.strokeColor=g(a);break;case "fill-color":c.fillColor=g(a);break;default:console.warn("unrecognised font child: "+d)}a.pa();return c}function n(a,c){var d={border:{style:"Solid",width:1},backgroundColor:[],fieldName:a.v("field"),page:a.v("page"),index:a.v("index")||0,rotation:a.v("rotation")||
0,quadding:a.v("quadding")||"Left-justified",flags:[]},e=a.v("appearance");e&&(d.appearance=e);(e=a.v("flags"))&&(d.flags=e.split(" "));for(a.ha();a.advance();)switch(e=a.ja(),e){case "rect":var e=d,f=a,m=c(Number(d.page)),l=m.O({x:f.v("x1")||0,y:f.v("y1")||0}),f=m.O({x:f.v("x2")||0,y:f.v("y2")||0}),l=new Annotations.na(l.x,l.y,f.x,f.y);l.normalize();e.rect={x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2};break;case "border":e=d;l=a;f={style:l.v("style")||"Solid",width:l.v("width")||1,color:[0,0,0]};for(l.ha();l.advance();)switch(m=
l.ja(),m){case "color":f.color=g(l);break;default:console.warn("unrecognised border child: "+m)}l.pa();e.border=f;break;case "background-color":d.backgroundColor=g(a);break;case "actions":d.actions=b(a,"E X D U Fo Bl PO PC PV PI".split(" "),c);break;case "appearances":e=d;l=a;f={};for(l.ha();l.advance();)if(m=l.ja(),"aappearance"===m){var m=f,n=l.v("name"),p=l,r={};for(p.ha();p.advance();){var I=p.ja();switch(I){case "Normal":r.Normal=p.bd();break;default:console.warn("unexpected appearance state: ",
I)}}p.pa();m[n]=r}else console.warn("unexpected appearances child: "+m);l.pa();e.appearances=f;break;case "extra":e=a;l=c;f={};for(e.ha();e.advance();)switch(m=e.ja(),m){case "font":f.font=h(e,l(1));break;default:console.warn("unrecognised extra child: "+m)}e.pa();e=f;e.font&&(d.font=e.font);break;case "captions":e=d;f=a;l={};(m=f.v("Normal"))&&(l.Normal=m);(m=f.v("Rollover"))&&(l.Rollover=m);(f=f.v("Down"))&&(l.Down=f);e.captions=l;break;default:console.warn("unrecognised widget child: "+e)}a.pa();
return d}function m(a){var b={value:a.v("value")};(a=a.v("display-value"))&&(b.displayValue=a);return b}function l(c,d){var e=c.v("name"),f={type:c.v("type"),maxLen:c.v("max-len")||-1},g=c.v("flags");_.isString(g)&&(f.flags=g.split(" "));for(c.ha();c.advance();)switch(g=c.ja(),g){case "actions":f.actions=b(c,["C","F","K","V"],d);break;case "default-value":var g=f,l=c;l.ha();l.advance();var n=l.bd();l.pa();g.defaultValue=n;break;case "font":f.font=h(c,d);break;case "options":g=f;l=c;n=[];for(l.ha();l.advance();){var p=
l.ja();switch(p){case "option":n.push(m(l));break;default:console.warn("unrecognised options child: "+p)}}l.pa();g.options=n;break;default:console.warn("unknown field child: "+g)}c.pa();return new a.Annotations.N.aa(e,f)}function p(b,c){switch(b.type){case "Tx":return new a.Annotations.Ih(b,c);case "Ch":return b.flags.get("Combo")?new a.Annotations.zg(b,c):new a.Annotations.Cg(b,c);case "Btn":return b.flags.get("PushButton")?new a.Annotations.Bh(b,c):b.flags.get("Radio")?new a.Annotations.Ch(b,c):
new a.Annotations.yg(b,c);case "Sig":return new a.Annotations.Eh(b,c);default:console.warn("Unrecognised field type: "+b.type)}return null}function r(a,c){var d={number:a.v("number")};for(a.ha();a.advance();){var e=a.ja();switch(e){case "actions":d.actions=b(a,["O","C"],c);break;default:console.warn("unrecognised page child: "+e)}}a.pa();return d}a.Ve=a.Ve||{};a.Ve.EC={parse:function(d,e,f,g){var h=[],m={};d.ha();var A=[],B={},y=[];a.busyLoop(function(){var a,f;if(d.advance()){a=d.ja();switch(a){case "calculation-order":A=
c(d);break;case "document-actions":B=b(d,["Init","Open"],e);break;case "pages":a=[];for(d.ha();d.advance();)switch(f=d.ja(),f){case "page":a.push(r(d,e));break;default:console.warn("unrecognised page child: "+f)}d.pa();y=a;break;case "ffield":a=l(d,e(1));m[a.name]=a;break;case "widget":f=n(d,e);(a=m[f.fieldName])?(a=p(a,f),h.push(a)):console.warn("ignoring widget with no corresponding field data: "+f.fieldName);break;default:console.warn("Unknown element encountered in PDFInfo: "+a)}return!0}return!1},
function(){d.pa();f({calculationOrder:A,widgets:h,fields:m,documentActions:B,pages:y})},g)},WG:l,YG:n,Pp:c}})(window);
(function(a){a.Annotations=a.Annotations||{};a.Annotations.N=a.Annotations.N||{};a.Annotations.N.Bb=a.Annotations.N.Bb||{};a=a.Annotations.N.Bb;a.Events={};var e=a.Events;e.Event=function(a){this.rc=!0;_.isObject(a)&&(_.isString(a.name)&&Object.defineProperty(this,"name",{value:a.name,enumerable:!0}),_.isString(a.type)&&Object.defineProperty(this,"type",{value:a.type,enumerable:!0}))};e.Xo=function(a){var b=String(a.value),c=a.change,d=b.slice(0,a.selStart),e=b.slice(a.selEnd);if(_.isObject(a.change)){var n=
a.selStart;a=a.selEnd;n===a&&("backspace"===c.type?d=b.slice(0,n-1):"delete"===c.type&&(e=b.slice(a+1)));c=""}return d+c+e};var d={Validate:function(a){e.Event.call(this,a);var b;_.isObject(a)&&(b=a.value);Object.defineProperty(this,"value",{value:b,enumerable:!0})},Calculate:function(a){e.Event.call(this,a);var b,c;_.isObject(a)&&(b=a.value,c=a.source);Object.defineProperties(this,{value:{value:b,writable:!0,enumerable:!0},source:{value:c,enumerable:!0}})},Format:function(a){e.Event.call(this,a);
var b;_.isObject(a)&&(b=a.value);Object.defineProperty(this,"value",{value:b,writable:!0,enumerable:!0})},Keystroke:function(a){e.Event.call(this,a);var b,c,d,h,n;_.isObject(a)&&(b=a.value,c=a.change,d=a.selStart,h=a.selEnd,n=a.willCommit);b="undefined"!==typeof b?b:"";c="undefined"!==typeof c||_.isString(c)?c:"";h="undefined"!==typeof h?h:b.length;Object.defineProperties(this,{value:{value:b,enumerable:!0},change:{value:c,writable:!0,enumerable:!0},selStart:{value:"undefined"!==typeof d?d:0,writable:!0,
enumerable:!0},selEnd:{value:h,writable:!0,enumerable:!0},willCommit:{value:n||!1,enumerable:!0}})},"Mouse Enter":function(a){e.Event.call(this,a)},"Mouse Leave":function(a){e.Event.call(this,a)},"Mouse Up":function(a){e.Event.call(this,a)},"Mouse Down":function(a){e.Event.call(this,a)},Focus:function(a){e.Event.call(this,a)},Blur:function(a){e.Event.call(this,a);var b;_.isObject(a)&&(b=a.value);Object.defineProperty(this,"value",{value:b,enumerable:!0})},Open:function(a){e.Event.call(this,a);var b;
_.isObject(a)&&(b=a.targetName);Object.defineProperty(this,"targetName",{value:b||"",enumerable:!0})},Close:function(a){e.Event.call(this,a)}};e.create=function(a,b){return d[a]?new d[a](b):null};e.aa={create:function(a,b,c){c=$.extend({name:a,type:"Field",value:b.Ma()},c);return(a=e.create(a,c))?(Object.defineProperties(a,{target:{value:b,writable:!0,enumerable:!0},targetName:{value:b.name,enumerable:!0},modifier:{value:null,enumerable:!0},shift:{value:null,enumerable:!0}}),a):null}};e.nv={create:function(a,
b,c){c=$.extend({name:a,type:"Doc",targetName:""},c);return(a=e.create(a,c))?(Object.defineProperty(a,"target",{value:b,writable:!0,enumerable:!0}),a):null}};e.dl={create:function(a,b,c){c=$.extend({name:a,type:"Page"},c);return(a=e.create(a,c))?(Object.defineProperty(a,"target",{value:b,writable:!0,enumerable:!0}),a):null}};e.nd={create:function(a,b){return e.create(a,b)}}})(window);
(function(a){function e(a){this.stringValue=a}function d(a,b,c){b=b||",";c=c||".";var d=a.split(c),e=d[0];"-"===a.charAt(0)&&(e=e.substr(1));for(var f=[];3<e.length;)f.push(e.substr(e.length-3)),e=e.substr(0,e.length-3);0<e.length&&f.push(e);e=f.reverse().join(b);"-"===a.charAt(0)&&(e="-"+e);d[0]=e;return d.join(c)}function f(a,b){return 0===b?/^-?\d*$/.test(a):(_.isUndefined(b)?/^-?\d*([\.,]\d*)?$/:RegExp("^-?\\d*([\\.,]\\d{0,"+b.toString()+"})?$")).test(a)}function b(a){for(var b=[],c=[],d=-1;-1!==
(d=a.indexOf(".",d+1));)b.push(d);for(d=-1;-1!==(d=a.indexOf(",",d+1));)c.push(d);if(b.length&&c.length){if(b[b.length-1]<c[0])return!0}else if(c.length)for(a=a.length-4,b=c.length-1;0<=b;--b)if(c[b]!==a)return!0;return!1}function c(a){a="string"===typeof a?String(a).replace(",",b(a)?".":""):a;var c=parseFloat(a);if(!f(a)||isNaN(c))c="Off"===a||(_.isUndefined(a)||(_.isNull(a)||""===a))?0:1;return c}function g(a,b){var c=String(a);if(c.length<b)for(var d=b-c.length,e=0;e<d;++e)c="0"+c;return c}function h(a){_.isString(a)&&
(a=a.replace(/\s+/g," "),a=a.replace(/[\/\.]/g,"-"));return a}function n(a){if(!a)return!1;a=h(a);return A(a,y,!0).isValid()}function m(a,b){var c={"m/d":"M/D","m/d/yy":"M/D/YYYY","mm/dd/yy":"MM/DD/YY","mm/yy":"MM/YY","d-mmm":"D-MMM","d-mmm-yy":"D-MMM-YY","dd-mmm-yy":"DD-MMM-YY","yymm-dd":"YYMM-DD","mmm-yy":"MMM-YY","mmmm-yy":"MMMM-YY","mmm d, yyyy":"MMM D, YYYY","mmmm d, yyyy":"MMMM D, YYYY","m/d/yy h:MM tt":"M/D/YY h:mm A","m/d/yy HH:MM":"M/D/YY HH:mm","dd-mmm-yyyy":"DD-MMM-YYYY"};if(c[b]){a=h(a);
var d=A(a,y,!0);if(d.isValid())return d.format(c[b])}return null}function l(a,b){var c=String(a).split(":");if(3<b||(0>b||!a))return null;var d=0,e=0,f=0;c[0]&&(d=Number(c[0]));c[1]&&(e=Number(c[1]));c[2]&&(f=Number(c[2]));if(23<d||(59<e||(59<f||(_.isNaN(d)||(_.isNaN(e)||_.isNaN(f))))))return null;var c=1===b||3===b,h;c?(h=12<=d&&24>d?"PM":"AM",d%=12,0===d&&(d=12)):d=g(d,2);e=g(e,2);f=g(f,2);d=d+":"+e+(2>b?"":":"+f);c&&(d+=" "+h);return d}function p(a){return a.replace(/(mmmm)|(mmm)|(mm)|(m)|(dddd)|(ddd)|(dd)|(d)|(yyyy)|(yy)|(HH)|(H)|(hh)|(h)|(MM)|(M)|(ss)|(s)|(tt)|(t)/g,
function(a){return{mmmm:"MMMM",mmm:"MMM",mm:"MM",m:"M",dddd:"dddd",ddd:"ddd",dd:"DD",d:"D",yyyy:"YYYY",yy:"YY",HH:"HH",H:"H",hh:"hh",h:"h",MM:"mm",M:"m",ss:"ss",s:"s",tt:"A",t:"a"}[a]||""})}function r(a,b){this.wD=b;this.Vl=!1;this.uG=a;a.GI()}function q(a){return function(){console.log("stub: "+a+" called with",arguments)}}function s(a){var b=null;if(_.isArray(a))switch(a[0]){case "T":b=[];break;case "G":b=a.slice(1,2);break;case "RGB":b=a.slice(1,4);break;case "CMYK":b=a.slice(1,5)}return b}function u(a,
b){a.widgets.forEach(function(a){a.backgroundColor=b})}function v(a){this.cx={};this.Pw=a}function w(){var b=this;this.bx={Doc:new v(function(){return"id"}),Field:new v(function(a){return a.name})};this.sj=0;this.zn=[];this.lD={Doc:function(c){var d=c.ad().ni(),e={getField:function(a){return(a=d.kb(a))?b.He("Field",a):null},submitForm:function(b,d,e,f){_.isUndefined(d)&&(d=!0);(new a.Actions.Fh({url:b,format:d?"fdf":"xfdf",includeEmpty:!!e,fields:f||[]})).onTriggered(null,null,c)},resetForm:function(b){(new a.Actions.Dh({fields:b})).onTriggered(null,
null,c)},calculateNow:function(){d.uo(null)}};Object.defineProperties(e,{calculate:{set:function(a){d.Tu=!!a},get:function(){return d.Tu},enumerable:!0},numPages:{get:function(){return c.ud()},enumerable:!0},pageNum:{get:function(){return c.mi()-1},set:function(a){c.wd(a+1)},enumerable:!0}});return e},Color:function(a){return a?0!==a.A?["RGB",a.R/255,a.G/255,a.B/255]:["T"]:["T"]},Field:function(a){a.ih&&(a.ih()&&(a=a.kb()));var c={insertItemAt:function(b,c,d){_.isUndefined(c)&&(c=b);_.isUndefined(d)&&
(d=0);_.isArray(b)&&(b=b[0]);_.isArray(c)&&(c=c[0]);c={displayValue:b,value:c};var e=a.dg();d=-1===d?e.length-d:d;a.lo(c,d);"Ch"!==a.type||(a.flags.get("Combo")||a.mb(b))},getItemAt:function(b,c){c=_.isUndefined(c)?!0:!!c;var d=a.dg(),d=-1===b?d[d.length-1]:d[b];return c?d.value:d.displayValue},deleteItemAt:function(b){var c=a.dg();if(_.isUndefined(b)){var d=a.Ma();c.forEach(function(a,c){a.value===d&&(b=c)});_.isUndefined(b)||(c.splice(b,1),0===b?a.mb(c[c.length-1].value):a.mb(c[b-1].value))}else c.splice(b,
1)},clearItems:function(){a.hd([]);a.mb(null);a.su()},setItems:function(b){for(var c=[],d=b.length,e=0;e<d;++e){var f=b[e];_.isString(f)?c.push({value:f}):_.isArray(f)&&c.push({displayValue:f[0],value:f[1]?f[1]:f[0]})}a.hd(c);a.mb(c[0].value||null);a.su()},setFocus:function(){var b=a.widgets[0];b&&(a.$j().Ml(b.PageNumber,b.X,b.Y),b.innerElement.trigger("focus"))},isBoxChecked:function(b){return(b=a.widgets[b])?b.appearance===b.cg()?1:0:0},checkThisBox:function(b,c){_.isUndefined(c)&&(c=!0);var d=
a.widgets[b];d&&(c?a.mb(d.cg()):a.Ma()===d.cg()&&a.mb("Off"),a.su())},buttonSetCaption:function(b){a.widgets.forEach(function(a){a.captions.Normal=String(b);a.refresh()})}};Object.defineProperties(c,{name:{value:a.name,enumerable:!0},doc:{value:b.He("Doc",a.$j()),enumerable:!0},value:{get:function(){var b=a.Ma();return"number"===typeof b?b:f(b)&&""!==b?"0"===b?0:new e(b):b||""},set:function(b){a.mb(b)},enumerable:!0},fillColor:{set:function(b){u(a,s(b))},get:function(){return b.He("Color",a.widgets[0].backgroundColor)},
enumerable:!0},textColor:{set:function(b){a.font.fillColor=s(b)},get:function(){return b.He("Color",a.font.fillColor)},enumerable:!0},bgColor:{set:function(b){u(a,s(b))},get:function(){return b.He("Color",a.widgets[0].backgroundColor)},enumerable:!0},numItems:{get:function(){return(a.dg()||[]).length},enumerable:!0},charLimit:{set:function(b){b=Number(b);_.isNaN(b)||(a.maxLen=b)},get:function(){return a.maxLen},enumerable:!0}});return c},Event:function(a){var c={target:b.He({Field:"Field",Page:"Doc",
Doc:"Doc"}[a.type],a.target)};Object.defineProperties(c,{value:{get:function(){return B.utils.toString(a.value)},set:function(b){a.value=b},enumerable:!0}});for(var d in a)a.hasOwnProperty(d)&&("target"!==d&&("value"!==d&&function(b){Object.defineProperty(c,b,{set:function(c){a[b]=c},get:function(){return a[b]},enumerable:!0})}(d)));return c}}}function x(){w.call(this);this.Jn=$("<iframe />");this.Jn.css({display:"none"});this.Jn.appendTo("body");this.Dl=this.Jn[0].contentWindow;var a=this.Dl.document;
a.open();a.write("<script>var event = {};\x3c/script>");a.write("<script>window.__add_action = function(__script){ return function(){(1,eval)(__script); } }\x3c/script>");a.close();this.pl=!1;for(var b in D)D.hasOwnProperty(b)&&(this.Dl[b]=D[b])}a.Annotations=a.Annotations||{};a.Annotations.N=a.Annotations.N||{};a.Annotations.N.Bb=a.Annotations.N.Bb||{};var A=a.moment,B=a.Annotations.N.Bb,y="M-D;M-D-YYYY;MM-DD-YY;MM-YY;D-MMM;D-MMM-YY;DD-MMM-YY;YYMM-DD;MMM-YY;MMMM-YY;MMM D, YYYY;MMMM D, YYYY;M-D-YY h:mm A;M-D-YY HH:mm;DD-MMM-YYYY".split(";");
B.utils={isNumber:f,JL:d,sL:c,rL:g,MK:m,eL:n,NK:l,toString:function(a){return _.isString(a)?a:_.isNumber(a)?String(a):""},NL:function(a){var b=a;f(a)&&(""!==a&&(b=c(a)));return b},hH:function(a,b){var c=A(b),d=p(a);return c.format(d)},iH:function(a){var b=Array.prototype.slice.call(arguments,1),c=0;return a.replace(/%(,\d+)?([+ 0#]+)?(\d+)?(\.\d+)?([dfsx]+)/g,function(a,e,f,g,h,m){a=0;g=".";var l=",";if(e)switch(e.slice(1)){case "0":l=",";g=".";break;case "1":l="";g=".";break;case "2":l=".";g=",";
break;case "3":l="",g=","}if(f)for(e=f.length-2,f=1;f<e;++f);h&&(a=h.slice(1));h=b[c];c++;e=String(h);switch(m){case "f":e=Number(h).toFixed(a).replace(".",g);e=d(e,l,g);break;case "d":e=Number(h).toFixed();break;case "x":e=Number(h).toString(16)}return e})}};Object.getOwnPropertyNames(String.prototype).forEach(function(a){e.prototype[a]=function(){return this.stringValue[a].apply(this.stringValue,arguments)}});e.prototype.valueOf=function(){this.wz||(this.wz=c(this.stringValue));return this.wz};
r.prototype={terminate:function(){this.Vl||(this.Vl=!0,this.wD(),this.uG.SE())}};var z=null,I=null,D={AFNumber_Format:function(a,b,e,g,h,m){e=(e=I.ad().ni().kb(z.target.name))?e.Ma():null;f(e)&&(null!==e&&(""!==e&&(e=c(e),isNaN(e)||(e=e.toFixed(a),0===b&&(e=d(e)),z.value=m?h+e:e+h,z.rc=!0))))},AFPercent_Format:function(a,b){var e=z.value;f(e)&&(e=c(e),e=(100*e).toFixed(a),b&&(e=d(e)),e+="%",z.value=e,z.rc=!0)},AFDate_KeystrokeEx:function(){var a=String(z.value);z.willCommit&&(z.rc=n(a))},AFDate_FormatEx:function(a){a=
m(String(z.value),a);_.isNull(a)||(z.value=a,z.rc=!0)},AFDate_Format:function(a){a=m(String(z.value),a);_.isNull(a)||(z.value=a,z.rc=!0)},AFRange_Validate:function(a,b,c,d){var e=Number(z.value),e=(!a||e>=b)&&(!c||e<=d);if(!e){var f="Invalid value: must be";a&&(f+=" greater than or equal to "+b);a&&(c&&(f+=" and"));c&&(f+=" less than or equal to "+d);alert(f+".")}z.rc=e},AFTime_Format:function(a){z.value=l(z.value,a);z.rc=!0},AFMakeNumber:function(a){return Number(a)},AFSimple_Calculate:function(a,
b){var d={PRD:function(a,b){return a*b},SUM:function(a,b){return a+b},MIN:function(a,b){return b<a?b:a},MAX:function(a,b){return b>a?b:a}}[a];d&&(z.value=b.map(function(a){a=z.target.doc.getField(a).value;return c(a)}).reduce(d),z.rc=!0)},AFNumber_Keystroke:function(b){z.rc=f(a.Annotations.N.Bb.Events.Xo(z),b)},AFPercent_Keystroke:function(b){z.rc=f(a.Annotations.N.Bb.Events.Xo(z),b+2)},AFSpecial_Format:q("AFSpecial_Format"),AFSpecial_Keystroke:q("AFSpecial_Keystroke"),util:{printd:B.utils.hH,printf:B.utils.iH},
app:{beep:q("app.beep"),alert:function(a){window.alert(a)},setInterval:function(a,b){var c=I.getDocument().tl;a=c.Rj(a);var d=z,e=window.setInterval(function(){c.Ak(a,d,I)},b);return new r(c,function(){window.clearInterval(e)})},clearInterval:function(a){a.terminate()},setTimeOut:function(a,b){var c=I.getDocument().tl,d;a=c.Rj(a);var e=z,f=window.setTimeout(function(){c.Ak(a,e,I);d.terminate()},b);return d=new r(c,function(){window.clearTimeout(f)})},clearTimeOut:function(a){a.terminate()},launchURL:q("app.laumchURL")},
console:{clear:function(){console.clear()},println:function(a){console.log(a)}},alert:function(a){window.alert(a)},color:{transparent:["T"],black:["G",0],white:["G",1],red:["RGB",1,0,0],green:["RGB",0,1,0],blue:["RGB",0,0,1],cyan:["CMYK",1,0,0,0],magenta:["CMYK",0,1,0,0],yellow:["CMYK",0,0,1,0],dkGray:["G",0.25],gray:["G",0.5],ltGray:["G",0.75]}};v.prototype={get:function(a){a=this.Pw(a);a=this.cx[a];return _.isUndefined(a)?null:a},set:function(a){this.cx[this.Pw(a)]=a}};w.prototype={Rj:function(){},
Ak:function(){},Ic:function(){this.zn.forEach(function(a){a()})},bv:function(a){return a},dv:function(a){return a},xq:function(a){return a},rB:function(a){return a},sB:function(a){return a},qB:function(a){return a},pB:function(a){return a},Pk:function(a){var b=null;if(_.isArray(a))b=this.pB(a);else if(_.isNull(a))b=null;else switch(typeof a){case "object":b=this.dv(a);break;case "function":b=this.xq(a);break;case "number":b=this.rB(a);break;case "string":b=this.sB(a);break;case "boolean":b=this.qB(a);
break;case "undefined":b=void 0;break;default:console.warn("unrecognised type: "+typeof a)}return b},wrap:function(a,b){var c=this.bx[a];if(c){var d=c.get(b);if(!_.isNull(d))return d}d=this.He(a,b);d=this.Pk(d);c&&c.set(d);return d},He:function(a,b){var c=this.bx[a];if(c){var d=c.get(b);if(!_.isNull(d))return d}if(d=this.lD[a])return d=d(b),c&&c.set(d),d;console.warn(a+" is not a valid normalisable PDFJS type",b);return{}},lJ:function(a){0<this.sj?this.zn.push(a):a()},GI:function(){this.sj+=1},SE:function(){this.sj-=
1;if(0===this.sj){var a=this.zn;this.zn=[];a.forEach(function(a){a()})}},kF:function(){return this.dv($.extend({},D))}};B.KJ=D;(function(){w.call(this);this.eD=this.kF()}).prototype=$.extend(Object.create(w.prototype),{Rj:function(a){var b=this,c=new Function("_PDFTRON_JS_API","event","with(_PDFTRON_JS_API){"+a+"\n}");return function(a,d){z=a;c.call(d,b.eD,a);z=null}},Ak:function(a,b,c){var d=I;I=c;a(this.wrap("Event",b),this.wrap("Doc",c));I=d}});(function(){w.call(this);this.Rf=continuum.qK();this.pl=
!1;for(var a=Object.keys(D),b=0;b<a.length;++b)this.Rf.global.Cv(a[b],this.Pk(D[a[b]]))}).prototype=$.extend(Object.create(w.prototype),{Rj:function(a){return continuum.rK(a)},as:function(a){a=this.He("Doc",a);for(var b=Object.keys(a),c=0;c<b.length;++c)this.Rf.global.Cv(b[c],this.Pk(a[b[c]]))},Ak:function(a,b,c){this.pl||(this.as(c),this.pl=!0);b=this.He("Event",b);c=this.Pk(b);this.Rf.global.Cv("event",c);z=b;this.Rf.evaluate(a);z=null},bv:function(a){var b=this;if(_.isObject(a)){if(a.ND)return a.ND.map(function(a){return b.bv(a)});
console.warn("object argument: ",a)}return a},xq:function(a){var b=this;return continuum.oK(function(){var c=Array.prototype.map.call(arguments,function(a){return b.bv(a)});return b.Pk(a.apply(null,c))})},rB:function(a){return this.Rf.evaluate(JSON.stringify(a))},sB:function(a){return this.Rf.evaluate(JSON.stringify(a))},qB:function(a){return this.Rf.evaluate(JSON.stringify(a))},pB:function(a){var b=this.Rf.evaluate("new Array()");console.warn("array:",b);return a},dv:function(a){for(var b=this.Rf.evaluate("Object.create(null)"),
c=Object.keys(a),d=c.length,e=0;e<d;++e){var f=c[e],g=Object.getOwnPropertyDescriptor(a,f),h={Enumerable:g.enumerable,Writeable:g.writeable};_.isUndefined(g.value)||(h.Value=this.Pk(g.value));_.isUndefined(g.set)||(h.Set=this.xq(g.set));_.isUndefined(g.get)||(h.Get=this.xq(g.get));b.GJ(f,h)}return b}});x.prototype=$.extend(Object.create(w.prototype),{Rj:function(a){var b=this.Dl.__add_action(a);b.tG=a;return b},as:function(a){a=this.He("Doc",a);for(var b=Object.keys(a),c=0;c<b.length;++c){var d=b[c];
Object.defineProperty(this.Dl,d,Object.getOwnPropertyDescriptor(a,d))}},Ic:function(){w.prototype.Ic.call(this);this.Jn.remove()},Ak:function(a,b,c){this.pl||(this.as(c),this.pl=!0);var d=I;I=c;b=this.He("Event",b);this.Dl.event=b;c=z;z=b;try{a()}catch(e){console.warn("PDFJS error encountered: ",e,a.tG)}z=c;I=d}});B.kE=function(){return new x}})(window);
(function(a){if(a&&a.Worker){var e=a.Worker;a.wg=a.wg||[];a.wg.WA||(a.wg.WA=function(){for(var d=a.wg.length-1;0<=d;d--)a.wg[d].terminate(),delete a.wg[d]});a.Worker.isFake||(a.Worker=function(d){d=new e(d);a.wg.push(d);return d},a.OB=function(a){return a instanceof e},a.Worker.isFake=!0)}})(window);window.addEventListener("unload",function(){window.wg&&window.wg.WA()});
(function(a){function e(){}function d(b){this.size=b;this.Gc=Array(this.size);for(b=0;b<this.size;b++)this.Gc[b]={hf:a.k.Wa.uj(1,1,1),hu:a.k.Wa.uj(1,1,1),os:null,Ci:[],op:!1}}function f(a){var b=a.width;a.width=1;a.width=b}var b={Rv:"ViewportCanvas",zv:"PageCanvas"};d.prototype={Yo:function(a,b,c){b=c?0===a?0:Math.floor((a+1)/b):Math.floor(a/b);c=null;for(var d=0;d<this.size;d++){if(this.Gc[d].os===b)return-1===this.Gc[d].Ci.indexOf(a)&&this.Gc[d].Ci.push(a),this.Gc[d].op=!0,this.Gc[d];this.Gc[d].op||
(c=this.Gc[d])}return c?(c.os=b,c.Ci.push(a),c.op=!0,c):null},vk:function(a){for(var b=0;b<this.size;b++){var c=this.Gc[b].Ci,d=c.indexOf(a),e=!1;-1<d&&(c.splice(d,1),e=!0);if(e&&0===c.length){this.Qx(this.Gc[b]);break}}},Im:function(){for(var a=0;a<this.size;a++)this.Qx(this.Gc[a])},Qx:function(a){a.os=null;a.op=!1;$(a.hf).removeAttr("style").removeClass();$(a.hu).removeAttr("style").removeClass();f(a.hf);a.hf.getContext("2d").clearRect(0,0,a.hf.width,a.hf.height);a.Ci=[]},JI:function(a,b,c){a=this.Yo(a,
c,this.sp);_.isNull(b)&&(b=a.hu);a.hu=a.hf;a.hf=b}};e.prototype={Si:!1,init:function(){var b=a.innerWidth,c=a.innerHeight;this.Gc=new d(3);this.ro=new d(3);this.he=this.uj(b,c,1);this.Dm=1},mq:function(a,b){this.Dm=a;this.sp=b},xs:function(){var a=this.he.getContext("2d");a.restore();a.clearRect(0,0,this.he.width,this.he.height);this.he.getAttribute("style");this.he.removeAttribute("style")},cq:function(a,b){this.Gc.JI(a,b,this.Dm)},vk:function(a){this.Gc.vk(a);this.ro.vk(a)},Im:function(){this.Gc.Im();
this.ro.Im()},eo:function(b,c,d,e){var f=$(b);c=Math.floor(c);d=Math.floor(d);var g=""===b.style.height||1<Math.abs(parseInt(b.style.height,10)-d);if(""===b.style.width||(1<Math.abs(parseInt(b.style.width,10)-c)||g))e=a.utils.getCanvasMultiplier(c,d,e),g=Math.floor(d*e),b.setAttribute("width",Math.floor(c*e)),b.setAttribute("height",g),f.css("width",c),f.css("height",d)},uj:function(a,b,c,d){if("undefined"===typeof d||null===d)d=document.createElement("canvas");this.eo(d,a,b,c);return"undefined"===
typeof d.getContext("2d")?null:d},VC:function(a,b,c,d){var e=1,f=null,g=a;if(1>=a*c||1>=b*c)f=this.uj(1,1,1);var s=a/b;64E6<a*b&&(b=Math.sqrt(64E6/s),e=s*b/a,a=s*b);s=null;for("undefined"===typeof d&&(d=0.25);null===f;){var s=this.uj(Math.ceil(a*e),Math.ceil(b*e),c,s),u=s.getContext("2d");u.fillStyle="white";u.fillRect(s.width-1,s.height-1,1,1);u=!(1>window.devicePixelRatio)&&(s.width<parseFloat(s.style.width)||s.height<parseFloat(s.style.height));if(null!==s&&(0<this.aD(s)&&!u))f=s;else if(e-=d,
0>=e)return console.error("No canvas could be created"),null}1>e&&(a="scale("+g/parseFloat(f.style.width)+")",$(f).css({transform:a,"transform-origin":"top left","ms-transform":a,"ms-transform-origin":"top left","-moz-transform":a,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":a,"-o-transform":a,"-o-transform-origin":"top left"}));$(f).css("position","absolute");f.getContext("2d").clearRect(f.width-1,f.height-1,1,1);return f},aD:function(a){return a.getContext("2d").getImageData(a.width-
1,a.height-1,1,1).data[3]},vs:function(a,b,c){if(!a)throw Error("Canvas not defined");b=b||a.width;c=c||a.height;a.getContext("2d").clearRect(0,0,b,c)},Xy:function(b,c,d,e,f,g){if(b!==this.he)throw Error("Canvas drawing error");var q=this.Gc.Yo(c,this.Dm,this.sp);b=q.hf;this.eo(b,parseFloat(this.he.style.width),parseFloat(this.he.style.height),d);q=q.Ci.sort(function(a,b){return a-b});c<=q[0]&&(b.width=b.width);c=a.utils.getCanvasMultiplier(g.width,g.height,d);d=a.Qc(d,e,g,f,!0,c);e=b.getContext("2d");
e.save();e.transform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v);e.fillStyle="white";e.fillRect(0,0,g.width,g.height);e.restore();e.drawImage(this.he,0,0);this.xs();return b},KA:function(b,c,d,e){var f=a.innerWidth,g=a.innerHeight;this.eo(this.he,f,g,c);f=a.utils.getCanvasMultiplier(f,g,c);c=a.Qc(c,d,b,e,!0,f);d=this.he.getContext("2d");d.restore();d.save();d.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v);a.utils.canvasClipBug||(d.beginPath(),d.rect(0,0,b.width,b.height),d.clip());return{canvas:this.he,
ctx:d,t:c}},Jl:function(a,b){var c=document.getElementById("pageContainer"+b);if(!c)return null;var d=$(a);d.css({"z-index":"20"});d.addClass("hacc canvas"+b);return c.parentNode},gD:function(a,b,c,d){a=this.ro.Yo(a,this.Dm,this.sp).hf;this.eo(a,b,c,d);return a},Yg:function(b,c,d,e,f,g,q){b=$("#pageContainer"+b).parent().find(".auxiliary")[0];if(_.isUndefined(b))return null;g=b.getContext("2d");g.restore();g.save();var s=a.utils.getCanvasMultiplier(parseFloat(b.style.width),parseFloat(b.style.height),
d);if(1===q||3===q)c={width:c.height,height:c.width};d=a.Qc(d,(e+q||0)%4,c,f,!0,s);g.setTransform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v);a.utils.canvasClipBug||(g.beginPath(),g.rect(0,0,c.width,c.height),g.clip());return b},qo:function(b,c,d,e){var g=document.getElementById("pageContainer"+b);if(!g)return null;g=$(g).parent();if(0<g.find(".auxiliary").length)c=this.ro.Yo(b,this.Dm,this.sp),e=c.Ci.sort(function(a,b){return a-b}),b<=e[0]&&f(c.hf);else{var r=a.innerWidth,q=a.innerHeight,s=this.gD(b,r,
q,d);b=$(s);b.addClass("auxiliary");b.css({"z-index":"30",position:"absolute",display:""});g.append(s);b=s.getContext("2d");d*=parseFloat(s.style.width)/r;r=a.utils.getCanvasMultiplier(r,q,d);c=a.Qc(d,e,c,null,!0,r);b.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v);return g[0]}},nz:function(a){return $("#pageContainer"+a).parent()},Dt:function(a){return $("#pageWidgetContainer"+a)}};var c=new e,g=new e;$.extend(g,{Si:!0,init:function(){},mq:function(){},xs:function(){},cq:function(){},vk:function(){},
Im:function(){},vs:function(a){if(!a)throw Error("Canvas not defined");var b=a.getContext("2d");b.save();b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,a.width,a.height);b.restore()},Xy:function(a){return a},KA:function(b,c,d,e,f,g){e=!1;if(d===a.k.sa.$c||d===a.k.sa.Jd)e=!0;f=!_.isUndefined(g);var q,s;f?(q=(e?g.y2-g.y1:g.x2-g.x1)*c,s=(e?g.x2-g.x1:g.y2-g.y1)*c):(q=e?b.height*c:b.width*c,s=e?b.width*c:b.height*c);var u;e=this.uj(q,s,c);u=parseFloat(e.style.width);s=a.utils.getCanvasMultiplier(q,s,c);b=
a.Qc(u/q*c,d,f?g:b,{x:0,y:0},!0,s);c=e.getContext("2d");a.Ws||(e.style.backgroundColor="white");c.transform(b.m_a,b.m_b,b.m_c,b.m_d,b.m_h,b.m_v);return{canvas:e,ctx:c,t:b}},Jl:function(a,b){var c=document.getElementById("pageContainer"+b);if(!c)return null;$(c).find(".canvas"+b).remove();var d=a.GL,e=$(a);e.css({"z-index":"20",position:"absolute"});e.addClass("hacc canvas"+b);_.isUndefined(d)||e.css("top",function(a){return a*d});$(c).append(e);return c},Lw:function(a){return{width:a.x2-a.x1,height:a.y2-
a.y1}},jx:function(b,c){var d=!1;if(c===a.k.sa.$c||c===a.k.sa.Jd)d=!0;var e=b.width,f=b.height,e=d?b.height:b.width,f=d?b.width:b.height;return{width:e,height:f}},Yg:function(b,c,d,e,f,g,q){b=$("#pageContainer"+b).find(".auxiliary");if(0<b.length){if(g){var s=b[0],u=s.getContext("2d");u.restore();u.save();var s=a.utils.getCanvasMultiplier(parseFloat(s.style.width),parseFloat(s.style.height),d),v=this.jx(this.Lw(g),e),w=Math.round(v.width*d),v=Math.round(v.height*d),x=parseFloat(b.css("width")),A=
parseFloat(b.css("height"));b.css({left:f.x,top:f.y});(1<Math.abs(x-w)||1<Math.abs(A-v))&&b.attr({width:w*s,height:v*s}).css({width:w,height:v});if(g&&q){f=c.width;w=c.height;if(1===q||3===q)f=c.height,w=c.width;c=a.Qc(1,q,{width:f,height:w},null,!1).inverse();g=a.utils.normalizeRect(c.O({x:g.x1,y:g.y1}),c.O({x:g.x2,y:g.y2}))}d=a.Qc(d,(e+(q||0))%4,g,null,!0,s);u.setTransform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v)}return b[0]}return null},qo:function(b,c,d,e,f){b=document.getElementById("pageContainer"+
b);if(!b)return null;b=$(b);if(!(0<b.find(".auxiliary").length)){var g;f?(g=this.Lw(f),f=g.width,g=g.height):(f=c.width,g=c.height);g=this.jx({width:f,height:g},e);f=g.width*d;g=this.VC(f,g.height*d,d,0.2);var q=$(g);q.addClass("auxiliary");q.css({"z-index":"30",position:"absolute"});b.prepend(g);b=g.getContext("2d");b.clearRect(0,0,g.width,g.height);c=a.Qc(parseFloat(g.style.width)/f*d,e,c);b.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v)}},nz:function(a){return $("#pageContainer"+a)},Dt:function(a){return $("#pageWidgetContainer"+
a)}});a.k.yC=function(d){if(d===b.Rv)a.k.Wa=c;else if(d===b.zv)a.k.Wa=g;else throw Error("Invalid Canvas Manager type");a.k.Wa.init()};a.k.Hq=b;a.k.Wa=g;a.k.Wa.init()})(window);
(function(a){function e(b,c,e,h){for(var n=c.password||c.p,m=c.type.toUpperCase(),l=d.length,p,r=0;r<l;r++)d[r].done&&(p=d[r]);!p&&(4>l&&(p={done:!1,worker:new Worker(a.k.hg()+"DecryptWorker.js"),callback:h},d[l]=p,p.worker.addEventListener("message",function(a){if(a.data.error)throw c.error&&c.error(a.data.error),Error(a.data.error);p.callback(a.data);0<f.length?(a=f[0],f.shift(),p.done=!1,p.callback=a.callback,p.worker.postMessage({data:a.data,password:a.password,partName:a.Fi,type:m})):(p.callback=
null,p.done=!0)})));p?(p.done=!1,p.callback=h,p.worker.postMessage({data:b,password:n,partName:e,type:m})):f.push({data:b,password:n,Fi:e,type:m,callback:h})}var d=[],f=[];a.k=a.k||{};a.k.Zi=a.k.Zi||{};a.k.Zi.gi=function(a,c,d,f){e(a,c,d,f)};a.k.Zi.rE=function(b,c,d){var e=c.password||c.p;switch(c.type.toUpperCase()){case "AES":b=a.ey(b,e,d);break;default:b=a.ey(b,e,d)}if(b.error)throw c.error&&c.error(b.error),Error(b.error);return b}})(window);
(function(a){a.ey=function(a,d,f){for(var b=[],c=0;16>c;++c){b[c]=c;c<d.length&&(b[c]|=d.charCodeAt(c));var g=f.length+c-16;0<=g&&(b[c]|=f.charCodeAt(g))}d=[];for(f=0;16>f;++f)d.push(a.charCodeAt(f));a=a.slice(16);b=forge.aes.startDecrypting(b,d);b.update(forge.util.createBuffer(a));return b.finish()?b.output.data:{error:"Bad password or file corrupt"}}})(self);
(function(a){a.GetPageMatrix=a.Qc;a.CoreControls=function(){};a.CoreControls.setWorkerPath=a.k.tI;a.CoreControls.getWorkerPath=a.k.hg;a.CoreControls.setAdvancedImageScaling=a.k.TH;a.CoreControls.setProgressiveTime=a.k.GA;a.CoreControls.preloadPDFWorker=a.k.dA;a.CoreControls.initPDFWorkerTransports=a.k.vz;a.CoreControls.getDefaultPdfBackendType=a.k.gF;a.CoreControls.getCurrentBackendType=a.k.Py;a.CoreControls.resetWorker=a.k.qA;a.CoreControls.isDemoMode=a.k.kG;a.CoreControls.setEmscriptenHeapSize=
a.k.XH;a.XODText=XODText;a.XODText.ResultCode=XODText.vb;a.XODText.ResultCode.e_done=XODText.vb.Vg;a.XODText.ResultCode.e_page=XODText.vb.Lo;a.XODText.ResultCode.e_found=XODText.vb.Nl;a.XODText.Quad=XODText.gb;a.XODText.Quad.prototype.getPoints=XODText.gb.prototype.pf;a.XODText.Quad.prototype.getNormalizedPoints=XODText.gb.prototype.wF;a.XODText.Matrix2D=XODText.Oa;a.XODText.Matrix2D.prototype.initMatrix=XODText.Oa.prototype.pm;a.XODText.Matrix2D.prototype.initCoordinates=XODText.Oa.prototype.Ya;
a.XODText.Matrix2D.prototype.mult=XODText.Oa.prototype.O;a.XODText.Point2D=XODText.hc;a.CoreControls.Encryption=a.k.Zi;a.CoreControls.Encryption.decrypt=a.k.Zi.gi;a.CoreControls.PartRetrievers=function(){};a.CoreControls.PartRetrievers.PartRetriever=a.k.Q.We;a.CoreControls.PartRetrievers.PartRetriever.prototype.setErrorCallback=a.k.Q.We.prototype.YH;a.CoreControls.PartRetrievers.PartRetriever.prototype.setCustomHeaders=a.k.Q.We.prototype.Fu;a.CoreControls.PartRetrievers.CacheHinting=a.k.Q.zh;a.CoreControls.PartRetrievers.CacheHinting.NEVER_CACHE=
a.k.Q.zh.Tq;a.CoreControls.PartRetrievers.CacheHinting.CACHE=a.k.Q.zh.kv;a.CoreControls.PartRetrievers.CacheHinting.NO_HINT=a.k.Q.zh.TB;a.CoreControls.PartRetrievers.LocalPartRetriever=a.k.Q.PB;a.CoreControls.PartRetrievers.HttpPartRetriever=a.k.Q.Zk;a.CoreControls.PartRetrievers.HttpPartRetriever.prototype.requestDocument=a.k.Q.We.prototype.Yp;a.CoreControls.PartRetrievers.HttpPartRetriever.prototype.request=a.k.Q.We.prototype.ia;a.CoreControls.PartRetrievers.ExternalHttpPartRetriever=a.k.Q.Mq;a.CoreControls.PartRetrievers.ExternalPdfPartRetriever=
a.k.Q.Nq;a.CoreControls.PartRetrievers.ExternalPdfPartRetriever.prototype.setCustomHeaders=a.k.Q.Nq.prototype.Fu;a.CoreControls.PartRetrievers.ExternalPdfPartRetriever.prototype.getFileData=a.k.Q.Nq.prototype.lf;a.CoreControls.PartRetrievers.LocalPdfPartRetriever=a.k.Q.QB;a.CoreControls.PartRetrievers.StreamingPartRetriever=a.k.Q.Kv;a.CoreControls.PartRetrievers.WebDBPartRetriever=a.k.Q.il;a.CoreControls.PartRetrievers.AndroidContentPartRetriever=a.k.Q.uB;a.CoreControls.PartRetrievers.AzurePartRetriever=
a.k.Q.vB;a.CoreControls.PartRetrievers.IOSPartRetriever=a.k.Q.$k;a.CoreControls.PartRetrievers.IOSPartRetriever.partSuccess=a.k.Q.$k.nu;a.CoreControls.PartRetrievers.IOSPartRetriever.partFail=a.k.Q.$k.mu;a.CoreControls.PartRetrievers.WinRTPartRetriever=a.k.Q.jl;a.CoreControls.PartRetrievers.WinRTPartRetriever.partSuccess=a.k.Q.jl.nu;a.CoreControls.PartRetrievers.WinRTPartRetriever.partFail=a.k.Q.jl.mu;a.CoreControls.CanvasMode=a.k.Hq;a.CoreControls.CanvasMode.ViewportCanvas=a.k.Hq.Rv;a.CoreControls.CanvasMode.PageCanvas=
a.k.Hq.zv;a.CoreControls.SetCanvasMode=a.k.yC;a.CoreControls.Bookmark=a.k.me;a.CoreControls.Bookmark.prototype.getName=a.k.me.prototype.getName;a.CoreControls.Bookmark.prototype.getVPos=a.k.me.prototype.RF;a.CoreControls.Bookmark.prototype.getHPos=a.k.me.prototype.mF;a.CoreControls.Bookmark.prototype.getPageNumber=a.k.me.prototype.Ib;a.CoreControls.Bookmark.prototype.getURL=a.k.me.prototype.ip;a.CoreControls.Bookmark.prototype.getParent=a.k.me.prototype.getParent;a.CoreControls.Bookmark.prototype.getChildren=
a.k.me.prototype.Ny;a.CoreControls.Bookmark.prototype.isValid=a.k.me.prototype.isValid;a.CoreControls.Document=a.k.ma;a.CoreControls.Document.prototype.getBookmarks=a.k.ma.prototype.Wl;a.CoreControls.Document.prototype.getLayers=a.k.ma.prototype.SK;a.CoreControls.Document.prototype.getLinks=a.k.ma.prototype.Zo;a.CoreControls.Document.prototype.loadThumbnailAsync=a.k.ma.prototype.pk;a.CoreControls.Document.prototype.includesThumbnails=a.k.ma.prototype.jk;a.CoreControls.Document.prototype.loadPageText=
a.k.ma.prototype.Vt;a.CoreControls.Document.prototype.getTextPosition=a.k.ma.prototype.yt;a.CoreControls.Document.prototype.loadCanvasAsync=a.k.ma.prototype.lg;a.CoreControls.Document.prototype.pauseLoadCanvas=a.k.ma.prototype.Qp;a.CoreControls.Document.prototype.resumeLoadCanvas=a.k.ma.prototype.bq;a.CoreControls.Document.prototype.cancelLoadCanvas=a.k.ma.prototype.Wf;a.CoreControls.Document.prototype.cancelLoadThumbnail=a.k.ma.prototype.Pj;a.CoreControls.Document.prototype.unloadCanvasResources=
a.k.ma.prototype.Um;a.CoreControls.Document.prototype.getPageInfo=a.k.ma.prototype.Jc;a.CoreControls.Document.prototype.getPageCount=a.k.ma.prototype.ud;a.CoreControls.Document.prototype.getPDFCoordinates=a.k.ma.prototype.dp;a.CoreControls.Document.prototype.getXODCoordinates=a.k.ma.prototype.lp;a.CoreControls.Document.prototype.getViewerCoordinates=a.k.ma.prototype.Ct;a.CoreControls.Document.prototype.loadAsync=a.k.ma.prototype.kh;a.CoreControls.Document.prototype.unloadResources=a.k.ma.prototype.Le;
a.CoreControls.Document.prototype.initOfflineDB=a.k.ma.prototype.qm;a.CoreControls.Document.prototype.storeOffline=a.k.ma.prototype.pq;a.CoreControls.Document.prototype.isDownloaded=a.k.ma.prototype.mk;a.CoreControls.Document.prototype.getOfflineModeEnabled=a.k.ma.prototype.bp;a.CoreControls.Document.prototype.setOfflineModeEnabled=a.k.ma.prototype.kq;a.CoreControls.Document.prototype.cancelOfflineModeDownload=a.k.ma.prototype.yo;a.CoreControls.Document.prototype.getFileData=a.k.ma.prototype.lf;a.CoreControls.Document.prototype.onJSCompletion=
a.k.ma.prototype.SG;a.CoreControls.Document.prototype.insertPages=a.k.ma.prototype.kk;a.CoreControls.Document.prototype.getPDFDoc=a.k.ma.prototype.ck;a.CoreControls.Document.prototype.getLayersArray=a.k.ma.prototype.bk;a.CoreControls.Document.prototype.setLayersArray=a.k.ma.prototype.iq;a.CoreControls.Document.prototype.setOverprintPreviewMode=a.k.ma.prototype.lq;a.CoreControls.Document.prototype.extractPDFNetLayersContext=a.k.ma.prototype.Wj;a.CoreControls.Document.prototype.insertBlankPages=a.k.ma.prototype.rm;
a.CoreControls.Document.prototype.removePages=a.k.ma.prototype.wk;a.CoreControls.Document.prototype.movePages=a.k.ma.prototype.ym;a.CoreControls.Document.prototype.rotatePages=a.k.ma.prototype.Om;a.CoreControls.Document.prototype.extractPages=a.k.ma.prototype.Xj;a.CoreControls.Document.prototype.cropPages=a.k.ma.prototype.Tj;a.CoreControls.Document.prototype.print=a.k.ma.prototype.print;a.CoreControls.PageRotation=a.k.sa;a.CoreControls.PageRotation.e_0=a.k.sa.we;a.CoreControls.PageRotation.e_90=a.k.sa.$c;
a.CoreControls.PageRotation.e_180=a.k.sa.ki;a.CoreControls.PageRotation.e_270=a.k.sa.Jd;a.CoreControls.OverprintPreviewMode=a.k.pn;a.CoreControls.OverprintPreviewMode.OFF=a.k.pn.VB;a.CoreControls.OverprintPreviewMode.ON=a.k.pn.WB;a.CoreControls.OverprintPreviewMode.PDFX_ON=a.k.pn.jC;a.CoreControls.DocumentViewer=a.k.ca;a.CoreControls.DocumentViewer.prototype.loadAsync=a.k.ca.prototype.kh;a.CoreControls.DocumentViewer.prototype.dispose=a.k.ca.prototype.Ic;a.CoreControls.DocumentViewer.prototype.FitMode=
function(){};a.CoreControls.DocumentViewer.prototype.FitMode.FitWidth=a.k.ca.prototype.Se.Pq;a.CoreControls.DocumentViewer.prototype.FitMode.FitPage=a.k.ca.prototype.Se.rv;a.CoreControls.DocumentViewer.prototype.FitMode.Zoom=a.k.ca.prototype.Se.Zoom;a.CoreControls.DocumentViewer.prototype.displayLastPage=a.k.ca.prototype.DE;a.CoreControls.DocumentViewer.prototype.displayFirstPage=a.k.ca.prototype.CE;a.CoreControls.DocumentViewer.prototype.setCurrentPage=a.k.ca.prototype.wd;a.CoreControls.DocumentViewer.prototype.getCurrentPage=
a.k.ca.prototype.mi;a.CoreControls.DocumentViewer.prototype.setRightToLeftPages=a.k.ca.prototype.lI;a.CoreControls.DocumentViewer.prototype.getRightToLeftPages=a.k.ca.prototype.xt;a.CoreControls.DocumentViewer.prototype.getZoom=a.k.ca.prototype.ig;a.CoreControls.DocumentViewer.prototype.getPageCount=a.k.ca.prototype.ud;a.CoreControls.DocumentViewer.prototype.setFitMode=a.k.ca.prototype.Gu;a.CoreControls.DocumentViewer.prototype.getFitMode=a.k.ca.prototype.jF;a.CoreControls.DocumentViewer.prototype.zoomTo=
a.k.ca.prototype.hv;a.CoreControls.DocumentViewer.prototype.zoomToMouse=a.k.ca.prototype.zJ;a.CoreControls.DocumentViewer.prototype.setToolMode=a.k.ca.prototype.qI;a.CoreControls.DocumentViewer.prototype.getToolMode=a.k.ca.prototype.NF;a.CoreControls.DocumentViewer.prototype.rotateClockwise=a.k.ca.prototype.EH;a.CoreControls.DocumentViewer.prototype.rotateCounterClockwise=a.k.ca.prototype.FH;a.CoreControls.DocumentViewer.prototype.textSearchInit=a.k.ca.prototype.aB;a.CoreControls.DocumentViewer.prototype.SearchMode=
function(){};a.CoreControls.DocumentViewer.prototype.SearchMode.e_case_sensitive=XODText.wb.qy;a.CoreControls.DocumentViewer.prototype.SearchMode.e_whole_word=XODText.wb.ty;a.CoreControls.DocumentViewer.prototype.SearchMode.e_search_up=XODText.wb.Qs;a.CoreControls.DocumentViewer.prototype.SearchMode.e_page_stop=XODText.wb.sy;a.CoreControls.DocumentViewer.prototype.SearchMode.e_highlight=XODText.wb.ry;a.CoreControls.DocumentViewer.prototype.SearchMode.e_ambient_string=XODText.wb.py;a.CoreControls.DocumentViewer.prototype.displayBookmark=
a.k.ca.prototype.BE;a.CoreControls.DocumentViewer.prototype.getDocument=a.k.ca.prototype.getDocument;a.CoreControls.DocumentViewer.prototype.getSelectedText=a.k.ca.prototype.hp;a.CoreControls.DocumentViewer.prototype.setTextHighlightColor=a.k.ca.prototype.pI;a.CoreControls.DocumentViewer.prototype.displaySearchResult=a.k.ca.prototype.jy;a.CoreControls.DocumentViewer.prototype.scrollViewUpdated=a.k.ca.prototype.MH;a.CoreControls.DocumentViewer.prototype.closeDocument=a.k.ca.prototype.Tx;a.CoreControls.DocumentViewer.prototype.setOptions=
a.k.ca.prototype.hd;a.CoreControls.DocumentViewer.prototype.recalculateLayout=a.k.ca.prototype.iA;a.CoreControls.DocumentViewer.prototype.refreshAll=a.k.ca.prototype.tH;a.CoreControls.DocumentViewer.prototype.refreshPage=a.k.ca.prototype.uH;a.CoreControls.DocumentViewer.prototype.printCurrentDocument=a.k.ca.prototype.fH;a.CoreControls.DocumentViewer.prototype.getRenderingPipeline=a.k.ca.prototype.ek;a.CoreControls.RenderingPipeline=a.k.kj;a.CoreControls.RenderingPipeline.PipelineManager=a.k.kj.fl;
a.CoreControls.RenderingPipeline.PipelineManager.prototype.registerHandlers=a.k.kj.fl.prototype.tu;a.CoreControls.RenderingPipeline.PipelineManager.prototype.pushChange=a.k.kj.fl.prototype.je;a.CoreControls.RenderingPipeline.PipelineManager.prototype.hasPipeline=a.k.kj.fl.prototype.ZF;a.CoreControls.SetCachingLevel=a.k.Zq;a.CoreControls.SetPreRenderLevel=a.k.Gv;a.CoreControls.DocumentViewer.prototype.getMargin=a.k.ca.prototype.Zy;a.CoreControls.DocumentViewer.prototype.setMargin=a.k.ca.prototype.cI;
a.CoreControls.DocumentViewer.prototype.updateView=a.k.ca.prototype.Mk;a.CoreControls.DocumentViewer.prototype.updateVisiblePages=a.k.ca.prototype.Nk;a.CoreControls.DocumentViewer.prototype.stopPageRender=a.k.ca.prototype.Jk;a.CoreControls.DocumentViewer.prototype.setPagesPerCanvas=a.k.ca.prototype.mq;a.CoreControls.DocumentViewer.prototype.returnCanvas=a.k.ca.prototype.cq;a.CoreControls.DocumentViewer.prototype.drawSelection=a.k.ca.prototype.IE;a.CoreControls.DocumentViewer.prototype.clearSelection=
a.k.ca.prototype.As;a.CoreControls.DocumentViewer.prototype.removeContent=a.k.ca.prototype.Ii;a.CoreControls.DocumentViewer.prototype.select=a.k.ca.prototype.select;a.CoreControls.DocumentViewer.prototype.getPageHeight=a.k.ca.prototype.Rb;a.CoreControls.DocumentViewer.prototype.getPageWidth=a.k.ca.prototype.Sb;a.CoreControls.DocumentViewer.prototype.setPageZoom=a.k.ca.prototype.Lu;a.CoreControls.DocumentViewer.prototype.getPageZoom=a.k.ca.prototype.lb;a.CoreControls.DocumentViewer.prototype.getRotation=
a.k.ca.prototype.zc;a.CoreControls.DocumentViewer.prototype.setRotation=a.k.ca.prototype.mI;a.CoreControls.DocumentViewer.prototype.getCompleteRotation=a.k.ca.prototype.kf;a.CoreControls.DocumentViewer.prototype.getPageRotations=a.k.ca.prototype.AF;a.CoreControls.DocumentViewer.prototype.setPageRotations=a.k.ca.prototype.gI;a.CoreControls.DocumentViewer.prototype.getAnnotationManager=a.k.ca.prototype.ad;a.CoreControls.DocumentViewer.prototype.setInternalAnnotationsTransform=a.k.ca.prototype.aI;a.CoreControls.DocumentViewer.prototype.getDisplayModeManager=
a.k.ca.prototype.Yl;a.CoreControls.DocumentViewer.prototype.setViewportRenderMode=a.k.ca.prototype.Qu;a.CoreControls.DocumentViewer.prototype.setRenderBatchSize=a.k.ca.prototype.HA;a.CoreControls.DisplayMode=a.k.kd;a.CoreControls.DisplayMode.prototype.setParameters=a.k.kd.prototype.iI;a.CoreControls.DisplayMode.prototype.isContinuous=a.k.kd.prototype.Lt;a.CoreControls.DisplayMode.prototype.windowToPage=a.k.kd.prototype.Ui;a.CoreControls.DisplayMode.prototype.pageToWindow=a.k.kd.prototype.ed;a.CoreControls.DisplayMode.prototype.getSelectedPages=
a.k.kd.prototype.gp;a.CoreControls.DisplayMode.prototype.getVisiblePages=a.k.kd.prototype.Nd;a.CoreControls.DisplayMode.prototype.getPageTransform=a.k.kd.prototype.dk;a.CoreControls.DisplayMode.prototype.getPageOffset=a.k.kd.prototype.st;a.CoreControls.DisplayMode.prototype.createPageSections=a.k.kd.prototype.pK;a.CoreControls.DisplayMode.prototype.setCustomFunctions=a.k.kd.prototype.WH;a.CoreControls.DisplayModes=a.k.ld;a.CoreControls.DisplayModes.Single=a.k.ld.Hv;a.CoreControls.DisplayModes.Continuous=
a.k.ld.Vk;a.CoreControls.DisplayModes.Facing=a.k.ld.pv;a.CoreControls.DisplayModes.FacingContinuous=a.k.ld.Oq;a.CoreControls.DisplayModes.Cover=a.k.ld.en;a.CoreControls.DisplayModes.CoverFacing=a.k.ld.gn;a.CoreControls.DisplayModes.Custom=a.k.ld.Bf;a.CoreControls.DisplayModeManager=a.k.Wk;a.CoreControls.DisplayModeManager.prototype.setDisplayMode=a.k.Wk.prototype.zA;a.CoreControls.DisplayModeManager.prototype.getDisplayMode=a.k.Wk.prototype.Pb;a.CoreControls.AnnotationManager=a.k.ea;a.CoreControls.AnnotationManager.prototype.addAnnotation=
a.k.ea.prototype.Pg;a.CoreControls.AnnotationManager.prototype.addAnnotations=a.k.ea.prototype.Lj;a.CoreControls.AnnotationManager.prototype.deleteAnnotation=a.k.ea.prototype.hi;a.CoreControls.AnnotationManager.prototype.deleteAnnotations=a.k.ea.prototype.Js;a.CoreControls.AnnotationManager.prototype.selectAnnotation=a.k.ea.prototype.Ck;a.CoreControls.AnnotationManager.prototype.selectAnnotations=a.k.ea.prototype.Au;a.CoreControls.AnnotationManager.prototype.deselectAnnotation=a.k.ea.prototype.Ll;
a.CoreControls.AnnotationManager.prototype.deselectAllAnnotations=a.k.ea.prototype.ae;a.CoreControls.AnnotationManager.prototype.isAnnotationSelected=a.k.ea.prototype.lk;a.CoreControls.AnnotationManager.prototype.getSelectedAnnotations=a.k.ea.prototype.rf;a.CoreControls.AnnotationManager.prototype.updateCopiedAnnotations=a.k.ea.prototype.aJ;a.CoreControls.AnnotationManager.prototype.pasteCopiedAnnotations=a.k.ea.prototype.ZG;a.CoreControls.AnnotationManager.prototype.getAnnotationCopy=a.k.ea.prototype.it;
a.CoreControls.AnnotationManager.prototype.drawAnnotations=a.k.ea.prototype.bc;a.CoreControls.AnnotationManager.prototype.redrawAnnotation=a.k.ea.prototype.Bc;a.CoreControls.AnnotationManager.prototype.drawAnnotationsFromList=a.k.ea.prototype.Ko;a.CoreControls.AnnotationManager.prototype.updateAnnotation=a.k.ea.prototype.YI;a.CoreControls.AnnotationManager.prototype.jumpToAnnotation=a.k.ea.prototype.vG;a.CoreControls.AnnotationManager.prototype.hasAnnotation=a.k.ea.prototype.fh;a.CoreControls.AnnotationManager.prototype.getAnnotationsList=
a.k.ea.prototype.Xg;a.CoreControls.AnnotationManager.prototype.setNoteContents=a.k.ea.prototype.Ku;a.CoreControls.AnnotationManager.prototype.getCurrentUser=a.k.ea.prototype.Zj;a.CoreControls.AnnotationManager.prototype.setCurrentUser=a.k.ea.prototype.UH;a.CoreControls.AnnotationManager.prototype.getIsAdminUser=a.k.ea.prototype.qF;a.CoreControls.AnnotationManager.prototype.setIsAdminUser=a.k.ea.prototype.bI;a.CoreControls.AnnotationManager.prototype.setReadOnly=a.k.ea.prototype.kI;a.CoreControls.AnnotationManager.prototype.getReadOnly=
a.k.ea.prototype.wt;a.CoreControls.AnnotationManager.prototype.canModify=a.k.ea.prototype.qc;a.CoreControls.AnnotationManager.prototype.setPermissionCheckCallback=a.k.ea.prototype.jI;a.CoreControls.AnnotationManager.prototype.getAnnotCommand=a.k.ea.prototype.ft;a.CoreControls.AnnotationManager.prototype.importAnnotCommand=a.k.ea.prototype.Gt;a.CoreControls.AnnotationManager.prototype.exportAnnotations=a.k.ea.prototype.OE;a.CoreControls.AnnotationManager.prototype.importAnnotations=a.k.ea.prototype.cG;
a.CoreControls.AnnotationManager.prototype.importAnnotationsAsync=a.k.ea.prototype.Ht;a.CoreControls.AnnotationManager.prototype.setMarkupOff=a.k.ea.prototype.Ju;a.CoreControls.AnnotationManager.prototype.getMarkupOff=a.k.ea.prototype.$o;a.CoreControls.AnnotationManager.prototype.toggleAnnotations=a.k.ea.prototype.TI;a.CoreControls.AnnotationManager.prototype.getUseFilter=a.k.ea.prototype.kp;a.CoreControls.AnnotationManager.prototype.setUseFilter=a.k.ea.prototype.Ou;a.CoreControls.AnnotationManager.prototype.filterAnnotations=
a.k.ea.prototype.RE;a.CoreControls.AnnotationManager.prototype.useDefaultStickyNotes=a.k.ea.prototype.uh;a.CoreControls.AnnotationManager.prototype.disableDefaultStickyNotes=a.k.ea.prototype.yE;a.CoreControls.AnnotationManager.prototype.useFreeTextEditing=a.k.ea.prototype.jB;a.CoreControls.AnnotationManager.prototype.disableFreeTextEditing=a.k.ea.prototype.zE;a.CoreControls.AnnotationManager.prototype.registerAnnotationType=a.k.ea.prototype.vH;a.CoreControls.AnnotationManager.prototype.deregisterAnnotationType=
a.k.ea.prototype.xE;a.CoreControls.AnnotationManager.prototype.getRegisteredAnnotationTypes=a.k.ea.prototype.FF;a.CoreControls.AnnotationManager.prototype.getAnnotationFromPopup=a.k.ea.prototype.$E;a.CoreControls.AnnotationManager.prototype.getAnnotationByMouseEvent=a.k.ea.prototype.ht;a.CoreControls.AnnotationManager.prototype.getAnnotationById=a.k.ea.prototype.Yj;a.CoreControls.AnnotationManager.prototype.getRootAnnotation=a.k.ea.prototype.gm;a.CoreControls.AnnotationManager.prototype.createAnnotationReply=
a.k.ea.prototype.Wx;a.CoreControls.AnnotationManager.prototype.hideAnnotation=a.k.ea.prototype.aG;a.CoreControls.AnnotationManager.prototype.hideAnnotations=a.k.ea.prototype.rz;a.CoreControls.AnnotationManager.prototype.showAnnotation=a.k.ea.prototype.zI;a.CoreControls.AnnotationManager.prototype.showAnnotations=a.k.ea.prototype.QA;a.CoreControls.AnnotationManager.prototype.getFieldManager=a.k.ea.prototype.ni;a.Actions=a.Actions;a.Actions.GoTo=a.Actions.Te;a.Actions.URI=a.Actions.pj;a.Actions.Named=
a.Actions.fj;a.Actions.JavaScript=a.Actions.cj;a.Actions.ResetForm=a.Actions.Dh;a.Actions.SubmitForm=a.Actions.Fh;a.Actions.Hide=a.Actions.bj;a.Annotations=a.Annotations;a.Annotations.Color=a.Annotations.Color;a.Annotations.Color.prototype.toHexString=a.Annotations.Color.prototype.toHexString;a.Annotations.Forms=a.Annotations.N;a.Annotations.Forms.FieldManager=a.Annotations.N.Xk;a.Annotations.Forms.FieldManager.prototype.getField=a.Annotations.N.Xk.prototype.kb;a.Annotations.Forms.Field=a.Annotations.N.aa;
a.Annotations.Forms.Field.prototype.getValue=a.Annotations.N.aa.prototype.Ma;a.Annotations.Forms.Field.prototype.setValue=a.Annotations.N.aa.prototype.mb;a.Annotations.Forms.Field.prototype.setVisible=a.Annotations.N.aa.prototype.tg;a.Annotations.Forms.Field.prototype.on=a.Annotations.N.aa.prototype.on;a.Annotations.Forms.Field.prototype.off=a.Annotations.N.aa.prototype.off;a.Annotations.Forms.Field.prototype.trigger=a.Annotations.N.aa.prototype.trigger;a.Annotations.HTMLAnnotation=a.Annotations.Ta;
a.Annotations.HTMLAnnotation.prototype.addAction=a.Annotations.Ta.prototype.Zh;a.Annotations.HTMLAnnotation.prototype.getActions=a.Annotations.Ta.prototype.li;a.Annotations.HTMLAnnotation.prototype.triggerAction=a.Annotations.Ta.prototype.Rd;a.Annotations.HTMLAnnotation.prototype.getInnerElement=a.Annotations.Ta.prototype.Yy;a.Annotations.HTMLAnnotation.prototype.getElement=a.Annotations.Ta.prototype.Ry;a.Annotations.WidgetAnnotation=a.Annotations.ta;a.Annotations.WidgetAnnotation.prototype.setValue=
a.Annotations.ta.prototype.mb;a.Annotations.WidgetAnnotation.prototype.getValue=a.Annotations.ta.prototype.Ma;a.Annotations.WidgetAnnotation.prototype.addAction=a.Annotations.ta.prototype.Zh;a.Annotations.WidgetAnnotation.prototype.getField=a.Annotations.ta.prototype.kb;a.Annotations.WidgetAnnotation.prototype.setField=a.Annotations.ta.prototype.BA;a.Annotations.WidgetAnnotation.prototype.on=a.Annotations.ta.prototype.on;a.Annotations.WidgetAnnotation.prototype.off=a.Annotations.ta.prototype.off;
a.Annotations.WidgetAnnotation.prototype.trigger=a.Annotations.ta.prototype.trigger;a.Annotations.TextWidgetAnnotation=a.Annotations.Ih;a.Annotations.ChoiceWidgetAnnotation=a.Annotations.zg;a.Annotations.ListWidgetAnnotation=a.Annotations.Cg;a.Annotations.ButtonWidgetAnnotation=a.Annotations.Lb;a.Annotations.PushButtonWidgetAnnotation=a.Annotations.Bh;a.Annotations.CheckButtonWidgetAnnotation=a.Annotations.yg;a.Annotations.RadioButtonWidgetAnnotation=a.Annotations.Ch;a.Annotations.SignatureWidgetAnnotation=
a.Annotations.Eh;a.Annotations.Annotation=a.Annotations.Annotation;a.Annotations.Annotation.prototype.getPageNumber=a.Annotations.Annotation.prototype.Ib;a.Annotations.Annotation.prototype.setPageNumber=a.Annotations.Annotation.prototype.CA;a.Annotations.Annotation.prototype.getX=a.Annotations.Annotation.prototype.ri;a.Annotations.Annotation.prototype.setX=a.Annotations.Annotation.prototype.uI;a.Annotations.Annotation.prototype.getY=a.Annotations.Annotation.prototype.si;a.Annotations.Annotation.prototype.setY=
a.Annotations.Annotation.prototype.vI;a.Annotations.Annotation.prototype.getTop=a.Annotations.Annotation.prototype.eh;a.Annotations.Annotation.prototype.getBottom=a.Annotations.Annotation.prototype.Ky;a.Annotations.Annotation.prototype.getLeft=a.Annotations.Annotation.prototype.ah;a.Annotations.Annotation.prototype.getRight=a.Annotations.Annotation.prototype.jz;a.Annotations.Annotation.prototype.getWidth=a.Annotations.Annotation.prototype.wa;a.Annotations.Annotation.prototype.setWidth=a.Annotations.Annotation.prototype.sI;
a.Annotations.Annotation.prototype.getHeight=a.Annotations.Annotation.prototype.va;a.Annotations.Annotation.prototype.setHeight=a.Annotations.Annotation.prototype.Iu;a.Annotations.Annotation.prototype.getCustom=a.Annotations.Annotation.prototype.fF;a.Annotations.Annotation.prototype.setCustom=a.Annotations.Annotation.prototype.VH;a.Annotations.Annotation.prototype.draw=a.Annotations.Annotation.prototype.draw;a.Annotations.Annotation.prototype.serialize=a.Annotations.Annotation.prototype.serialize;
a.Annotations.Annotation.prototype.deserialize=a.Annotations.Annotation.prototype.deserialize;a.Annotations.Annotation.prototype.setRect=a.Annotations.Annotation.prototype.sg;a.Annotations.Annotation.prototype.getRect=a.Annotations.Annotation.prototype.de;a.Annotations.Annotation.prototype.getRectPadding=a.Annotations.Annotation.prototype.getRectPadding;a.Annotations.Annotation.prototype.adjustRect=a.Annotations.Annotation.prototype.adjustRect;a.Annotations.Annotation.prototype.setContents=a.Annotations.Annotation.prototype.Ni;
a.Annotations.Annotation.prototype.getContents=a.Annotations.Annotation.prototype.Zg;a.Annotations.Annotation.prototype.isReply=a.Annotations.Annotation.prototype.Fe;a.Annotations.Annotation.prototype.getReplies=a.Annotations.Annotation.prototype.fm;a.Annotations.Annotation.prototype.isWidget=a.Annotations.Annotation.prototype.ih;a.Annotations.Annotation.prototype.selectionModel=a.Annotations.Annotation.prototype.selectionModel;a.Annotations.Annotation.prototype.elementName=a.Annotations.Annotation.prototype.elementName;
a.Annotations.Point=a.Annotations.Point;a.Annotations.Quad=a.Annotations.gb;a.Annotations.Border=a.Annotations.Tk;a.Annotations.Font=a.Annotations.Df;a.Annotations.Rect=a.Annotations.na;a.Annotations.Rect.prototype.getWidth=a.Annotations.na.prototype.wa;a.Annotations.Rect.prototype.getHeight=a.Annotations.na.prototype.va;a.Annotations.Rect.prototype.translate=a.Annotations.na.prototype.translate;a.Annotations.Rect.prototype.fitTo=a.Annotations.na.prototype.Vs;a.Annotations.Rect.prototype.normalize=
a.Annotations.na.prototype.normalize;a.Annotations.Link=a.Annotations.nd;a.Annotations.PopupAnnotation=a.Annotations.Fg;a.Annotations.PopupAnnotation.prototype.isOpen=a.Annotations.Fg.prototype.isOpen;a.Annotations.PopupAnnotation.prototype.setOpen=a.Annotations.Fg.prototype.Gk;a.Annotations.MarkupAnnotation=a.Annotations.ka;a.Annotations.MarkupAnnotation.prototype.setStyles=a.Annotations.ka.prototype.Cc;a.Annotations.MarkupAnnotation.prototype.selectionModel=a.Annotations.ka.prototype.selectionModel;
a.Annotations.MarkupAnnotation.prototype.getPopup=a.Annotations.ka.prototype.qf;a.Annotations.MarkupAnnotation.prototype.setPopup=a.Annotations.ka.prototype.Mu;a.Annotations.IPathAnnotation=a.Annotations.Rc;a.Annotations.IPathAnnotation.prototype.addPathPoint=a.Annotations.Rc.prototype.Fb;a.Annotations.IPathAnnotation.prototype.setPathPoint=a.Annotations.Rc.prototype.le;a.Annotations.IPathAnnotation.prototype.getPathPoint=a.Annotations.Rc.prototype.fg;a.Annotations.IPathAnnotation.prototype.popPath=
a.Annotations.Rc.prototype.uk;a.Annotations.IPathAnnotation.prototype.getPath=a.Annotations.Rc.prototype.getPath;a.Annotations.LineAnnotation=a.Annotations.md;a.Annotations.LineAnnotation.prototype.setStartPoint=a.Annotations.md.prototype.IA;a.Annotations.LineAnnotation.prototype.getStartPoint=a.Annotations.md.prototype.MF;a.Annotations.LineAnnotation.prototype.setEndPoint=a.Annotations.md.prototype.setEndPoint;a.Annotations.LineAnnotation.prototype.getEndPoint=a.Annotations.md.prototype.hF;a.Annotations.LineAnnotation.prototype.setStartStyle=
a.Annotations.md.prototype.Pi;a.Annotations.LineAnnotation.prototype.getStartStyle=a.Annotations.md.prototype.hm;a.Annotations.LineAnnotation.prototype.setEndStyle=a.Annotations.md.prototype.AA;a.Annotations.LineAnnotation.prototype.getEndStyle=a.Annotations.md.prototype.Uy;a.Annotations.RectangleAnnotation=a.Annotations.jj;a.Annotations.EllipseAnnotation=a.Annotations.Yi;a.Annotations.FreeHandAnnotation=a.Annotations.FreeHandAnnotation;a.Annotations.FreeHandAnnotation.prototype.addPathPoint=a.Annotations.FreeHandAnnotation.prototype.Fb;
a.Annotations.FreeHandAnnotation.prototype.setPathPoint=a.Annotations.FreeHandAnnotation.prototype.le;a.Annotations.FreeHandAnnotation.prototype.getPathPoint=a.Annotations.FreeHandAnnotation.prototype.fg;a.Annotations.FreeHandAnnotation.prototype.popPath=a.Annotations.FreeHandAnnotation.prototype.uk;a.Annotations.FreeHandAnnotation.prototype.getPath=a.Annotations.FreeHandAnnotation.prototype.getPath;a.Annotations.FreeHandAnnotation.prototype.setPath=a.Annotations.FreeHandAnnotation.prototype.setPath;
a.Annotations.FreeHandAnnotation.prototype.getPaths=a.Annotations.FreeHandAnnotation.prototype.qi;a.Annotations.FreeHandAnnotation.prototype.shouldSimplifyPath=a.Annotations.FreeHandAnnotation.prototype.shouldSimplifyPath;a.Annotations.TextMarkupAnnotation=a.Annotations.Tc;a.Annotations.TextMarkupAnnotation.prototype.setQuads=a.Annotations.Tc.prototype.Nu;a.Annotations.TextHighlightAnnotation=a.Annotations.If;a.Annotations.TextUnderlineAnnotation=a.Annotations.oj;a.Annotations.TextStrikeoutAnnotation=
a.Annotations.Hh;a.Annotations.TextSquigglyAnnotation=a.Annotations.nj;a.Annotations.CaretAnnotation=a.Annotations.Uk;a.Annotations.StickyAnnotation=a.Annotations.Hf;a.Annotations.StampAnnotation=a.Annotations.lj;a.Annotations.PolylineAnnotation=a.Annotations.ij;a.Annotations.PolygonAnnotation=a.Annotations.Eg;a.Annotations.FreeTextAnnotation=a.Annotations.Ja;a.Annotations.FreeTextAnnotation.prototype.getPadding=a.Annotations.Ja.prototype.cz;a.Annotations.FreeTextAnnotation.prototype.setPadding=a.Annotations.Ja.prototype.Hk;
a.Annotations.FreeTextAnnotation.prototype.getIntent=a.Annotations.Ja.prototype.oi;a.Annotations.FreeTextAnnotation.prototype.setIntent=a.Annotations.Ja.prototype.Fk;a.Annotations.FreeTextAnnotation.prototype.addPathPoint=a.Annotations.Ja.prototype.Fb;a.Annotations.FreeTextAnnotation.prototype.setStartStyle=a.Annotations.Ja.prototype.Pi;a.Annotations.FreeTextAnnotation.prototype.getStartStyle=a.Annotations.Ja.prototype.hm;a.Annotations.FreeTextAnnotation.Intent=a.Annotations.Ja.Ad;a.Annotations.ControlHandle=
a.Annotations.ControlHandle;a.Annotations.ControlHandle.prototype.testSelection=a.Annotations.ControlHandle.prototype.testSelection;a.Annotations.BoxControlHandle=a.Annotations.Sd;a.Annotations.LineControlHandle=a.Annotations.dj;a.Annotations.PathControlHandle=a.Annotations.Xe;a.Annotations.TextControlHandle=a.Annotations.mj;a.Annotations.SelectionModel=a.Annotations.SelectionModel;a.Annotations.SelectionModel.prototype.testSelection=a.Annotations.SelectionModel.prototype.testSelection;a.Annotations.SelectionModel.prototype.testControlHandles=
a.Annotations.SelectionModel.prototype.rq;a.Annotations.SelectionModel.prototype.getControlHandles=a.Annotations.SelectionModel.prototype.eF;a.Annotations.SelectionModel.prototype.canModify=a.Annotations.SelectionModel.prototype.qc;a.Annotations.SelectionModel.prototype.draw=a.Annotations.SelectionModel.prototype.draw;a.Annotations.SelectionModel.prototype.drawPopupTail=a.Annotations.SelectionModel.prototype.drawPopupTail;a.Annotations.BoxSelectionModel=a.Annotations.xa;a.Annotations.LineSelectionModel=
a.Annotations.bl;a.Annotations.PathSelectionModel=a.Annotations.gj;a.Annotations.TextSelectionModel=a.Annotations.Gh;a.Annotations.XfdfUtils=a.Annotations.da;a.Annotations.XfdfUtils.serializePoint=a.Annotations.da.fq;a.Annotations.XfdfUtils.deserializePoint=a.Annotations.da.fq;a.Annotations.XfdfUtils.serializePointArray=a.Annotations.da.Ek;a.Annotations.XfdfUtils.deserializePointArray=a.Annotations.da.ji;a.Annotations.XfdfUtils.serializeRect=a.Annotations.da.gq;a.Annotations.XfdfUtils.deserializeRect=
a.Annotations.da.Ns;a.Annotations.XfdfUtils.serializeFringeRect=a.Annotations.da.Cu;a.Annotations.XfdfUtils.deserializeFringeRect=a.Annotations.da.gy;a.Annotations.XfdfUtils.toXmlDate=a.Annotations.da.Yu;a.Annotations.SelectionAlgorithm=a.Annotations.Xb;a.Annotations.SelectionAlgorithm.boundingRectTest=a.Annotations.Xb.Oj;a.Annotations.SelectionAlgorithm.canvasVisibilityTest=a.Annotations.Xb.Kl;a.Annotations.SelectionAlgorithm.textQuadTest=a.Annotations.Xb.$A;a.Tool=a.Tool;a.Tools=a.Ca;a.Tools.Tool=
a.Ca.Tool;a.Tools.Tool.prototype.getDocumentViewer=a.Ca.Tool.prototype.$j;a.Tools.AnnotationSelectTool=a.Ca.AnnotationSelectTool;a.Tools.TextTool=a.Ca.Cb;a.Tools.GenericAnnotationCreateTool=a.Ca.nb;a.Tools.PanTool=a.Ca.Uq;a.Tools.TextSelectTool=a.Ca.Nv;a.Tools.AnnotationEditTool=a.Ca.iv;a.Tools.LineCreateTool=a.Ca.al;a.Tools.ArrowCreateTool=a.Ca.jv;a.Tools.RectangleCreateTool=a.Ca.Ev;a.Tools.EllipseCreateTool=a.Ca.ov;a.Tools.FreeHandCreateTool=a.Ca.FreeHandCreateTool;a.Tools.SignatureCreateTool=a.Ca.SignatureCreateTool;
a.Tools.SignatureCreateTool.prototype.setSignatureCanvas=a.Ca.SignatureCreateTool.prototype.oI;a.Tools.SignatureCreateTool.prototype.clearSignatureCanvas=a.Ca.SignatureCreateTool.prototype.dE;a.Tools.SignatureCreateTool.prototype.initDefaultSignature=a.Ca.SignatureCreateTool.prototype.uz;a.Tools.SignatureCreateTool.prototype.hasDefaultSignature=a.Ca.SignatureCreateTool.prototype.VF;a.Tools.SignatureCreateTool.prototype.addDefaultSignature=a.Ca.SignatureCreateTool.prototype.yD;a.Tools.SignatureCreateTool.prototype.openSignature=
a.Ca.SignatureCreateTool.prototype.TG;a.Tools.SignatureCreateTool.prototype.addSignature=a.Ca.SignatureCreateTool.prototype.Dx;a.Tools.SignatureCreateTool.prototype.isEmptySignature=a.Ca.SignatureCreateTool.prototype.zz;a.Tools.StickyCreateTool=a.Ca.Iv;a.Tools.TextAnnotationCreateTool=a.Ca.od;a.Tools.TextHighlightCreateTool=a.Ca.Mv;a.Tools.TextUnderlineCreateTool=a.Ca.Qv;a.Tools.TextStrikeoutCreateTool=a.Ca.Pv;a.Tools.TextSquigglyCreateTool=a.Ca.Ov;a.Tools.PolylineCreateTool=a.Ca.gl;a.Tools.PolygonCreateTool=
a.Ca.hj;a.Tools.PolygonCloudCreateTool=a.Ca.qn;a.Tools.CalloutCreateTool=a.Ca.Gq;a.Tools.FreeTextCreateTool=a.Ca.sv})(window);
(function(){function a(a,f,b){function c(a,b){var c=b<<1;return 128>b?a*(c+(a*(255-c)>>8))>>8:a*(511-c)+Math.sqrt(a<<8)*(c-255)>>8}function g(a,b){return 128>a?a*b>>7:255-((255-b)*(255-a)>>7)}function h(a,b){return 255==b&&0==a?255:Math.min(255,(a<<8)/(255-b))}function n(a,b){return 255==b&&0==a?0:255-Math.min(255,(255-a<<8)/b)}function m(a,b,c){return{r:0.299*a+0.587*b+0.114*c,g:-0.1687*a-0.3313*b+0.5*c,b:0.5*a-0.4187*b-0.0813*c}}function l(a,b,c){return{r:a+1.402*c,g:a-0.3441*b-0.7141*c,b:a+1.772*
b}}function p(a,b,c){a=m(a,b,c);return{ee:Math.atan2(a.g,a.b),s:Math.sqrt(a.g*a.g+a.b*a.b),lB:a.r}}function r(a,b,c){return l(c,b*Math.sin(a),b*Math.cos(a))}var q={},s;for(s in e)e.hasOwnProperty(s)&&(q[s]=b&&b[s]||e[s]);"auto"==q.width&&(q.width=this.canvas.width);"auto"==q.height&&(q.height=this.canvas.height);q.width=Math.min(q.width,this.canvas.width-q.SA,a.canvas.width-q.x);q.height=Math.min(q.height,this.canvas.height-q.TA,a.canvas.height-q.y);s=this.getImageData(q.SA,q.TA,q.width,q.height);
b=a.getImageData(q.x,q.y,q.width,q.height);s=s.data;for(var u=b.data,v,w,x=u.length,A,B,y,z,I,D,F,H,G,K,J,L,P,N,E=0;E<x;E+=4)if(v=s[E+3]/255,w=u[E+3]/255,F=v+w-v*w,u[E+3]=255*F,0!=v)if(0==w)u[E]=s[E],u[E+1]=s[E+1],u[E+2]=s[E+2];else{H=u[E];G=u[E+1];K=u[E+2];J=s[E];L=s[E+1];P=s[E+2];A=J/255*v;z=H/255*w;B=L/255*v;I=G/255*w;y=P/255*v;D=K/255*w;N=255/F;F=w*v;var O=w-F,Q=v-F;switch(f){case "normal":case "src-over":u[E]=(A+z-z*v)*N;u[E+1]=(B+I-I*v)*N;u[E+2]=(y+D-D*v)*N;break;case "screen":u[E]=(A+z-A*z)*
N;u[E+1]=(B+I-B*I)*N;u[E+2]=(y+D-y*D)*N;break;case "multiply":u[E]=(A*z+A*(1-w)+z*(1-v))*N;u[E+1]=(B*I+B*(1-w)+I*(1-v))*N;u[E+2]=(y*D+y*(1-w)+D*(1-v))*N;break;case "difference":u[E]=(A+z-2*Math.min(A*w,z*v))*N;u[E+1]=(B+I-2*Math.min(B*w,I*v))*N;u[E+2]=(y+D-2*Math.min(y*w,D*v))*N;break;case "src-in":F=v*w;N=255/F;u[E]=A*w*N;u[E+1]=B*w*N;u[E+2]=y*w*N;u[E+3]=255*F;break;case "plus":case "add":u[E]=Math.min(A+z,1)*N;u[E+1]=Math.min(B+I,1)*N;u[E+2]=Math.min(y+D,1)*N;break;case "overlay":u[E]=F*g(H,J)+
O*H+Q*J;u[E+1]=F*g(G,L)+O*G+Q*L;u[E+2]=F*g(K,P)+O*K+Q*P;break;case "hard-light":u[E]=F*g(J,H)+O*H+Q*J;u[E+1]=F*g(L,G)+O*G+Q*L;u[E+2]=F*g(P,K)+O*K+Q*P;break;case "color-dodge":case "dodge":u[E]=F*h(H,J)+O*H+Q*J;u[E+1]=F*h(G,L)+O*G+Q*L;u[E+2]=F*h(K,P)+O*K+Q*P;break;case "color-burn":case "burn":u[E]=F*n(H,J)+O*H+Q*J;u[E+1]=F*n(G,L)+O*G+Q*L;u[E+2]=F*n(K,P)+O*K+Q*P;break;case "darken":case "darker":u[E]=F*(H<J?H:J)+O*H+Q*J;u[E+1]=F*(G<L?G:L)+O*G+Q*L;u[E+2]=F*(K<P?K:P)+O*K+Q*P;break;case "lighten":case "lighter":u[E]=
(A<z?z:A)*N;u[E+1]=(B<I?I:B)*N;u[E+2]=(y<D?D:y)*N;break;case "exclusion":u[E]=(z+A-2*z*A)*N;u[E+1]=(I+B-2*I*B)*N;u[E+2]=(D+y-2*D*y)*N;break;case "soft-light":u[E]=F*c(H,J)+O*H+Q*J;u[E+1]=F*c(G,L)+O*G+Q*L;u[E+2]=F*c(K,P)+O*K+Q*P;break;case "luminosity":v=m(H,G,K);w=m(J,L,P);v=l(w.r,v.g,v.b);u[E]=F*v.r+O*H+Q*J;u[E+1]=F*v.g+O*G+Q*L;u[E+2]=F*v.b+O*K+Q*P;break;case "color":v=m(H,G,K);w=m(J,L,P);v=l(v.r,w.g,w.b);u[E]=F*v.r+O*H+Q*J;u[E+1]=F*v.g+O*G+Q*L;u[E+2]=F*v.b+O*K+Q*P;break;case "hue":v=p(H,G,K);w=
p(J,L,P);v=r(w.ee,v.s,v.lB);u[E]=F*v.r+O*H+Q*J;u[E+1]=F*v.g+O*G+Q*L;u[E+2]=F*v.b+O*K+Q*P;break;case "saturation":v=p(H,G,K);w=p(J,L,P);v=r(v.ee,w.s,v.lB);u[E]=F*v.r+O*H+Q*J;u[E+1]=F*v.g+O*G+Q*L;u[E+2]=F*v.b+O*K+Q*P;break;case "lighter-color":v=0<2.623*(H-J)+5.15*(G-L)+K-P?{r:H,g:G,b:K}:{r:J,g:L,b:P};u[E]=F*v.r+O*H+Q*J;u[E+1]=F*v.g+O*G+Q*L;u[E+2]=F*v.b+O*K+Q*P;break;case "darker-color":v=0>2.623*(H-J)+5.15*(G-L)+K-P?{r:H,g:G,b:K}:{r:J,g:L,b:P};u[E]=F*v.r+O*H+Q*J;u[E+1]=F*v.g+O*G+Q*L;u[E+2]=F*v.b+O*
K+Q*P;break;default:H=E/4%this.canvas.width,G=Math.floor(E/4/this.canvas.width),H=4>H%8&&4>G%8||3<H%8&&3<G%8,u[E]=u[E+3]=255,u[E+1]=H?255:0,u[E+2]=H?0:255}}a.putImageData(b,q.x,q.y)}var e={x:0,y:0,SA:0,TA:0,width:"auto",height:"auto"};(function(d){if(!d||"function"!==typeof d.getImageData)return console.error("context blender called without a valid context prototype");Object.defineProperty(d,"bO",{value:a});for(var e=a.ML="normal src-over screen multiply difference src-in plus add overlay hardlight colordodge dodge colorburn burn darken darker lighten lighter exclusion softlight luminosity color hue saturation lightercolor darkercolor".split(" "),
b=a.supports={},c=e.length;c--;)b[e[c]]=!0;a.dK={"src-over":"normal",Gm:"add",GK:"colordodge",fK:"colorburn",BK:"darken",hL:"lighten"};return d})(CanvasRenderingContext2D&&CanvasRenderingContext2D.prototype)})();
(function(a){var e=a._trnDebugMode;"undefined"===typeof a.utils&&(a.utils={warn:function(a){e&&console.warn(a)},log:function(a){e&&console.log(a)},error:function(a){e&&console.error(a);throw Error(a);}});a.info=function(d){a.utils.log(d)};a.warn=function(d){a.utils.warn(d)};a.error=function(d){a.utils.error(d)}})("undefined"===typeof window?this:window);("undefined"===typeof window?this:window).JK=0;var Y={};
(function(a){a.uv=function(e,d){this.name=e;this.ei=d;this.UD=1;this.Hm=!0;var f=this.bi={},b=this.ux={},c={};this.Ip=null;var g=this,h=!1;b.console_log=[function(a){console.log(a)}];b.console_error=[function(b){a.utils.error(b)}];b.workerLoaded=[function(){}];b.worker_restart=[function(b){var c=d,e=Y[c];setTimeout(function(){c.removeEventListener("message",e);c.terminate();c=null},5E3);g.qk=new Worker(b.location);g.Ri={Jm:[],queue:[],postMessage:function(a,b){this.queue[this.queue.length]={OG:a,
UI:b}}};console.warn("Worker Resize required. Note that changes to PDF documents may be lost.");a.utils.log("I resize "+b.size);g.ei=d=g.Ri;Y[g.qk]=e;g.qk.addEventListener("message",e);c.onerror&&(g.qk.onerror=g.Ri.onerror=c.onerror);g.cu=b.queue;b.queue=null;b.array=new Uint8Array([this.Hm?255:0]);h||(g.replace("test",function(){g.ei=d=g.qk;for(var a=0;a<g.cu.length;++a){var b=g.cu[a];g.postMessage(b)}for(a=0;a<g.Ri.Jm.length;++a)b=g.Ri.Jm[a],g.postMessage(b);for(a=0;a<g.Ri.queue.length;++a)b=g.Ri.queue[a],
g.ei.postMessage(b.OG,b.UI);g.cu=null;g.Ri=null;g.qk=null}),h=!0);g.qk.postMessage({action:"test",data:b})}];b.redirect_request=[function(b){d.Jm?d.Jm[d.Jm.length]=b:(a.utils.log("Redirect Request needed to be posted."),g.postMessage(b))}];d in Y&&d.removeEventListener("message",Y[d]);Y[d]=function(d){function e(a){if(a.message||a.NE){a.message&&(a.message.message&&(a.message=a.message.message));var b=a.NE;a={type:a.type?a.type:"JavascriptError",message:a.message};if(b)for(var c in b)b.hasOwnProperty(c)&&
(a[c]=b[c])}g.postMessage({isReply:!0,callbackId:h.Mx,error:a})}var h=d.data;if(h.isReply)if(d=h.callbackId,d in f){var p=f[d];delete f[d];"error"in h?p.reject(h.error):p.resolve(h.data)}else a.utils.warn("Cannot resolve callback "+d);else if(h.action in b){var r=b[h.action];h.callbackId?Promise.resolve().then(function(){return r[0].call(r[1],h.data)}).then(function(a){g.postMessage({isReply:!0,callbackId:h.callbackId,data:a})},function(a){e(a)}):r[0].call(r[1],h.data)}else h.action in c?(r=c[h.action],
d=createPromiseCapability(),h.callbackId?d.promise.then(function(a){g.postMessage({isReply:!0,callbackId:h.callbackId,data:a});g.Ip()},function(a){e(a);g.Ip()}):d.promise.then(function(){g.Ip()},function(){g.Ip()}),r[0].call(r[1],h,d)):a.utils.error("Unknown action from worker: "+h.action)};d.addEventListener("message",Y[d])};a.uv.prototype={on:function(e,d,f){var b=this.ux;b[e]&&a.utils.error('There is already an actionName called "'+e+'"');b[e]=[d,f]},replace:function(a,d,f){this.ux[a]=[d,f]},send:function(a,
d){this.postMessage({action:a,data:d})},bm:function(){return this.UD++},hb:function(a,d,f){var b=this.bm();a={action:a,data:d,callbackId:b,priority:f};d=createPromiseCapability();this.bi[b]=d;try{this.postMessage(a)}catch(c){d.reject(c)}return d.promise},dq:function(a,d,f){var b=this.bm();a={action:a,data:d,callbackId:b,priority:f};d=createPromiseCapability();this.bi[b]=d;try{this.postMessage(a)}catch(c){d.reject(c)}return{promise:d.promise,Mx:b}},vt:function(e){if(e in this.bi)return this.bi[e];
a.utils.error("Cannot get promise for callback "+e)},XD:function(e){if(e in this.bi){var d=this.bi[e];delete this.bi[e];d.reject({type:"Cancelled",message:"Request has been cancelled."});this.postMessage({action:"actionCancel",data:{callbackId:e}})}else a.utils.warn("Cannot cancel callback "+e)},postMessage:function(a){if(this.Hm){var d=this.OF(a);this.ei.postMessage(a,d)}else this.ei.postMessage(a)},az:function(a,d){if("object"===typeof a)if(a instanceof Uint8Array)d.push(a.buffer);else if(a instanceof
ArrayBuffer)d.push(a);else for(prop in a)a.hasOwnProperty(prop)&&this.az(a[prop],d)},OF:function(a){var d=[];this.az(a,d);return 0==d.length?void 0:d}}})("undefined"===typeof window?this:window);
var Z=this,ba=function(){function a(a,d,f){var b=this;this.eA=null;this.mh=[];this.Sl={};createPromiseCapability();this.nJ=new Promise(function(c,g){if("undefined"!==typeof Worker)try{var h=new Z.uv("main",a);h.Hm=d;b.Ia=h;h.on("test",function(a){a&&a.supportTypedArray?(a.supportTransfers||(h.Hm=!1),b.xI(h),c()):g(new Z.cr("Typed arrays are not supported. Can't start a worker.","error.WorkerInitError"))}.bind(b));var n={array:new Uint8Array([255])};try{f&&(n.size=f),h.send("test",n)}catch(m){info("Cannot use postMessage transfers"),
h.Hm=!1,n.array[0]=0,h.send("test",n)}return}catch(l){g(new Z.cr("The worker has been disabled. This may be the result of using PNaCl on an unsupported browser.","error.PNaClSupportError"))}g(new Z.cr("Can't start a worker","error.WorkerInitError"))})}a.prototype={xk:0,MI:1,Oc:2,ik:3,xI:function(a){this.Ia=a;a.on("GetDoc",function(a){var e=a.$G;this.numPages=a.$G.numPages;a=new PDFDocumentProxy(e,this);this.resolve(a)},this);a.on("DocProgress",function(a){this.eA&&this.eA({loaded:a.loaded,total:a.total})},
this);a.on("PageError",function(a){var e=this.mh[a.pageNum-1].YK[a.intent];e.EE?e.EE.reject(a.error):error(a.error)},this);a.on("event",function(a){if(this.Sl[a.docId])this.Sl[a.docId](a)},this)},addEventListener:function(a,d){this.Sl[a]?error("Event listener already set for "+a):this.Sl[a]=d},aE:function(a){delete this.Sl[a]},PE:function(a,d,f){return this.Ia.hb("NewDoc",{type:a,value:d,extension:f},this.ik)},BG:function(a,d){var f={array:a,workerPath:Z.k.hg()};d&&(f.l=d);return this.Ia.hb("LoadRes",
f,this.ik)},bF:function(a,d,f,b,c,g,h,n){return"undefined"===typeof n?this.Ia.dq("GetCanvas",{docId:a,pageIndex:d,width:f,height:b,rotation:c,layers:g,overprintMode:h},this.xk):this.Ia.dq("GetCanvasPartial",{docId:a,pageIndex:d,width:f,height:b,rotation:c,layers:g,bbox:[n.x1,n.y1,n.x2,n.y2],overprintMode:h},this.xk)},cF:function(a,d,f,b,c,g,h,n,m){return"undefined"===typeof n?this.Ia.dq("GetCanvas",{docId:a,pageIndex:d,width:f,height:b,rotation:c,layers:g,filePath:m,overprintMode:h},this.xk):this.Ia.dq("GetCanvasPartial",
{docId:a,pageIndex:d,width:f,height:b,rotation:c,layers:g,bbox:[n.x1,n.y1,n.x2,n.y2],filePath:m,overprintMode:h},this.xk)},My:function(a,d){return"undefined"!=typeof d?this.Ia.hb("GetCanvasProgressive",{callbackId:a,filePath:d},this.xk):this.Ia.hb("GetCanvasProgressive",{callbackId:a},this.xk)},fe:function(a,d){return this.Ia.hb("LoadText",{docId:a,pageIndex:d},this.MI)},yG:function(a){return this.Ia.hb("LoadBookmarks",{docId:a},this.ik)},Hz:function(a,d){var f={docId:a};d&&(f.pages=d);return this.Ia.hb("LoadAnnotations",
f,this.ik)},xm:function(a,d){return this.Ia.hb("MergeXFDF",{docId:a,xfdf:d},this.Oc)},JH:function(a,d,f){return this.Ia.hb("SaveDoc",{docId:a,xfdfString:d,finishedWithDocument:f},this.Oc)},gH:function(a,d){console.log("[WorkerTransport.printFile] printOptions "+d);return this.Ia.hb("PrintDoc",{docId:a,printOptions:d},this.Oc)},dJ:function(a,d){return this.Ia.hb("UpdatePassword",{docId:a,password:d},this.ik)},rm:function(a,d,f,b){return this.Ia.hb("InsertBlankPages",{docId:a,width:f,height:b,pageArray:d},
this.Oc)},kk:function(a,d,f,b,c){return this.Ia.hb("InsertPages",{docId:a,doc:d,pageArray:f,destPos:b,insertBookmarks:c},this.Oc)},ym:function(a,d,f){return this.Ia.hb("MovePages",{docId:a,pageArray:d,destPos:f},this.Oc)},wk:function(a,d){return this.Ia.hb("RemovePages",{docId:a,pageArray:d},this.Oc)},Om:function(a,d,f){return this.Ia.hb("RotatePages",{docId:a,pageArray:d,rotation:f},this.Oc)},ck:function(a){return this.Ia.hb("GetPDFDoc",{docId:a},this.Oc)},Xj:function(a,d,f){return this.Ia.hb("ExtractPages",
{docId:a,pageArray:d,xfdfString:f},this.Oc)},Tj:function(a,d,f,b,c,g){return this.Ia.hb("CropPages",{docId:a,pageArray:d,topMargin:f,botMargin:b,leftMargin:c,rightMargin:g},this.Oc)},Li:function(a,d){return this.Ia.hb("DownloaderHint",{docId:a,hint:d},this.Oc)},lG:function(a){return this.Ia.hb("IsLinearized",{docId:a},this.Oc)},bk:function(a){return this.Ia.hb("GetLayers",{docId:a},this.Oc)},Wj:function(a,d){return this.Ia.hb("ExtractPDFNetLayersContext",{docId:a,layers:d},this.Oc)},bm:function(){return this.Ia.bm()},
uE:function(a){return this.Ia.hb("DeleteDocument",{docId:a},this.Oc)},Eu:function(a){return this.Ia.hb("SetColorManagement",{value:a},this.ik)},TF:function(){return Z.OB(this.Ia.ei)?"ems":"function"===typeof this.Ia.ei.isNodeJS?"nodejs":"pnacl"},sendWithPromise:function(a,d,f){return this.Ia.hb(a,d,f)},ms:function(a){this.Ia.XD(a)}};return a}();
